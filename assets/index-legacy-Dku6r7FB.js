System.register(["./chakra-legacy-Bvkx6Nj-.js","./react-legacy-D-mjg53m.js"],(function(e,t){"use strict";var n,r,o,a,i,s,l,c,d,u,h,p,f,g,m,v,b,y,x,w,_,k,S,j,C,O,R,z,E,A,L,M,P,I,T,N,B,D,$,V,H,F,U,W,G,Z,K,Y,J,X,q,Q,ee,te,ne,re,oe,ae,ie,se,le,ce,de,ue,he,pe,fe,ge,me,ve,be,ye,xe,we,_e,ke,Se,je,Ce,Oe,Re,ze,Ee,Ae,Le,Me,Pe,Ie,Te,Ne,Be,De,$e,Ve,He,Fe,Ue,We,Ge,Ze,Ke,Ye,Je,Xe,qe,Qe,et,tt,nt,rt,ot,at,it,st,lt,ct;return{setters:[e=>{n=e.u,r=e.a,o=e.j,a=e.P,i=e.c,s=e.F,l=e.f,c=e.n,d=e.b,u=e.d,h=e.e,p=e.B,f=e.D,g=e.I,m=e.g,v=e.h,b=e.S,y=e.i,x=e.W,w=e.k,_=e.l,k=e.m,S=e.C,j=e.o,C=e.p,O=e.q,R=e.T,z=e.r,E=e.s,A=e.t,L=e.v,M=e.w,P=e.x,I=e.y,T=e.A,N=e.M,B=e.z,D=e.E,$=e.G,V=e.H,H=e.J,F=e.K,U=e.L,W=e.N,G=e.O,Z=e.Q,K=e.R,Y=e.U,J=e.V,X=e.X,q=e.Y,Q=e.Z,ee=e._,te=e.$,ne=e.a0,re=e.a1,oe=e.a2,ae=e.a3,ie=e.a4,se=e.a5,le=e.a6,ce=e.a7,de=e.a8,ue=e.a9,he=e.aa,pe=e.ab,fe=e.ac,ge=e.ad,me=e.ae,ve=e.af,be=e.ag,ye=e.ah,xe=e.ai,we=e.aj,_e=e.ak,ke=e.al,Se=e.am,je=e.an,Ce=e.ao,Oe=e.ap,Re=e.aq,ze=e.ar,Ee=e.as,Ae=e.at,Le=e.au,Me=e.av,Pe=e.aw,Ie=e.ax,Te=e.ay,Ne=e.az,Be=e.aA,De=e.aB,$e=e.aC,Ve=e.aD,He=e.aE,Fe=e.aF},e=>{Ue=e.a,We=e.r,Ge=e.b,Ze=e.d,Ke=e.e,Ye=e.f,Je=e.h,Xe=e.u,qe=e.i,Qe=e.j,et=e.k,tt=e.l,nt=e.m,rt=e.n,ot=e.o,at=e.p,it=e.q,st=e.P,lt=e.I,ct=e.H}],execute:function(){var e=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};const t=e=>new Promise((t=>{setTimeout(t,e,`Timeout after ${e/1e3} seconds`)})),dt=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},ut=e=>{const t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t};var ht;!function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(ht||(ht={}));const pt="rmg-runtime__language",ft="rmg-runtime__colourMode",gt="rmg-runtime__allowAnalytics",mt="rmg-unknown";let vt=mt,bt=ut(dt(mt));const yt=()=>`[${vt}]`,xt=()=>bt,wt=(e,t,n)=>(...r)=>{"string"==typeof r[0]?e(`%c${t()}%c ${r[0]}`,`color: ${n()}`,"",...r.slice(1)):e(`%c${t()}%c`,`color: ${n()}`,"",...r)},_t={debug:wt(console.debug,yt,xt),info:wt(console.info,yt,xt),warn:wt(console.warn,yt,xt),error:wt(console.error,yt,xt)},kt=()=>vt===mt?"[runtime]":`[runtime@${vt}]`,St=ut(dt("runtime")),jt=()=>St,Ct={setup:e=>{vt=e,bt=ut(dt(e))},logger:_t,debug:wt(console.debug,kt,jt),info:wt(console.info,kt,jt),warn:wt(console.warn,kt,jt),error:wt(console.error,kt,jt),group:wt(console.group,kt,jt),groupEnd:console.groupEnd};var Ot=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};let Rt,zt,Et,At,Lt;const Mt=()=>{Rt=!1,zt=mt,Et="unknown",At=ht.PRD,Lt="unknown"},Pt=()=>"railmapgen.github.io"===zt;Mt();const It={loadWithTimeout:()=>Ot(void 0,void 0,void 0,(function*(){try{Ct.group("Loading config...");const e=yield Promise.race([Ot(void 0,void 0,void 0,(function*(){const e=window.location.pathname.split("/")[1],t=e?`/${e}/info.json`:"/info.json",n=yield fetch(t);if(!n.ok)throw new Error(`Failed to fetch config from ${t}`);{const e=yield n.json();Ct.info("Received info.json",e),zt=e.component,Et=e.version,At=e.environment,Lt=e.instance}})),t(1e4)]);e?Ct.error("❌ Failed to load config.",e):(Rt=!0,Ct.info("✅ Config loaded!"))}catch(e){Ct.error("❌ Failed to load config.",e)}finally{Ct.groupEnd()}})),isInitialised:()=>Rt,getComponent:()=>Pt()?"rmg-home":zt,getVersion:()=>Et,getEnvironment:()=>At,getInstance:()=>Lt,isRMT:Pt,_resetConfig:Mt};function Tt(...e){if(It.getEnvironment()!==ht.DEV)return window.dataLayer.push(arguments);Ct.info("Not going to send event in DEV environment",e)}window.dataLayer=window.dataLayer||[];const Nt={init:()=>{(()=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e)})(),Tt("js",new Date),Tt("config","G-2HP8Y4MRRQ",{appName:It.getComponent(),version:It.getVersion(),environment:It.getEnvironment(),instance:It.getInstance()})},customEvent:(e,t={})=>{Tt("event",e,t)}},Bt={};let Dt;try{Dt=new BroadcastChannel("rmg-runtime-channel"),Dt.onmessage=e=>{var t;const{event:n,data:r,frameId:o}=e.data;null===(t=Bt[n])||void 0===t||t.forEach((e=>e(r,o)))}}catch(cf){Ct.warn("Failed to initiate broadcast channel. Some features may be unavailable.",cf)}const $t={postEvent:(e,t)=>{var n;Ct.debug(`Broadcasting event ${e} with data`,t),null==Dt||Dt.postMessage({event:e,data:t,frameId:null===(n=window.frameElement)||void 0===n?void 0:n.id})},onMessage:(e,t)=>{var n;e in Bt?null===(n=Bt[e])||void 0===n||n.push(t):Bt[e]=[t]}},Vt="TOGGLE_NAV_MENU",Ht="OPEN_APP",Ft="CLOSE_APP",Ut="UPDATE_APP_METADATA",Wt="UPDATE_URL",Gt=()=>!window.frameElement,Zt={isStandaloneWindow:Gt,injectUITools:()=>{if(!Gt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const e=document.createElement("style");e.textContent=".rmg-window__header:not(.rmg-window__app-clip-header){margin-left: 40px;}",Gt()||(()=>{var e;return!!(null===(e=window.frameElement)||void 0===e?void 0:e.closest(".show-menu"))})()||document.head.appendChild(e),Gt()||$t.onMessage(Vt,(t=>{if(t)try{document.head.removeChild(e)}catch(cf){Ct.warn("Unable to remove indent style from RmgWindowHeader",cf)}else document.head.appendChild(e)}))},openApp:e=>{$t.postEvent(Ht,e)},onAppOpen:e=>{$t.onMessage(Ht,e)},closeApp:e=>{$t.postEvent(Ft,e)},onAppClose:e=>{$t.onMessage(Ft,e)},updateAppMetadata:e=>{$t.postEvent(Ut,e)},onAppMetadataUpdate:e=>{$t.onMessage(Ut,e)},updateUrl:e=>{$t.postEvent(Wt,e)},onUrlUpdate:e=>{$t.onMessage(Wt,e)},toggleNavMenu:e=>{$t.postEvent(Vt,e)}},Kt="SET_LANGUAGE",Yt="SET_COLOUR_MODE",Jt=["light","dark","system"],Xt=()=>"true"===window.localStorage.getItem(gt),qt={setLanguage:e=>{$t.postEvent(Kt,e),window.localStorage.setItem(pt,e)},getLanguage:()=>window.localStorage.getItem(pt)||"en",onLanguageChange:e=>{$t.onMessage(Kt,e)},setColourMode:e=>{Jt.includes(e)&&($t.postEvent(Yt,e),window.localStorage.setItem(ft,e))},getColourMode:()=>{const e=window.localStorage.getItem(ft);return t=e,Boolean(t&&Jt.includes(t))?e:"system";var t},onColourModeChange:e=>{$t.onMessage(Yt,e)},isAnalyticsQADone:()=>null!==window.localStorage.getItem(gt),isAllowAnalytics:Xt,allowAnalytics:e=>{const t=Xt();return e?(t||(window.localStorage.setItem(gt,e.toString()),Nt.init()),{refreshRequired:!1}):t?(window.localStorage.setItem(gt,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},Qt=(new Date).getTime(),en={getMsSinceStartUp:function(){const e=It.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-Qt:(new Date).getTime()-Number(t)}},tn={},nn=()=>{const e=It.getComponent();if(e===mt)throw new Error("Unable to clear storage for unknown app");return e};window.addEventListener("storage",(e=>{var t;const{key:n,newValue:r}=e;n&&(null===(t=tn[n])||void 0===t||t.forEach((e=>e(r))))}));const rn={on:(e,t)=>{var n;const r=`${nn()}__${e}`;r in tn?null===(n=tn[r])||void 0===n||n.push(t):tn[r]=[t]},get:e=>{const t=nn();return window.localStorage.getItem(`${t}__${e}`)},getAll:()=>{const e=nn(),t={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(null==r?void 0:r.startsWith(e+"__")){const e=window.localStorage.getItem(r);e&&(t[r]=e)}n++}return t},set:(e,t)=>{const n=nn();window.localStorage.setItem(`${n}__${e}`,t)},remove:e=>{const t=nn();window.localStorage.removeItem(`${t}__${e}`)},clear:()=>{const e=nn();let t=0;for(;t<window.localStorage.length;){const n=window.localStorage.key(t);(null==n?void 0:n.startsWith(e+"__"))?(window.localStorage.removeItem(n),Ct.info(`Removed item ${n}`)):t++}}},on=e=>"string"==typeof e,an=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},sn=e=>null==e?"":""+e,ln=/###/g,cn=e=>e&&e.indexOf("###")>-1?e.replace(ln,"."):e,dn=e=>!e||on(e),un=(e,t,n)=>{const r=on(t)?t.split("."):t;let o=0;for(;o<r.length-1;){if(dn(e))return{};const t=cn(r[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return dn(e)?{}:{obj:e,k:cn(r[o])}},hn=(e,t,n)=>{const{obj:r,k:o}=un(e,t,Object);if(void 0!==r||1===t.length)return void(r[o]=n);let a=t[t.length-1],i=t.slice(0,t.length-1),s=un(e,i,Object);for(;void 0===s.obj&&i.length;)a=`${i[i.length-1]}.${a}`,i=i.slice(0,i.length-1),s=un(e,i,Object),s&&s.obj&&void 0!==s.obj[`${s.k}.${a}`]&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=n},pn=(e,t)=>{const{obj:n,k:r}=un(e,t);if(n)return n[r]},fn=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?on(e[r])||e[r]instanceof String||on(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):fn(e[r],t[r],n):e[r]=t[r]);return e},gn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vn=e=>on(e)?e.replace(/[&<>"'\/]/g,(e=>mn[e])):e,bn=[" ",",","?","!",";"],yn=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),xn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let o=e;for(let a=0;a<r.length;){if(!o||"object"!=typeof o)return;let e,t="";for(let i=a;i<r.length;++i)if(i!==a&&(t+=n),t+=r[i],e=o[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<r.length-1)continue;a+=i-a+1;break}o=e}return o},wn=e=>e&&e.replace("_","-"),_n={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||_n,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(on(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new kn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new kn(this.logger,e)}}var Sn=new kn;class jn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let o=0;o<r;o++)t(...n)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[r,o]=t;for(let a=0;a<o;a++)r.apply(r,[e,...n])}))}}class Cn extends jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,a=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],n&&(Array.isArray(n)?i.push(...n):on(n)&&o?i.push(...n.split(o)):i.push(n)));const s=pn(this.data,i);return!s&&!t&&!n&&e.indexOf(".")>-1&&(e=i[0],t=i[1],n=i.slice(2).join(".")),!s&&a&&on(n)?xn(this.data&&this.data[e]&&this.data[e][t],n,o):s}addResource(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const a=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(i=e.split("."),r=t,t=i[1]),this.addNamespaces(t),hn(this.data,i,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const o in n)(on(n[o])||Array.isArray(n[o]))&&this.addResource(e,t,o,n[o],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),r=n,n=t,t=i[1]),this.addNamespaces(t);let s=pn(this.data,i)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?fn(s,n,o):s={...s,...n},hn(this.data,i,s),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var On={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,o))})),t}};const Rn={};class zn extends jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(r[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=Sn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const r=bn.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const o=yn.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let a=!o.test(e);if(!a){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(a=!0)}return a})(e,n,r));if(a&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:on(o)?[o]:o};const a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),e=a.join(r)}return{key:e,namespaces:on(o)?[o]:o}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:i}=this.extractFromKey(e[e.length-1],t),s=i[i.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${a}`}return r?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let u=d&&d.res;const h=d&&d.usedKey||a,p=d&&d.exactUsedKey||a,f=Object.prototype.toString.apply(u),g=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!on(u)&&"boolean"!=typeof u&&"number"!=typeof u;if(!(m&&u&&v&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||on(g)&&Array.isArray(u))if(m&&on(g)&&Array.isArray(u))u=u.join(g),u&&(u=this.extendTranslation(u,e,t,n));else{let r=!1,i=!1;const c=void 0!==t.count&&!on(t.count),h=zn.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",g=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=g&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(u)&&h&&(r=!0,u=m),this.isValidLookup(u)||(i=!0,u=a);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:u,b=h&&m!==u&&this.options.updateMissing;if(i||r||b){if(this.logger.log(b?"updateKey":"missingKey",l,s,a,b?m:u),o){const e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const o=h&&r!==u?r:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,o,b,t),this.emit("missingKey",e,s,n,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);g&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],a+n,t[`defaultValue${n}`]||m)}))})):r(e,a,m))}u=this.extendTranslation(u,e,t,d,n),i&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${s}:${a}`),(i||r)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${a}`:a,r?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...t,ns:i}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){const e=Array.isArray(u),n=e?[]:{},r=e?p:h;for(const a in u)if(Object.prototype.hasOwnProperty.call(u,a)){const e=`${r}${o}${a}`;n[a]=this.translate(e,{...t,joinArrays:!1,ns:i}),n[a]===e&&(n[a]=u[a])}u=n}}return r?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,n,r,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i=on(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(i){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&!on(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||r.usedLng,n),i){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return o&&o[0]===r[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):a.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,s=on(i)?[i]:i;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=On.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,o,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return on(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,i),l=s.key;n=l;let c=s.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==i.count&&!on(i.count),u=d&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==i.context&&(on(i.context)||"number"==typeof i.context)&&""!==i.context,p=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(a=e,!Rn[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Rn[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;o=n;const a=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,e,i);else{let e;d&&(e=this.pluralResolver.getSuffix(n,i.count,i));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(a.push(l+e),i.ordinal&&0===e.indexOf(r)&&a.push(l+e.replace(r,this.options.pluralSeparator)),u&&a.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${i.context}`;a.push(n),d&&(a.push(n+e),i.ordinal&&0===e.indexOf(r)&&a.push(n+e.replace(r,this.options.pluralSeparator)),u&&a.push(n+t))}}let s;for(;s=a.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,i))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!on(e.replace);let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const En=e=>e.charAt(0).toUpperCase()+e.slice(1);class An{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Sn.create("languageUtils")}getScriptPartFromCode(e){if(!(e=wn(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=wn(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(on(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(cf){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=En(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=En(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=En(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),on(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return on(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):on(e)&&o(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&o(this.formatLanguageCode(e))})),r}}let Ln=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Mn={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Pn=["v1","v2","v3"],In=["v4"],Tn={zero:0,one:1,two:2,few:3,many:4,other:5};class Nn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=Sn.create("pluralResolver"),this.options.compatibilityJSON&&!In.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Ln.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Mn[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=wn("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const a=new Intl.PluralRules(n,{type:r});return this.pluralRulesCache[o]=a,a}catch(Fc){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>Tn[e]-Tn[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Pn.includes(this.options.compatibilityJSON)}}const Bn=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=((e,t,n)=>{const r=pn(e,n);return void 0!==r?r:pn(t,n)})(e,t,n);return!a&&o&&on(n)&&(a=xn(e,n,r),void 0===a&&(a=xn(t,n,r))),a},Dn=e=>e.replace(/\$/g,"$$$$");class $n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Sn.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:a,suffix:i,suffixEscaped:s,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:f,nestingOptionsSeparator:g,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:vn,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=o?gn(o):a||"{{",this.suffix=i?gn(i):s||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?gn(u):h||gn("$t("),this.nestingSuffix=p?gn(p):f||gn(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let o,a,i;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const o=Bn(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),a=o.shift().trim(),i=o.join(this.formatSeparator).trim();return this.format(Bn(t,s,a,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,{...r,...t,interpolationkey:a})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Dn(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Dn(this.escape(e)):Dn(e)}].forEach((t=>{for(i=0;o=t.regex.exec(e);){const n=o[1].trim();if(a=l(n),void 0===a)if("function"==typeof c){const t=c(e,o,r);a=on(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))a="";else{if(d){a=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else on(a)||this.useRawValueToEscape||(a=sn(a));const s=t.safeValue(a);if(e=e.replace(o[0],s),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,i++,i>=this.maxReplaces)break}})),e}nest(e,t){let n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let a=`{${r[1]}`;e=r[0],a=this.interpolate(a,o);const i=a.match(/'/g),s=a.match(/"/g);(i&&i.length%2==0&&!s||s.length%2!=0)&&(a=a.replace(/'/g,'"'));try{o=JSON.parse(a),t&&(o={...t,...o})}catch(cf){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,cf),`${e}${n}${a}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let s=[];o={...a},o=o.replace&&!on(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(i.call(this,n[1].trim(),o),o),r&&n[0]===e&&!on(r))return r;on(r)||(r=sn(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Vn=e=>{const t={};return(n,r,o)=>{let a=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(a={...a,[o.interpolationkey]:void 0});const i=r+JSON.stringify(a);let s=t[i];return s||(s=e(wn(r),o),t[i]=s),s(n)}};class Hn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=Sn.create("formatter"),this.options=e,this.formats={number:Vn(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:Vn(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:Vn(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:Vn(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:Vn(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Vn(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find((e=>e.indexOf(")")>-1))){const e=o.findIndex((e=>e.indexOf(")")>-1));o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce(((e,t)=>{const{formatName:o,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();n[a]||(n[a]=o),"false"===o&&(n[a]=!1),"true"===o&&(n[a]=!0),isNaN(o)||(n[a]=parseInt(o,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[o]){let t=e;try{const i=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=i.locale||i.lng||r.locale||r.lng||n;t=this.formats[o](e,s,{...a,...r,...i})}catch(i){this.logger.warn(i)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class Fn extends jn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Sn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const o={},a={},i={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const i=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===a[i]&&(a[i]=!0):(this.state[i]=1,r=!1,void 0===a[i]&&(a[i]=!0),void 0===o[i]&&(o[i]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(i[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),o=r[0],a=r[1];t&&this.emit("failedLoading",o,a,t),!t&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach((n=>{((e,t,n,r)=>{const{obj:o,k:a}=un(e,t,Object);o[a]=o[a]||[],o[a].push(n)})(n.loaded,[o],a),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{i[e]||(i[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===i[e][t]&&(i[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:a});this.readingCalls++;const i=(i,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*o,a)}),o):a(i,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,i);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>i(null,e))).catch(i):i(null,n)}catch(Fc){i(Fc)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();on(e)&&(e=this.languageUtils.toResolveHierarchy(e)),on(t)&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,((n,a)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,n),!n&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,a),this.loaded(e,n,a)}))}saveMissing(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...a,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,n,r,s):l(e,t,n,r),o&&"function"==typeof o.then?o.then((e=>i(null,e))).catch(i):i(null,o)}catch(Fc){i(Fc)}else l(e,t,n,r,i,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const Un=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),on(e[1])&&(t.defaultValue=e[1]),on(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Wn=e=>(on(e.ns)&&(e.ns=[e.ns]),on(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),on(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Gn=()=>{};class Zn extends jn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Wn(e),this.services={},this.logger=Sn,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(on(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Un();this.options={...r,...this.options,...Wn(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?Sn.init(o(this.modules.logger),this.options):Sn.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Hn);const n=new An(this.options);this.store=new Cn(this.options.resources,this.options);const a=this.services;a.logger=Sn,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new Nn(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=o(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new $n(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Fn(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new zn(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Gn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const a=an(),i=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?i():setTimeout(i,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn;const n=on(e)?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?r(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e))),this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=an();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Gn),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&On.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=an();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(o(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},i=t=>{e||t||!this.services.languageDetector||(t=[]);const n=on(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{a(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const o=function(e,t){let a;if("object"!=typeof t){for(var i=arguments.length,s=new Array(i>2?i-2:0),l=2;l<i;l++)s[l-2]=arguments[l];a=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else a={...t};a.lng=a.lng||o.lng,a.lngs=a.lngs||o.lngs,a.ns=a.ns||o.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||n||o.keyPrefix);const c=r.options.keySeparator||".";let d;return d=a.keyPrefix&&Array.isArray(e)?e.map((e=>`${a.keyPrefix}${c}${e}`)):a.keyPrefix?`${a.keyPrefix}${c}${e}`:e,r.t(d,a)};return on(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const a=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(n,e)||r&&!a(o,e)))}loadNamespaces(e,t){const n=an();return this.options.ns?(on(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=an();on(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return o.length?(this.options.preload=r.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new An(Un());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Zn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gn;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new Zn(r);return void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new Cn(this.store.data,r),o.services.resourceStore=o.store),o.translator=new zn(o.services,r),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit(e,...n)})),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Kn=Zn.createInstance();let Yn;Kn.createInstance=Zn.createInstance,Kn.createInstance,Kn.dir,Kn.init,Kn.loadResources,Kn.reloadResources,Kn.use,Kn.changeLanguage,Kn.getFixedT,Kn.t,Kn.exists,Kn.setDefaultNamespace,Kn.hasLoadedNamespace,Kn.loadNamespaces,Kn.loadLanguages;var Jn=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(cf){a(cf)}}function s(e){try{l(r.throw(e))}catch(cf){a(cf)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};let Xn={};const qn="LOAD_REMOTE_FONT",Qn=e=>e.source.startsWith("local"),er=(e,t)=>{var n;return`@font-face {\n    font-family: '${e}';\n    src: ${t.source};\n    ${Object.entries(null!==(n=t.descriptors)&&void 0!==n?n:{}).map((([e,t])=>`${e}: ${t};`)).join("\n")}\n}`};let tr=(t=>{let n,r=!1;return o=>e(void 0,void 0,void 0,(function*(){return!n||!r&&o?(n=t(),r=!0,n.then((e=>(r=!1,e))).catch((e=>{throw n=null,e}))):n}))})((()=>fetch("/fonts/config.json").then((e=>e.json()))));const nr=(e,t,n)=>Jn(void 0,void 0,void 0,(function*(){try{const r=new FontFace(e,t.source,t.descriptors);return Qn(t)?yield r.load():r.loaded.then(n),document.fonts.add(r),Xn[e]={configs:[Object.assign(Object.assign({},t),{font:r})]},!0}catch(cf){return Ct.warn(`Failed to load font ${e} with source ${t.source}`,cf),!1}})),rr=(e,t,n)=>Jn(void 0,void 0,void 0,(function*(){if(t.some(Qn))return Ct.error(`Unable to load multiple FontFace for the same family ${e}`),!1;const r=[];return t.forEach((t=>{const o=new FontFace(e,t.source,t.descriptors);o.loaded.then(n),document.fonts.add(o),r.push(Object.assign(Object.assign({},t),{font:o}))})),Xn[e]={configs:r},!0})),or={getAllFonts:tr,getLoadedFonts:()=>Xn,loadFont:(e,t)=>Jn(void 0,void 0,void 0,(function*(){if(e in Xn)return Xn[e];let n;if(t)n=t;else try{n=(yield tr())[e]}catch(cf){const n=cf instanceof Error?" due to "+cf.message:"";throw new Error("Unable to load font definition of "+e+n)}const r=()=>{((e,t)=>{$t.postEvent(qn,{family:e,definition:t})})(e,n)};for(const t of n.configs)if(Array.isArray(t)?yield rr(e,t,r):yield nr(e,t,r))break;const o=Xn[e];return o?(o.displayName=n.displayName,o.url=n.url,Xn[e]):void 0})),getFontCSS:e=>Jn(void 0,void 0,void 0,(function*(){const t=Xn[e];if(!t)throw new Error(`Font family ${e} is not loaded`);const n=yield Promise.all(t.configs.filter((t=>{const n="loaded"===t.font.status;return n||Ct.warn(`Font family ${e} is not loaded completely. Some FontFaceRules may be missing`),n})).map((t=>Jn(void 0,void 0,void 0,(function*(){if(Qn(t))return er(e,t);const n=(e=>{var t;const n=null===(t=e.source.match(/url\(['"](\S+)['"]\)/))||void 0===t?void 0:t[1];if(!n)throw new Error("Invalid URL in source "+e.source);return new URL(n,window.location.href)})(t),r=yield fetch(n),o=yield(a=yield r.blob(),new Promise((e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(a)})));var a;return er(e,Object.assign(Object.assign({},t),{source:`url('${o}')`}))})))));return n.join("\n\n")})),onRemoteFontLoaded:e=>{$t.onMessage(qn,e)}},ar=()=>{if("PRD"!==It.getEnvironment()||!It.isRMT())if(document.querySelector('meta[name="robots"]'))Ct.info("Noindex meta tag already presents.");else{Ct.info("Injecting noindex meta tag as this app is not PRD RMT.");const e=document.createElement("meta");e.name="robots",e.content="noindex",document.head.appendChild(e)}};var ir=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(cf){a(cf)}}function s(e){try{l(r.throw(e))}catch(cf){a(cf)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))};let sr=!1;const lr={ready:()=>ir(void 0,void 0,void 0,(function*(){let e=0;for(;e<=10&&!sr;)yield t(1e3),e+=1})),getAppName:It.getComponent,getAppVersion:It.getVersion,getEnv:It.getEnvironment,getInstance:It.getInstance,event:Nt.customEvent,isStandaloneWindow:Zt.isStandaloneWindow,injectUITools:Zt.injectUITools,openApp:Zt.openApp,onAppOpen:Zt.onAppOpen,closeApp:Zt.closeApp,onAppClose:Zt.onAppClose,updateAppMetadata:Zt.updateAppMetadata,onAppMetadataUpdate:Zt.onAppMetadataUpdate,updateUrl:Zt.updateUrl,onUrlUpdate:Zt.onUrlUpdate,toggleNavMenu:Zt.toggleNavMenu,postEvent:$t.postEvent,onMessage:$t.onMessage,setLanguage:qt.setLanguage,getLanguage:qt.getLanguage,onLanguageChange:qt.onLanguageChange,setColourMode:qt.setColourMode,getColourMode:qt.getColourMode,onColourModeChange:qt.onColourModeChange,isAnalyticsQADone:qt.isAnalyticsQADone,isAllowAnalytics:qt.isAllowAnalytics,allowAnalytics:qt.allowAnalytics,storage:{on:rn.on,get:rn.get,getAll:rn.getAll,set:rn.set,remove:rn.remove,clear:rn.clear},getMsSinceStartUp:en.getMsSinceStartUp,I18nBuilder:class{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return Kn.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach((([e,t])=>{this._defaultResources[e]=t})),this}withResource(e,t){return this._resources[e]=t,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach((([t,n])=>{e[t]={translation:n}})),Object.entries(this._resources).forEach((([t,n])=>{t in e?e[t].translation=Object.assign(Object.assign({},e[t].translation),n):e[t]={translation:n}})),e}build(){return Yn=Kn.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},((e,t)=>{var n;e?Ct.error("unexpected error occurs while initialising i18n",e):(document.title=t(this._appName),document.documentElement.lang=null!==(n=this._lng)&&void 0!==n?n:"en")})),Yn.on("languageChanged",(e=>{document.title=Yn.t(this._appName),document.documentElement.lang=e})),(e=>{qt.onLanguageChange((t=>e.changeLanguage(t)))})(Yn),Yn}},getI18nInstance:()=>Yn,getAllFonts:or.getAllFonts,getLoadedFonts:or.getLoadedFonts,loadFont:or.loadFont,getFontCSS:or.getFontCSS,onRemoteFontLoaded:or.onRemoteFontLoaded};var cr;ir(void 0,void 0,void 0,(function*(){yield It.loadWithTimeout(),Ct.setup(It.getComponent()),ar(),qt.isAnalyticsQADone()?qt.isAllowAnalytics()&&(Ct.info("User has previously allowed GA"),Nt.init()):Zt.isStandaloneWindow()&&!It.isRMT()&&(Ct.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),Nt.init()),sr=!0})).then(),window.rmgRuntime=lr;var dr=Ue;cr=dr.createRoot,dr.hydrateRoot;var ur=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),hr="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,pr="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),fr="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(pr):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},gr=["top","right","bottom","left","width","height","size","weight"],mr="undefined"!=typeof MutationObserver,vr=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&s()}function i(){fr(a)}function s(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){hr&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){hr&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;gr.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),br=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},yr=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||pr},xr=Cr(0,0,0,0);function wr(e){return parseFloat(e)||0}function _r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+wr(e["border-"+n+"-width"])}),0)}function kr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return xr;var r=yr(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=wr(a)}return t}(r),a=o.left+o.right,i=o.top+o.bottom,s=wr(r.width),l=wr(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=_r(r,"left","right")+a),Math.round(l+i)!==n&&(l-=_r(r,"top","bottom")+i)),!function(e){return e===yr(e).document.documentElement}(e)){var c=Math.round(s+a)-t,d=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(d)&&(l-=d)}return Cr(o.left,o.top,s,l)}var Sr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof yr(e).SVGGraphicsElement}:function(e){return e instanceof yr(e).SVGElement&&"function"==typeof e.getBBox};function jr(e){return hr?Sr(e)?function(e){var t=e.getBBox();return Cr(0,0,t.width,t.height)}(e):kr(e):xr}function Cr(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Or=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Cr(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=jr(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Rr=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return br(i,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),i}(t);br(this,{target:e,contentRect:n})},zr=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ur,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof yr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Or(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof yr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Rr(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Er="undefined"!=typeof WeakMap?new WeakMap:new ur,Ar=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=vr.getInstance(),r=new zr(t,n,this);Er.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Ar.prototype[e]=function(){var t;return(t=Er.get(this))[e].apply(t,arguments)}}));var Lr=void 0!==pr.ResizeObserver?pr.ResizeObserver:Ar;window.ResizeObserver||(window.ResizeObserver=Lr);var Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mr.apply(this,arguments)},Pr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ir=function(e){var t=e.isOpen,l=e.onClose,c=e.children,d=e.sx,u=e.size,h=e.zIndex,p=Pr(e,["isOpen","onClose","children","sx","size","zIndex"]),f=n("RmgAppClip",{size:u,zIndex:null!=h?h:1500}),g=We.useRef(null);return r({ref:g,handler:l}),o.jsx(a,{children:o.jsxs(i.div,Mr({className:t?"show-app-clip":"",sx:f},p,{children:[o.jsx("div",{className:"rmg-app-clip__overlay"}),o.jsx(s,{isDisabled:!t,children:o.jsx("div",{className:"rmg-app-clip__container",children:o.jsx(i.section,{ref:g,role:"dialog",className:"rmg-app-clip__content",sx:d,children:c})})})]}))})},Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Br,Dr={exports:{}},$r={};
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */Dr.exports=function(){if(Br)return $r;Br=1;var e=Ge,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(e,n,i){var s,l={},c=null,d=null;for(s in void 0!==i&&(c=""+i),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)r.call(n,s)&&!a.hasOwnProperty(s)&&(l[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps)void 0===l[s]&&(l[s]=n[s]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:o.current}}return $r.Fragment=n,$r.jsx=i,$r.jsxs=i,$r}();var Vr=Dr.exports;const[Hr,Fr]=function(){const e=We.createContext(void 0);return e.displayName="AutoCompleteContext",[e.Provider,function t(){var n;const r=We.useContext(e),o="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!r){const e=new Error(o);throw e.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,e,t),e}return r},e]}();function Ur(e){return null!=e&&e.length?e[e.length-1]:void 0}function Wr(e,t,n=1,r=!0){if(0===t)return-1;let o=e+n;return-1===e&&(o=n>0?0:t-1),o=r?(o%t+t)%t:Math.max(0,Math.min(o,t-1)),o}function Gr(e,t,n=!0){const r=function(e,t,n=!0){return Wr(e,t,-1,n)}(e,t.length,n);return t[r]}function Zr(e){return Array.isArray(e)}function Kr(e){return null!==e&&"object"==typeof e&&!Zr(e)}function Yr(e){return Zr(e)?function(e){return Zr(e)&&0===e.length}(e):Kr(e)?function(e){return Kr(e)&&0===Object.keys(e).length}(e):null==e||""===e}function Jr(e){return typeof e>"u"}function Xr(e){return typeof e<"u"}function qr(e,t){const n={...e};return t.forEach((e=>{delete n[e]})),n}function Qr(e,...t){return function(e){return"function"==typeof e}(e)?e(...t):e}var eo=function(e,t){for(var n,r=0,o=We.Children.toArray(e);r<o.length;r++){var a=o[r];if(t(a))return a;if(null!==(n=a.props)&&void 0!==n&&n.children){var i=eo(a.props.children,t);if(i)return i}}},to=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},no=function(e,t){for(var n,r=[],o=0,a=We.Children.toArray(e);o<a.length;o++){var i=a[o];t(i)&&(r=to(to([],r),[i])),null!==(n=i.props)&&void 0!==n&&n.children&&(r=to(to([],r),no(i.props.children,t)))}return r};function ro(e,t,n=2){function r(e,t){e=" ".repeat(t-1)+e.toLowerCase()+" ".repeat(t-1);let n=new Array(e.length-t+1);for(let r=0;r<n.length;r++)n[r]=e.slice(r,r+t);return n}if(null==e||!e.length||null==t||!t.length)return 0;let o=e.length<t.length?e:t,a=e.length<t.length?t:e,i=r(o,n),s=r(a,n),l=new Set(i),c=s.length,d=0;for(let u of s)l.delete(u)&&d++;return d/c}const oo=e=>{var t;return null==(t="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:t.toString()},ao=(e,t)=>"string"!=typeof e||Yr(t)?e:e.toString().replace(new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),"gi"),(e=>`<mark>${e}</mark>`)),io=(e,t,n)=>(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==n?void 0:n.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||ro(e,t)>=.5||ro(e,n)>=.5,so=(e,t)=>eo(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),lo=(e,t)=>eo(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),co=(e,t)=>{const n={},r={},{field:o}=e;return o&&Object.keys(o).forEach((e=>{if(!1===e.startsWith("--input"))n[e]=o[e];else{let t=o[e];const n=e.replace("--input-","").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));-1!==t.indexOf(".")&&(t=t.substring(t.indexOf(".")+1)),r[n]=t}})),{...t&&{...n,...r,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function uo(e){var t,n;let{prefocusFirstItem:r=!0,closeOnBlur:o=!0,creatable:a,emphasize:i,emptyState:s=!0,defaultEmptyStateProps:l={},freeSolo:c,isReadOnly:d,listAllValuesOnFocus:u,maxSuggestions:h,multiple:p,closeOnSelect:f=!p,defaultValue:g,defaultValues:m=(g?[g]:[]),onReady:v,defaultIsOpen:b,disableFilter:y,isLoading:x=!1,placement:w="bottom",restoreOnBlurIfEmpty:_=!c,shouldRenderSuggestions:k=(()=>!0),submitKeys:S=[],suggestWhenEmpty:R,value:z,values:E=(z?"string"==typeof z?[z]:[...z]:void 0)}=e;c=c||!!p||e.freeSolo;const{isOpen:A,onClose:L,onOpen:M}=j({defaultIsOpen:b}),P=We.useMemo((()=>Qr(e.children,{isOpen:A,onClose:L,onOpen:M})),[e.children,A]),I=We.useMemo((()=>(e=>no(e,(e=>{var t;return"AutoCompleteItem"===(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})).map((e=>{const t=function(e,t){const n={};return["value","label","fixed","disabled"].forEach((t=>{t in e&&(n[t]=e[t])})),n}(e.props),{getValue:n=oo}=e.props,r=n(t.value);return{...Xr(t.label)?t:{...t,label:r},value:r,originalValue:t.value}})))(P)),[P]),T=We.useRef(null),N=We.useRef(null),B=We.useRef(null),D=We.useRef(null),[$,V]=We.useState(!1);let H="";p?H="":Jr(m)?Jr(E)||(H=E[0]):H=m[0];const[F,U]=We.useState(null!==(t=H)&&void 0!==t?t:""),W=We.useMemo((()=>y?I:I.filter((t=>t.fixed||Qr(e.filter||io,F,t.value,t.label)||$)).filter(((e,t)=>!h||e.fixed||t<h))),[F,I,$,h,y]),G=a?[{value:F,noFilter:!0,creatable:!0}]:[],Z=We.useMemo((()=>[...W,...G]),[W,G]),[K,Y]=C({defaultValue:m.map((e=>null==e?void 0:e.toString())),value:E,onChange:t=>{const n=Z.find((e=>e.value===t[0]));if(!n)return;const r=t.map((e=>Z.find((t=>t.value===e))));Qr(e.onChange,p?t:t[0],p?r:n)}});We.useEffect((()=>{0===Z.length&&!s&&A&&L()}),[Z.length,s,A]);const[J,X]=We.useState(r?null==(n=I[0])?void 0:n.value:null),q=e.maxSelections||K.length+1,Q=Z.findIndex((e=>e.value===J)),ee=function(e,t,n=!0){return t[Wr(e,t.length,1,n)]}(Q,Z,!!e.rollNavigation),te=Gr(Q,Z,!!e.rollNavigation),ne=function(e){return null==e?void 0:e[0]}(Z),re=Ur(Z),oe=!Z.some((e=>e.value===J));We.useEffect((()=>{var e;oe&&X(r?null==(e=I[0])?void 0:e.value:null)}),[oe]),O((()=>{r&&X(null==ne?void 0:ne.value)}),[F,null==ne?void 0:ne.value]),We.useEffect((()=>{var e;!A&&r&&X(null==(e=I[0])?void 0:e.value)}),[A]),We.useEffect((()=>{A&&u&&V(!0)}),[A,u,V]),We.useEffect((()=>{const t=I.find((e=>e.value===J));Qr(e.onOptionFocus,{item:t,focusMethod:D.current,isNewInput:null==t?void 0:t.creatable})}),[J,e.onOptionFocus]);const ae=t=>{var n,r;const o=Z.find((e=>e.value===t)),a=(null==o?void 0:o.label)||(null==o?void 0:o.value);U((()=>p?"":null!=a?a:"")),!K.includes(t)&&K.length<q&&Y((e=>p?[...e,t]:[t])),p&&(null==(n=T.current)||n.focus()),e.focusInputOnSelect&&(null==(r=T.current)||r.focus()),Qr(e.onSelectOption,{item:o,selectMethod:D.current,isNewInput:null==o?void 0:o.creatable}),null!=o&&o.creatable&&Qr(e.onCreateOption,{item:qr(o,["noFilter"]),selectMethod:D.current}),f&&L()},ie=(t,n)=>{var r;Y((n=>{const r=I.find((e=>e.value===t));return r?(Qr(e.onTagRemoved,t,r,n),n.filter((e=>e!==t))):n}));const o=I.find((e=>e.value===t)),a=(null==o?void 0:o.label)||(null==o?void 0:o.value);F===a&&U(""),n&&(null==(r=T.current)||r.focus())},se=p?K.map((e=>{var t;return{label:(null==(t=I.find((t=>t.value===(null==e?void 0:e.toString()))))?void 0:t.label)||e,onRemove:()=>ie(e)}})):[];return We.useEffect((()=>{Qr(v,{tags:se})}),[K]),{autoCompleteProps:e,children:P,filteredList:Z,filteredResults:W,focusedValue:J,defaultEmptyStateProps:l,getEmptyStateProps:e=>{if(Z.every((e=>e.noFilter))&&s&&!a)return"boolean"==typeof s?e:Qr(s,{query:F})},getGroupProps:e=>{const t=((e,t)=>Xr(eo(e,(e=>{var n,r;const o=Qr((null==(n=e.props)?void 0:n.getValue)||oo,(null==(r=e.props)?void 0:r.value)||{});return t.some((e=>e.value===o))}))))(e.children,Z);return{divider:{hasFirstChild:so(e.children,ne),hasLastChild:lo(e.children,Ur(Z.filter((e=>Jr(null==e?void 0:e.noFilter)))))},group:{display:t?"initial":"none"}}},getInputProps:(t,n)=>{const{onBlur:r,onChange:a,onFocus:i,onKeyDown:s,variant:l,...c}=t;return{wrapper:{ref:N,onClick:()=>{var e;null==(e=null==T?void 0:T.current)||e.focus()},...co(n,p),...c},input:{isReadOnly:d,onFocus:t=>{Qr(i,t),e.openOnFocus&&!d&&M(),e.selectOnFocus&&t.target.select(),u&&V(!0)},onBlur:e=>{var t,n;Qr(r,e);const a=e.relatedTarget===(null==B?void 0:B.current)||(null==(t=B.current)?void 0:t.contains(e.relatedTarget)),i=null==(n=N.current)?void 0:n.contains(e.relatedTarget);if(!a&&!i&&(o&&L(),!K.includes(e.target.value)&&_)){const e=Ur(K),t=I.find((t=>t.value===e)),n=(null==t?void 0:t.label)||(null==t?void 0:t.value)||"";U(n)}},onChange:e=>{const t=e.target.value;Qr(a,e),U(t);const n=Yr(t);!Qr(k,t)||n&&!R?L():M(),V(!1)},onKeyDown:e=>{var t;Qr(s,e),D.current="keyboard";const{key:n}=e,r=Z[Q];return["Enter",...S].includes(n)?(!r||null!=r&&r.disabled||!A?null==(t=T.current)||t.focus():ae(null==r?void 0:r.value),void e.preventDefault()):"ArrowDown"===n?(A?X(null==ee?void 0:ee.value):M(),void e.preventDefault()):"ArrowUp"===n?(A?X(null==te?void 0:te.value):M(),void e.preventDefault()):"Tab"!==n?"Home"===n?(X(null==ne?void 0:ne.value),void e.preventDefault()):"End"===n?(X(null==re?void 0:re.value),void e.preventDefault()):void("Escape"===n&&(L(),e.preventDefault())):void(!A||!r||null!=r&&r.disabled?L():ae(null==r?void 0:r.value))},value:F,variant:p?"unstyled":l,...c}}},getItemProps:(e,t)=>{var n;const{_fixed:r,_focus:o,children:a,disabled:s,label:l,value:c,fixed:d,getValue:u=oo,onClick:h,onMouseOver:p,sx:f,...g}=e,m=t?c:null==(n=u(c))?void 0:n.toString(),v=m===J,b=Z.findIndex((e=>e.value===m))>=0,y=a||l||m;return{item:{..."string"==typeof y&&i?{dangerouslySetInnerHTML:{__html:ao(y,F)}}:{children:y},"aria-selected":K.includes(m),"aria-disabled":s,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var t;Qr(h,e),s?null==(t=T.current)||t.focus():ae(m)},onMouseOver:e=>{Qr(p,e),X(m),D.current="mouse"},sx:{...f,mark:{color:"inherit",bg:"transparent",...Kr(i)?i:{fontWeight:i?"extrabold":"inherit"}}},...v&&(o||{bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),...d&&r,...g},root:{isValidSuggestion:b,value:m}}},inputRef:T,interactionRef:D,isLoading:x,isOpen:A,itemList:I,listRef:B,onClose:L,onOpen:M,placement:w,query:F,removeItem:ie,resetItems:e=>{var t;Y([]),e&&(null==(t=T.current)||t.focus())},setQuery:U,tags:se,value:z,values:K}}const ho=l(((e,t)=>{const n=uo(e),{children:r,isOpen:o,onClose:a,onOpen:s,placement:l,resetItems:c,removeItem:u}=n;We.useImperativeHandle(t,(()=>({resetItems:c,removeItem:u})));const{matchWidth:h=!0}=n.autoCompleteProps;return Vr.jsx(Hr,{value:n,children:Vr.jsx(d,{isLazy:!0,isOpen:o,onClose:a,onOpen:s,autoFocus:!1,placement:l,closeOnBlur:!0,matchWidth:h,children:Vr.jsx(i.div,{w:"full",ref:t,children:r})})})}));ho.displayName="AutoComplete";const po=l(((e,t)=>{const{focusedValue:n,getItemProps:r,interactionRef:o}=Fr(),a=We.useRef(),i=u(t,a),s=r(e),{isValidSuggestion:l,value:c}=s.root,d=n===c;We.useEffect((()=>{var e;d&&"keyboard"===o.current&&(null==(e=null==a?void 0:a.current)||e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),[d,o]),We.useEffect((()=>{"string"!=typeof c&&console.warn("wow"),"string"!=typeof c&&Jr(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")}),[]);const{children:p,dangerouslySetInnerHTML:f,...g}=s.item,m=qr(g,["groupId"]);return l?Vr.jsx(h,{ref:i,...fo,...m,children:p||Vr.jsx("span",{dangerouslySetInnerHTML:f})}):null}));po.displayName="AutoCompleteItem";const fo={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},go=l(((e,t)=>{const{children:n,showDivider:r,...o}=e,a=qr(o,["groupSibling"]),{getGroupProps:i}=Fr(),{group:s}=i(e),l=bo(e);return Vr.jsxs(p,{ref:t,...s,...a,children:[Vr.jsx(f,{...l.top}),n,Vr.jsx(f,{...l.bottom})]})})),mo=l(((e,t)=>Vr.jsx(h,{...vo,...e,ref:t})));go.displayName="AutoCompleteGroup",mo.displayName="AutoCompleteGroupTitle";const vo={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},bo=e=>{const{getGroupProps:t}=Fr(),n=e.groupSibling,{divider:{hasFirstChild:r,hasLastChild:o}}=t(e),a={my:2,borderColor:e.dividerColor};return{top:{...a,mb:4,display:!e.showDivider||r?"none":""},bottom:{...a,display:!e.showDivider||o||n?"none":""}}},yo=l(((e,t)=>{const{isLoading:n}=Fr(),{loadingIcon:r,...o}=e;return Vr.jsxs(g,{children:[Vr.jsx(m,{...o,ref:t}),n&&Vr.jsx(v,{children:r||Vr.jsx(b,{})})]})})),xo=l(((e,t)=>{const{autoCompleteProps:n,inputRef:r,getInputProps:o,tags:a,setQuery:i,value:s,itemList:l}=Fr(),{children:c,isInvalid:d,hidePlaceholder:h,...p}=e,{value:f}=p;We.useEffect((()=>{if(void 0!==s&&("string"==typeof s||s instanceof String)){const e=l.find((e=>e.value===s)),t=void 0===e?s:e.label;i(t)}}),[s]),We.useEffect((()=>{void 0!==f&&("string"==typeof f||f instanceof String)&&i(f)}),[f]);const g=y("Input",e);let{wrapper:m,input:v}=o(p,g);const{ref:b,...k}=m,S=u(t,r),j=Qr(c,{tags:a});h&&(v={...v,placeholder:Array.isArray(j)&&j.length?void 0:v.placeholder});const C=Vr.jsx(yo,{isInvalid:d,...v,ref:S}),O=Vr.jsxs(x,{"aria-invalid":d,...k,ref:b,children:[j,Vr.jsx(w,{as:yo,...v,ref:S})]});return Vr.jsx(_,{children:n.multiple?O:C})}));xo.displayName="Input",xo.id="Input";var wo=We.createContext({});function _o(){const e=We.useContext(wo);if(void 0===e)throw new Error("useColorMode must be used within a ColorModeProvider");return e}function ko(){const e=_o(),t=function(){const e=We.useContext(R);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return{...e,theme:t}}wo.displayName="ColorModeContext";var So=(...e)=>e.filter(Boolean).join(" ");function jo(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)&&!Array.isArray(e)}function Co(e,...t){return Oo(e)?e(...t):e}var Oo=e=>"function"==typeof e,Ro={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",a="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",l="[object Null]",c="[object Object]",d="[object Proxy]",u="[object Undefined]",h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f[i]=f["[object Map]"]=f["[object Number]"]=f[c]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var g,m="object"==typeof Tr&&Tr&&Tr.Object===Object&&Tr,v="object"==typeof self&&self&&self.Object===Object&&self,b=m||v||Function("return this")(),y=t&&!t.nodeType&&t,x=y&&e&&!e.nodeType&&e,w=x&&x.exports===y,_=w&&m.process,k=function(){try{return x&&x.require&&x.require("util").types||_&&_.binding&&_.binding("util")}catch{}}(),S=k&&k.isTypedArray,j=Array.prototype,C=Function.prototype,O=Object.prototype,R=b["__core-js_shared__"],z=C.toString,E=O.hasOwnProperty,A=(g=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",L=O.toString,M=z.call(Object),P=RegExp("^"+z.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=w?b.Buffer:void 0,T=b.Symbol,N=b.Uint8Array;I&&I.allocUnsafe;var B=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),D=Object.create,$=O.propertyIsEnumerable,V=j.splice,H=T?T.toStringTag:void 0,F=function(){try{var e=fe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),U=I?I.isBuffer:void 0,W=Math.max,G=Date.now,Z=fe(b,"Map"),K=fe(Object,"create"),Y=function(){function e(){}return function(t){if(!Ce(t))return{};if(D)return D(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new X(e);this.size=t.size}function ee(e,t){var n=we(e),r=!n&&xe(e),o=!n&&!r&&ke(e),a=!n&&!r&&!o&&Re(e),i=n||r||o||a,s=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ge(c,l))||s.push(c);return s}function te(e,t,n){(void 0!==n&&!ye(e[t],n)||void 0===n&&!(t in e))&&oe(e,t,n)}function ne(e,t,n){var r=e[t];(!E.call(e,t)||!ye(r,n)||void 0===n&&!(t in e))&&oe(e,t,n)}function re(e,t){for(var n=e.length;n--;)if(ye(e[n][0],t))return n;return-1}function oe(e,t,n){"__proto__"==t&&F?F(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}J.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},J.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},J.prototype.get=function(e){var t=this.__data__;if(K){var r=t[e];return r===n?void 0:r}return E.call(t,e)?t[e]:void 0},J.prototype.has=function(e){var t=this.__data__;return K?void 0!==t[e]:E.call(t,e)},J.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=K&&void 0===t?n:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=re(t,e);return!(n<0||(n==t.length-1?t.pop():V.call(t,n,1),--this.size,0))},X.prototype.get=function(e){var t=this.__data__,n=re(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return re(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,r=re(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},q.prototype.clear=function(){this.size=0,this.__data__={hash:new J,map:new(Z||X),string:new J}},q.prototype.delete=function(e){var t=pe(this,e).delete(e);return this.size-=t?1:0,t},q.prototype.get=function(e){return pe(this,e).get(e)},q.prototype.has=function(e){return pe(this,e).has(e)},q.prototype.set=function(e,t){var n=pe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new X,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!Z||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new q(r)}return n.set(e,t),this.size=n.size,this};var ae=function(e,t,n){for(var r=-1,o=Object(e),a=n(e),i=a.length;i--;){var s=a[++r];if(!1===t(o[s],s,o))break}return e};function ie(e){return null==e?void 0===e?u:l:H&&H in Object(e)?function(e){var t=E.call(e,H),n=e[H];try{e[H]=void 0;var r=!0}catch{}var o=L.call(e);return r&&(t?e[H]=n:delete e[H]),o}(e):function(e){return L.call(e)}(e)}function se(e){return Oe(e)&&ie(e)==o}function le(e){return!(!Ce(e)||function(e){return!!A&&A in e}(e))&&(Se(e)?P:h).test(function(e){if(null!=e){try{return z.call(e)}catch{}try{return e+""}catch{}}return""}(e))}function ce(e){if(!Ce(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var r in e)"constructor"==r&&(t||!E.call(e,r))||n.push(r);return n}function de(e,t,n,r,o){e!==t&&ae(t,(function(a,i){if(o||(o=new Q),Ce(a))!function(e,t,n,r,o,a,i){var s=ve(e,n),l=ve(t,n),d=i.get(l);if(d)te(e,n,d);else{var u=a?a(s,l,n+"",e,t,i):void 0,h=void 0===u;if(h){var p=we(l),f=!p&&ke(l),g=!p&&!f&&Re(l);u=l,p||f||g?we(s)?u=s:function(e){return Oe(e)&&_e(e)}(s)?u=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):f?(h=!1,u=function(e,t){return e.slice()}(l)):g?(h=!1,u=function(e,t){var n=function(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}(l)):u=[]:function(e){if(!Oe(e)||ie(e)!=c)return!1;var t=B(e);if(null===t)return!0;var n=E.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==M}(l)||xe(l)?(u=s,xe(s)?u=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var s=t[a],l=void 0;void 0===l&&(l=e[s]),o?oe(n,s,l):ne(n,s,l)}return n}(e,ze(e))}(s):(!Ce(s)||Se(s))&&(u=function(e){return"function"!=typeof e.constructor||me(e)?{}:Y(B(e))}(l))):h=!1}h&&(i.set(l,u),o(u,l,r,a,i),i.delete(l)),te(e,n,u)}}(e,t,i,n,de,r,o);else{var s=r?r(ve(e,i),a,i+"",e,t,o):void 0;void 0===s&&(s=a),te(e,i,s)}}),ze)}function ue(e,t){return be(function(e,t,n){return t=W(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=W(r.length-t,0),i=Array(a);++o<a;)i[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Le),e+"")}var he=F?function(e,t){return F(e,"toString",{configurable:!0,enumerable:!1,value:Ae(t),writable:!0})}:Le;function pe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return le(n)?n:void 0}function ge(e,t){var n,o=typeof e;return!!(t=null!==(n=t)&&void 0!==n?n:r)&&("number"==o||"symbol"!=o&&p.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function ve(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var be=function(e){var t=0,n=0;return function(){var r=G(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(he);function ye(e,t){return e===t||e!=e&&t!=t}var xe=se(function(){return arguments}())?se:function(e){return Oe(e)&&E.call(e,"callee")&&!$.call(e,"callee")},we=Array.isArray;function _e(e){return null!=e&&je(e.length)&&!Se(e)}var ke=U||function(){return!1};function Se(e){if(!Ce(e))return!1;var t=ie(e);return t==i||t==s||t==a||t==d}function je(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Oe(e){return null!=e&&"object"==typeof e}var Re=S?function(e){return function(t){return e(t)}}(S):function(e){return Oe(e)&&je(e.length)&&!!f[ie(e)]};function ze(e){return _e(e)?ee(e):ce(e)}var Ee=function(e){return ue((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(e,t,n){if(!Ce(n))return!1;var r=typeof t;return!!("number"==r?_e(n)&&ge(t,n.length):"string"==r&&t in n)&&ye(n[t],e)}(n[0],n[1],i)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,a)}return t}))}((function(e,t,n,r){de(e,t,n,r)}));function Ae(e){return function(){return e}}function Le(e){return e}e.exports=Ee}(Ro,Ro.exports);const zo=Nr(Ro.exports);var Eo=e=>"string"==typeof e?e.replace(/!(important)?$/,"").trim():e,Ao=(e,t)=>n=>{const r=String(t),o=(e=>/!(important)?$/.test(e))(r),a=Eo(r),i=e?`${e}.${a}`:a;let s=jo(n.__cssMap)&&i in n.__cssMap?n.__cssMap[i].varRef:t;return s=Eo(s),o?`${s} !important`:s};function Lo(e){const{scale:t,transform:n,compose:r}=e;return(e,o)=>{var a;const i=Ao(t,e)(o);let s=null!=(a=null==n?void 0:n(i,o))?a:i;return r&&(s=r(s,o)),s}}var Mo=(...e)=>t=>e.reduce(((e,t)=>t(e)),t);function Po(e,t){return n=>{const r={property:n,scale:e};return r.transform=Lo({scale:e,transform:t}),r}}var Io=({rtl:e,ltr:t})=>n=>"rtl"===n.direction?e:t,To=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],No={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},Bo={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},Do={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},$o={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},Vo=new Set(Object.values($o)),Ho=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),Fo=e=>e.trim(),Uo=e=>"string"==typeof e&&e.includes("(")&&e.includes(")"),Wo=e=>t=>`${e}(${t})`,Go={filter:e=>"auto"!==e?e:No,backdropFilter:e=>"auto"!==e?e:Bo,ring:e=>function(e){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":e,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}(Go.px(e)),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...To].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...To].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;const{unitless:t}=(e=>{const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}})(e);return t||"number"==typeof e?`${e}px`:e},fraction:e=>"number"!=typeof e||e>1?e:100*e+"%",float:(e,t)=>"rtl"===t.direction?{left:"right",right:"left"}[e]:e,degree(e){if(function(e){return/^var\(--.+\)$/.test(e)}(e)||null==e)return e;const t="string"==typeof e&&!e.endsWith("deg");return"number"==typeof e||t?`${e}deg`:e},gradient:(e,t)=>function(e,t){if(null==e||Ho.has(e))return e;if(!Uo(e)&&!Ho.has(e))return`url('${e}')`;const n=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),r=null==n?void 0:n[1],o=null==n?void 0:n[2];if(!r||!o)return e;const a=r.includes("-gradient")?r:`${r}-gradient`,[i,...s]=o.split(",").map(Fo).filter(Boolean);if(0===(null==s?void 0:s.length))return e;const l=i in $o?$o[i]:i;return s.unshift(l),`${a}(${s.map((e=>{if(Vo.has(e))return e;const n=e.indexOf(" "),[r,o]=-1!==n?[e.substr(0,n),e.substr(n+1)]:[e],a=Uo(o)?o:o&&o.split(" "),i=`colors.${r}`,s=i in t.__cssMap?t.__cssMap[i].varRef:r;return a?[s,...Array.isArray(a)?a:[a]].join(" "):s})).join(", ")})`}(e,null!=t?t:{}),blur:Wo("blur"),opacity:Wo("opacity"),brightness:Wo("brightness"),contrast:Wo("contrast"),dropShadow:Wo("drop-shadow"),grayscale:Wo("grayscale"),hueRotate:e=>Wo("hue-rotate")(Go.degree(e)),invert:Wo("invert"),saturate:Wo("saturate"),sepia:Wo("sepia"),bgImage:e=>null==e||Uo(e)||Ho.has(e)?e:`url(${e})`,outline(e){const t="0"===String(e)||"none"===String(e);return null!==e&&t?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var t;const{space:n,divide:r}=null!=(t=Do[e])?t:{},o={flexDirection:e};return n&&(o[n]=1),r&&(o[r]=1),o}},Zo={borderWidths:Po("borderWidths"),borderStyles:Po("borderStyles"),colors:Po("colors"),borders:Po("borders"),gradients:Po("gradients",Go.gradient),radii:Po("radii",Go.px),space:Po("space",Mo(Go.vh,Go.px)),spaceT:Po("space",Mo(Go.vh,Go.px)),degreeT:e=>({property:e,transform:Go.degree}),prop:(e,t,n)=>({property:e,scale:t,...t&&{transform:Lo({scale:t,transform:n})}}),propT:(e,t)=>({property:e,transform:t}),sizes:Po("sizes",Mo(Go.vh,Go.px)),sizesT:Po("sizes",Mo(Go.vh,Go.fraction)),shadows:Po("shadows"),logical:function(e){const{property:t,scale:n,transform:r}=e;return{scale:n,property:Io(t),transform:n?Lo({scale:n,compose:r}):r}},blur:Po("blur",Go.blur)},Ko={background:Zo.colors("background"),backgroundColor:Zo.colors("backgroundColor"),backgroundImage:Zo.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:Go.bgClip},bgSize:Zo.prop("backgroundSize"),bgPosition:Zo.prop("backgroundPosition"),bg:Zo.colors("background"),bgColor:Zo.colors("backgroundColor"),bgPos:Zo.prop("backgroundPosition"),bgRepeat:Zo.prop("backgroundRepeat"),bgAttachment:Zo.prop("backgroundAttachment"),bgGradient:Zo.gradients("backgroundImage"),bgClip:{transform:Go.bgClip}};Object.assign(Ko,{bgImage:Ko.backgroundImage,bgImg:Ko.backgroundImage});var Yo={border:Zo.borders("border"),borderWidth:Zo.borderWidths("borderWidth"),borderStyle:Zo.borderStyles("borderStyle"),borderColor:Zo.colors("borderColor"),borderRadius:Zo.radii("borderRadius"),borderTop:Zo.borders("borderTop"),borderBlockStart:Zo.borders("borderBlockStart"),borderTopLeftRadius:Zo.radii("borderTopLeftRadius"),borderStartStartRadius:Zo.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Zo.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Zo.radii("borderTopRightRadius"),borderStartEndRadius:Zo.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Zo.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Zo.borders("borderRight"),borderInlineEnd:Zo.borders("borderInlineEnd"),borderBottom:Zo.borders("borderBottom"),borderBlockEnd:Zo.borders("borderBlockEnd"),borderBottomLeftRadius:Zo.radii("borderBottomLeftRadius"),borderBottomRightRadius:Zo.radii("borderBottomRightRadius"),borderLeft:Zo.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Zo.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Zo.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Zo.borders(["borderLeft","borderRight"]),borderInline:Zo.borders("borderInline"),borderY:Zo.borders(["borderTop","borderBottom"]),borderBlock:Zo.borders("borderBlock"),borderTopWidth:Zo.borderWidths("borderTopWidth"),borderBlockStartWidth:Zo.borderWidths("borderBlockStartWidth"),borderTopColor:Zo.colors("borderTopColor"),borderBlockStartColor:Zo.colors("borderBlockStartColor"),borderTopStyle:Zo.borderStyles("borderTopStyle"),borderBlockStartStyle:Zo.borderStyles("borderBlockStartStyle"),borderBottomWidth:Zo.borderWidths("borderBottomWidth"),borderBlockEndWidth:Zo.borderWidths("borderBlockEndWidth"),borderBottomColor:Zo.colors("borderBottomColor"),borderBlockEndColor:Zo.colors("borderBlockEndColor"),borderBottomStyle:Zo.borderStyles("borderBottomStyle"),borderBlockEndStyle:Zo.borderStyles("borderBlockEndStyle"),borderLeftWidth:Zo.borderWidths("borderLeftWidth"),borderInlineStartWidth:Zo.borderWidths("borderInlineStartWidth"),borderLeftColor:Zo.colors("borderLeftColor"),borderInlineStartColor:Zo.colors("borderInlineStartColor"),borderLeftStyle:Zo.borderStyles("borderLeftStyle"),borderInlineStartStyle:Zo.borderStyles("borderInlineStartStyle"),borderRightWidth:Zo.borderWidths("borderRightWidth"),borderInlineEndWidth:Zo.borderWidths("borderInlineEndWidth"),borderRightColor:Zo.colors("borderRightColor"),borderInlineEndColor:Zo.colors("borderInlineEndColor"),borderRightStyle:Zo.borderStyles("borderRightStyle"),borderInlineEndStyle:Zo.borderStyles("borderInlineEndStyle"),borderTopRadius:Zo.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Zo.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Zo.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Zo.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(Yo,{rounded:Yo.borderRadius,roundedTop:Yo.borderTopRadius,roundedTopLeft:Yo.borderTopLeftRadius,roundedTopRight:Yo.borderTopRightRadius,roundedTopStart:Yo.borderStartStartRadius,roundedTopEnd:Yo.borderStartEndRadius,roundedBottom:Yo.borderBottomRadius,roundedBottomLeft:Yo.borderBottomLeftRadius,roundedBottomRight:Yo.borderBottomRightRadius,roundedBottomStart:Yo.borderEndStartRadius,roundedBottomEnd:Yo.borderEndEndRadius,roundedLeft:Yo.borderLeftRadius,roundedRight:Yo.borderRightRadius,roundedStart:Yo.borderInlineStartRadius,roundedEnd:Yo.borderInlineEndRadius,borderStart:Yo.borderInlineStart,borderEnd:Yo.borderInlineEnd,borderTopStartRadius:Yo.borderStartStartRadius,borderTopEndRadius:Yo.borderStartEndRadius,borderBottomStartRadius:Yo.borderEndStartRadius,borderBottomEndRadius:Yo.borderEndEndRadius,borderStartRadius:Yo.borderInlineStartRadius,borderEndRadius:Yo.borderInlineEndRadius,borderStartWidth:Yo.borderInlineStartWidth,borderEndWidth:Yo.borderInlineEndWidth,borderStartColor:Yo.borderInlineStartColor,borderEndColor:Yo.borderInlineEndColor,borderStartStyle:Yo.borderInlineStartStyle,borderEndStyle:Yo.borderInlineEndStyle});var Jo={color:Zo.colors("color"),textColor:Zo.colors("color"),fill:Zo.colors("fill"),stroke:Zo.colors("stroke")},Xo={boxShadow:Zo.shadows("boxShadow"),mixBlendMode:!0,blendMode:Zo.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Zo.prop("backgroundBlendMode"),opacity:!0};Object.assign(Xo,{shadow:Xo.boxShadow});var qo={filter:{transform:Go.filter},blur:Zo.blur("--chakra-blur"),brightness:Zo.propT("--chakra-brightness",Go.brightness),contrast:Zo.propT("--chakra-contrast",Go.contrast),hueRotate:Zo.propT("--chakra-hue-rotate",Go.hueRotate),invert:Zo.propT("--chakra-invert",Go.invert),saturate:Zo.propT("--chakra-saturate",Go.saturate),dropShadow:Zo.propT("--chakra-drop-shadow",Go.dropShadow),backdropFilter:{transform:Go.backdropFilter},backdropBlur:Zo.blur("--chakra-backdrop-blur"),backdropBrightness:Zo.propT("--chakra-backdrop-brightness",Go.brightness),backdropContrast:Zo.propT("--chakra-backdrop-contrast",Go.contrast),backdropHueRotate:Zo.propT("--chakra-backdrop-hue-rotate",Go.hueRotate),backdropInvert:Zo.propT("--chakra-backdrop-invert",Go.invert),backdropSaturate:Zo.propT("--chakra-backdrop-saturate",Go.saturate)},Qo={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:Go.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Zo.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Zo.space("gap"),rowGap:Zo.space("rowGap"),columnGap:Zo.space("columnGap")};Object.assign(Qo,{flexDir:Qo.flexDirection});var ea={gridGap:Zo.space("gridGap"),gridColumnGap:Zo.space("gridColumnGap"),gridRowGap:Zo.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},ta={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:Go.outline},outlineOffset:!0,outlineColor:Zo.colors("outlineColor")},na={width:Zo.sizesT("width"),inlineSize:Zo.sizesT("inlineSize"),height:Zo.sizes("height"),blockSize:Zo.sizes("blockSize"),boxSize:Zo.sizes(["width","height"]),minWidth:Zo.sizes("minWidth"),minInlineSize:Zo.sizes("minInlineSize"),minHeight:Zo.sizes("minHeight"),minBlockSize:Zo.sizes("minBlockSize"),maxWidth:Zo.sizes("maxWidth"),maxInlineSize:Zo.sizes("maxInlineSize"),maxHeight:Zo.sizes("maxHeight"),maxBlockSize:Zo.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,t)=>{var n,r,o;return{[`@media screen and (min-width: ${null!=(o=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r.minW)?o:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,t)=>{var n,r,o;return{[`@media screen and (max-width: ${null!=(o=null==(r=null==(n=t.__breakpoints)?void 0:n.get(e))?void 0:r._minW)?o:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Zo.propT("float",Go.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(na,{w:na.width,h:na.height,minW:na.minWidth,maxW:na.maxWidth,minH:na.minHeight,maxH:na.maxHeight,overscroll:na.overscrollBehavior,overscrollX:na.overscrollBehaviorX,overscrollY:na.overscrollBehaviorY});var ra={listStyleType:!0,listStylePosition:!0,listStylePos:Zo.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Zo.prop("listStyleImage")},oa=(e=>{const t=new WeakMap;return(n,r,o,a)=>{if(typeof n>"u")return e(n,r,o);t.has(n)||t.set(n,new Map);const i=t.get(n);if(i.has(r))return i.get(r);const s=e(n,r,o,a);return i.set(r,s),s}})((function(e,t,n,r){const o="string"==typeof t?t.split("."):[t];for(r=0;r<o.length&&e;r+=1)e=e[o[r]];return void 0===e?n:e})),aa={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},ia={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},sa=(e,t,n)=>{const r={},o=oa(e,t,{});for(const a in o)a in n&&null!=n[a]||(r[a]=o[a]);return r},la={srOnly:{transform:e=>!0===e?aa:"focusable"===e?ia:{}},layerStyle:{processResult:!0,transform:(e,t,n)=>sa(t,`layerStyles.${e}`,n)},textStyle:{processResult:!0,transform:(e,t,n)=>sa(t,`textStyles.${e}`,n)},apply:{processResult:!0,transform:(e,t,n)=>sa(t,e,n)}},ca={position:!0,pos:Zo.prop("position"),zIndex:Zo.prop("zIndex","zIndices"),inset:Zo.spaceT("inset"),insetX:Zo.spaceT(["left","right"]),insetInline:Zo.spaceT("insetInline"),insetY:Zo.spaceT(["top","bottom"]),insetBlock:Zo.spaceT("insetBlock"),top:Zo.spaceT("top"),insetBlockStart:Zo.spaceT("insetBlockStart"),bottom:Zo.spaceT("bottom"),insetBlockEnd:Zo.spaceT("insetBlockEnd"),left:Zo.spaceT("left"),insetInlineStart:Zo.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Zo.spaceT("right"),insetInlineEnd:Zo.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(ca,{insetStart:ca.insetInlineStart,insetEnd:ca.insetInlineEnd});var da={ring:{transform:Go.ring},ringColor:Zo.colors("--chakra-ring-color"),ringOffset:Zo.prop("--chakra-ring-offset-width"),ringOffsetColor:Zo.colors("--chakra-ring-offset-color"),ringInset:Zo.prop("--chakra-ring-inset")},ua={margin:Zo.spaceT("margin"),marginTop:Zo.spaceT("marginTop"),marginBlockStart:Zo.spaceT("marginBlockStart"),marginRight:Zo.spaceT("marginRight"),marginInlineEnd:Zo.spaceT("marginInlineEnd"),marginBottom:Zo.spaceT("marginBottom"),marginBlockEnd:Zo.spaceT("marginBlockEnd"),marginLeft:Zo.spaceT("marginLeft"),marginInlineStart:Zo.spaceT("marginInlineStart"),marginX:Zo.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Zo.spaceT("marginInline"),marginY:Zo.spaceT(["marginTop","marginBottom"]),marginBlock:Zo.spaceT("marginBlock"),padding:Zo.space("padding"),paddingTop:Zo.space("paddingTop"),paddingBlockStart:Zo.space("paddingBlockStart"),paddingRight:Zo.space("paddingRight"),paddingBottom:Zo.space("paddingBottom"),paddingBlockEnd:Zo.space("paddingBlockEnd"),paddingLeft:Zo.space("paddingLeft"),paddingInlineStart:Zo.space("paddingInlineStart"),paddingInlineEnd:Zo.space("paddingInlineEnd"),paddingX:Zo.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Zo.space("paddingInline"),paddingY:Zo.space(["paddingTop","paddingBottom"]),paddingBlock:Zo.space("paddingBlock")};Object.assign(ua,{m:ua.margin,mt:ua.marginTop,mr:ua.marginRight,me:ua.marginInlineEnd,marginEnd:ua.marginInlineEnd,mb:ua.marginBottom,ml:ua.marginLeft,ms:ua.marginInlineStart,marginStart:ua.marginInlineStart,mx:ua.marginX,my:ua.marginY,p:ua.padding,pt:ua.paddingTop,py:ua.paddingY,px:ua.paddingX,pb:ua.paddingBottom,pl:ua.paddingLeft,ps:ua.paddingInlineStart,paddingStart:ua.paddingInlineStart,pr:ua.paddingRight,pe:ua.paddingInlineEnd,paddingEnd:ua.paddingInlineEnd});var ha={textDecorationColor:Zo.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Zo.shadows("textShadow")},pa={clipPath:!0,transform:Zo.propT("transform",Go.transform),transformOrigin:!0,translateX:Zo.spaceT("--chakra-translate-x"),translateY:Zo.spaceT("--chakra-translate-y"),skewX:Zo.degreeT("--chakra-skew-x"),skewY:Zo.degreeT("--chakra-skew-y"),scaleX:Zo.prop("--chakra-scale-x"),scaleY:Zo.prop("--chakra-scale-y"),scale:Zo.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Zo.degreeT("--chakra-rotate")},fa={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Zo.prop("transitionDuration","transition.duration"),transitionProperty:Zo.prop("transitionProperty","transition.property"),transitionTimingFunction:Zo.prop("transitionTimingFunction","transition.easing")},ga={fontFamily:Zo.prop("fontFamily","fonts"),fontSize:Zo.prop("fontSize","fontSizes",Go.px),fontWeight:Zo.prop("fontWeight","fontWeights"),lineHeight:Zo.prop("lineHeight","lineHeights"),letterSpacing:Zo.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},ma={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Zo.spaceT("scrollMargin"),scrollMarginTop:Zo.spaceT("scrollMarginTop"),scrollMarginBottom:Zo.spaceT("scrollMarginBottom"),scrollMarginLeft:Zo.spaceT("scrollMarginLeft"),scrollMarginRight:Zo.spaceT("scrollMarginRight"),scrollMarginX:Zo.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Zo.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Zo.spaceT("scrollPadding"),scrollPaddingTop:Zo.spaceT("scrollPaddingTop"),scrollPaddingBottom:Zo.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Zo.spaceT("scrollPaddingLeft"),scrollPaddingRight:Zo.spaceT("scrollPaddingRight"),scrollPaddingX:Zo.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Zo.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function va(e){return jo(e)&&e.reference?e.reference:String(e)}var ba=(e,...t)=>t.map(va).join(` ${e} `).replace(/calc/g,""),ya=(...e)=>`calc(${ba("+",...e)})`,xa=(...e)=>`calc(${ba("-",...e)})`,wa=(...e)=>`calc(${ba("*",...e)})`,_a=(...e)=>`calc(${ba("/",...e)})`,ka=e=>{const t=va(e);return null==t||Number.isNaN(parseFloat(t))?wa(t,-1):String(t).startsWith("-")?String(t).slice(1):`-${t}`},Sa=Object.assign((e=>({add:(...t)=>Sa(ya(e,...t)),subtract:(...t)=>Sa(xa(e,...t)),multiply:(...t)=>Sa(wa(e,...t)),divide:(...t)=>Sa(_a(e,...t)),negate:()=>Sa(ka(e)),toString:()=>e.toString()})),{add:ya,subtract:xa,multiply:wa,divide:_a,negate:ka});function ja(e){if(null==e)return e;const{unitless:t}=function(e){const t=parseFloat(e.toString()),n=e.toString().replace(String(t),"");return{unitless:!n,value:t,unit:n}}(e);return t||"number"==typeof e?`${e}px`:e}function Ca(e,t){const n=["@media screen"];return e&&n.push("and",`(min-width: ${ja(e)})`),t&&n.push("and",`(max-width: ${ja(t)})`),n.join(" ")}var Oa=(e,t)=>`${e}:hover ${t}, ${e}[data-hover] ${t}`,Ra=(e,t)=>`${e}:focus ${t}, ${e}[data-focus] ${t}`,za=(e,t)=>`${e}:focus-visible ${t}`,Ea=(e,t)=>`${e}:focus-within ${t}`,Aa=(e,t)=>`${e}:active ${t}, ${e}[data-active] ${t}`,La=(e,t)=>`${e}:disabled ${t}, ${e}[data-disabled] ${t}`,Ma=(e,t)=>`${e}:invalid ${t}, ${e}[data-invalid] ${t}`,Pa=(e,t)=>`${e}:checked ${t}, ${e}[data-checked] ${t}`,Ia=(e,t)=>`${e}:placeholder-shown ${t}`,Ta=e=>Ba((t=>e(t,"&")),"[role=group]","[data-group]",".group"),Na=e=>Ba((t=>e(t,"~ &")),"[data-peer]",".peer"),Ba=(e,...t)=>t.map(e).join(", "),Da={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:Ta(Oa),_peerHover:Na(Oa),_groupFocus:Ta(Ra),_peerFocus:Na(Ra),_groupFocusVisible:Ta(za),_peerFocusVisible:Na(za),_groupActive:Ta(Aa),_peerActive:Na(Aa),_groupDisabled:Ta(La),_peerDisabled:Na(La),_groupInvalid:Ta(Ma),_peerInvalid:Na(Ma),_groupChecked:Ta(Pa),_peerChecked:Na(Pa),_groupFocusWithin:Ta(Ea),_peerFocusWithin:Na(Ea),_peerPlaceholderShown:Na(Ia),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},$a=Object.keys(Da),Va=zo({},Ko,Yo,Jo,Qo,na,qo,da,ta,ea,la,ca,Xo,ua,ma,ga,ha,pa,ra,fa);Object.assign({},ua,na,Qo,ea,ca);var Ha=[...Object.keys(Va),...$a],Fa={...Va,...Da},Ua=(e,t)=>e.startsWith("--")&&"string"==typeof t&&!function(e){return/^var\(--.+\)$/.test(e)}(t),Wa=(e,t)=>{var n,r;if(null==t)return t;const o=t=>{var n,r;return null==(r=null==(n=e.__cssMap)?void 0:n[t])?void 0:r.varRef},a=e=>{var t;return null!=(t=o(e))?t:e},[i,s]=function(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const a=e[o];"("===a?(r=!0,n+=a):")"===a?(r=!1,n+=a):","!==a||r?n+=a:(t.push(n),n="")}return n=n.trim(),n&&t.push(n),t}(t);return t=null!=(r=null!=(n=o(i))?n:a(s))?r:a(t)};function Ga(e){const{configs:t={},pseudos:n={},theme:r}=e,o=(e,a=!1)=>{var i,s,l;const c=Co(e,r),d=(e=>t=>{if(!t.__breakpoints)return e;const{isResponsive:n,toArrayValue:r,media:o}=t.__breakpoints,a={};for(const i in e){let s=Co(e[i],t);if(null==s)continue;if(s=jo(s)&&n(s)?r(s):s,!Array.isArray(s)){a[i]=s;continue}const l=s.slice(0,o.length).length;for(let e=0;e<l;e+=1){const t=null==o?void 0:o[e];t?(a[t]=a[t]||{},null!=s[e]&&(a[t][i]=s[e])):a[i]=s[e]}}return a})(c)(r);let u={};for(let h in d){let e=Co(d[h],r);h in n&&(h=n[h]),Ua(h,e)&&(e=Wa(r,e));let p=t[h];if(!0===p&&(p={property:h}),jo(e)){u[h]=null!=(i=u[h])?i:{},u[h]=zo({},u[h],o(e,!0));continue}let f=null!=(l=null==(s=null==p?void 0:p.transform)?void 0:s.call(p,e,r,c))?l:e;f=null!=p&&p.processResult?o(f,!0):f;const g=Co(null==p?void 0:p.property,r);if(!a&&null!=p&&p.static){const e=Co(p.static,r);u=zo({},u,e)}if(g&&Array.isArray(g))for(const t of g)u[t]=f;else g?"&"===g&&jo(f)?u=zo({},u,f):u[g]=f:jo(f)?u=zo({},u,f):u[h]=f}return u};return o}function Za(e,t){for(let n=t+1;n<e.length;n++)if(null!=e[n])return n;return-1}function Ka(e){const t=e.__breakpoints;return function(e,n,r,o){var a,i;if(!t)return;const s={},l=function(e,t){return Array.isArray(e)?e:jo(e)?t(e):null!=e?[e]:void 0}(r,t.toArrayValue);if(!l)return s;const c=l.length,d=1===c,u=!!e.parts;for(let h=0;h<c;h++){const r=t.details[h],c=t.details[Za(l,h)],p=Ca(r.minW,null==c?void 0:c._minW),f=Co(null==(a=e[n])?void 0:a[l[h]],o);if(f){if(u){null==(i=e.parts)||i.forEach((e=>{zo(s,{[e]:d?f[e]:{[p]:f[e]}})}));continue}if(!u){d?zo(s,f):s[p]=f;continue}s[p]=f}}return s}}function Ya(e){return function(e,t=[]){const n=Object.assign({},e);for(const r of t)r in n&&delete n[r];return n}(e,["styleConfig","size","variant","colorScheme"])}var Ja=(e=>{const t=new WeakMap;return(n,r,o,a)=>{if(typeof n>"u")return e(n,r,o);t.has(n)||t.set(n,new Map);const i=t.get(n);if(i.has(r))return i.get(r);const s=e(n,r,o,a);return i.set(r,s),s}})((function(e,t,n,r){const o="string"==typeof t?t.split("."):[t];for(r=0;r<o.length&&e;r+=1)e=e[o[r]];return void 0===e?n:e}));function Xa(e,t){const n={};return Object.keys(e).forEach((r=>{const o=e[r];t(o,r,e)&&(n[r]=o)})),n}var qa=e=>Xa(e,(e=>null!=e)),Qa=typeof Element<"u",ei="function"==typeof Map,ti="function"==typeof Set,ni="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function ri(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,o,a;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!ri(e[r],t[r]))return!1;return!0}if(ei&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!ri(r.value[1],t.get(r.value[0])))return!1;return!0}if(ti&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(ni&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"==typeof e.valueOf&&"function"==typeof t.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&"function"==typeof e.toString&&"function"==typeof t.toString)return e.toString()===t.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(Qa&&e instanceof Element)return!1;for(r=n;0!=r--;)if(("_owner"!==o[r]&&"__v"!==o[r]&&"__o"!==o[r]||!e.$$typeof)&&!ri(e[o[r]],t[o[r]]))return!1;return!0}return e!=e&&t!=t}const oi=Nr((function(e,t){try{return ri(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}));function ai(e,t={}){var n;const{styleConfig:r,...o}=t,{theme:a,colorMode:i}=ko(),s=e?Ja(a,`components.${e}`):void 0,l=r||s,c=zo({theme:a,colorMode:i},null!=(n=null==l?void 0:l.defaultProps)?n:{},qa(function(e,t){const n={};return Object.keys(e).forEach((r=>{t.includes(r)||(n[r]=e[r])})),n}(o,["children"]))),d=We.useRef({});if(l){const e=function(e){return t=>{var n;const{variant:r,size:o,theme:a}=t,i=Ka(a);return zo({},Co(null!=(n=e.baseStyle)?n:{},t),i(e,"sizes",o,t),i(e,"variants",r,t))}}(l)(c);oi(d.current,e)||(d.current=e)}return d.current}var ii=new Set([...Ha,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),si=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function li(e){return si.has(e)||!ii.has(e)}var ci,di=null!=(ci=c.default)?ci:c,ui=({baseStyle:e})=>t=>{const{theme:n,css:r,__css:o,sx:a,...i}=t,s=Xa(i,((e,t)=>(e=>e in Fa)(t))),l=function(e,...t){return function(e){return"function"==typeof e}(e)?e(...t):e}(e,t),c=function(e,...t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const n={...e};for(const r of t)if(null!=r)for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&(e in n&&delete n[e],n[e]=r[e]);return n}({},o,l,qa(s),a),d=(e=>t=>Ga({theme:t,pseudos:Da,configs:Va})(e))(c)(t.theme);return r?[d,r]:d};function hi(e,t){const{baseStyle:n,...r}=null!=t?t:{};r.shouldForwardProp||(r.shouldForwardProp=li);const o=ui({baseStyle:n}),a=di(e,r)(o);return Ge.forwardRef((function(e,t){const{colorMode:n,forced:r}=_o();return Ge.createElement(a,{ref:t,"data-theme":r?n:void 0,...e})}))}var pi=function(){const e=new Map;return new Proxy(hi,{apply:(e,t,n)=>hi(...n),get:(t,n)=>(e.has(n)||e.set(n,hi(n)),e.get(n))})}();function fi(e){return We.forwardRef(e)}var gi={path:Vr.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Vr.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Vr.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Vr.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},mi=fi(((e,t)=>{const{as:n,viewBox:r,color:o="currentColor",focusable:a=!1,children:i,className:s,__css:l,...c}=e,d=So("chakra-icon",s),u=function(e,t={}){return ai(e,t)}("Icon",e),h={ref:t,focusable:a,className:d,__css:{w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:o,...l,...u}},p=null!=r?r:gi.viewBox;if(n&&"string"!=typeof n)return Vr.jsx(pi.svg,{as:n,...h,...c});const f=null!=i?i:gi.path;return Vr.jsx(pi.svg,{verticalAlign:"middle",viewBox:p,...h,...c,children:f})}));mi.displayName="Icon",fi((function(e,t){const{spacing:n="0.5rem",spacingX:r,spacingY:o,children:a,justify:i,direction:s,align:l,className:c,shouldWrapChildren:d,...u}=e,h=We.useMemo((()=>d?We.Children.map(a,((e,t)=>Vr.jsx(vi,{children:e},t))):a),[a,d]);return Vr.jsx(pi.div,{ref:t,className:So("chakra-wrap",c),...u,children:Vr.jsx(pi.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:i,alignItems:l,flexDirection:s,listStyleType:"none",gap:n,columnGap:r,rowGap:o,padding:"0"},children:h})})})).displayName="Wrap";var vi=fi((function(e,t){const{className:n,...r}=e;return Vr.jsx(pi.li,{ref:t,__css:{display:"flex",alignItems:"flex-start"},className:So("chakra-wrap__listitem",n),...r})}));vi.displayName="WrapItem";var bi=pi("div");bi.displayName="Box";var yi=fi((function(e,t){const{size:n,centerContent:r=!0,...o}=e,a=r?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return Vr.jsx(bi,{ref:t,boxSize:n,__css:{...a,flexShrink:0,flexGrow:0},...o})}));yi.displayName="Square",fi((function(e,t){const{size:n,...r}=e;return Vr.jsx(yi,{size:n,ref:t,borderRadius:"9999px",...r})})).displayName="Circle";var xi=fi((function(e,t){const{direction:n,align:r,justify:o,wrap:a,basis:i,grow:s,shrink:l,...c}=e,d={display:"flex",flexDirection:n,alignItems:r,justifyContent:o,flexWrap:a,flexBasis:i,flexGrow:s,flexShrink:l};return Vr.jsx(pi.div,{ref:t,__css:d,...c})}));xi.displayName="Flex";const wi=e=>{const{getEmptyStateProps:t,defaultEmptyStateProps:n}=Fr(),r=t(Vr.jsx(xi,{..._i,...n,children:"No options found!"}));return Vr.jsx(bi,{...e,children:r})},_i={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},ki=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],Si=l(((e,t)=>{const{children:n,loadingState:r,...o}=e,{listRef:a,isLoading:i}=Fr(),s=u(t,a),[l,c]=(e=>{const t=Ge.Children.map(e,((t,n)=>{var r;if("AutoCompleteGroup"===(null==(r=null==t?void 0:t.type)?void 0:r.displayName)){const r=Ge.Children.toArray(e)[n+1];return Ge.cloneElement(t,{groupSibling:!!r&&"AutoCompleteGroup"===r.type.displayName})}return t})),n=Ge.Children.toArray(t).filter((e=>{var t;return!ki.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)}));return[Ge.Children.toArray(t).filter((e=>{var t;return ki.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})),n]})(n);return Vr.jsxs(k,{ref:s,w:"inherit",...ji,...o,children:[i&&Vr.jsx(S,{children:r||Vr.jsx(b,{size:"md"})}),!i&&Vr.jsxs(Vr.Fragment,{children:[l,Vr.jsx(wi,{}),c]})]})}));Si.displayName="AutoCompleteList";const ji={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};var[Ci,Oi]=function(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:o="Provider",errorMessage:a,defaultValue:i}=e,s=We.createContext(i);return s.displayName=t,[s.Provider,function e(){var t;const i=We.useContext(s);if(!i&&n){const n=new Error(null!=a?a:function(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}(r,o));throw n.name="ContextError",null==(t=Error.captureStackTrace)||t.call(Error,n,e),n}return i},s]}({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),Ri=fi(((e,t)=>{const n=function(e,t={}){return ai(e,t)}("Tag",e),r=Ya(e),o={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...n.container};return Vr.jsx(Ci,{value:n,children:Vr.jsx(pi.span,{ref:t,...r,__css:o})})}));Ri.displayName="Tag";var zi=fi(((e,t)=>{const n=Oi();return Vr.jsx(pi.span,{ref:t,noOfLines:1,...e,__css:n.label})}));zi.displayName="TagLabel",fi(((e,t)=>Vr.jsx(mi,{ref:t,verticalAlign:"top",marginEnd:"0.5rem",...e}))).displayName="TagLeftIcon",fi(((e,t)=>Vr.jsx(mi,{ref:t,verticalAlign:"top",marginStart:"0.5rem",...e}))).displayName="TagRightIcon";var Ei=e=>Vr.jsx(mi,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:Vr.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});Ei.displayName="TagCloseIcon";var Ai=fi(((e,t)=>{const{isDisabled:n,children:r,...o}=e,a={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...Oi().closeButton};return Vr.jsx(pi.button,{ref:t,"aria-label":"close",...o,type:"button",disabled:n,__css:a,children:r||Vr.jsx(Ei,{})})}));Ai.displayName="TagCloseButton",We.memo((e=>{const{label:t,onRemove:n,disabled:r,...o}=e;return Vr.jsx(vi,{children:Vr.jsxs(Ri,{borderRadius:"md",fontWeight:"normal",...r&&Li,...o,children:[Vr.jsx(zi,{children:t}),Vr.jsx(Ai,{onClick:()=>!r&&Qr(n),cursor:"pointer",...r&&Li})]})})}));const Li={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var Mi=function(){return Mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mi.apply(this,arguments)},Pi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Ii(e){var t=e.data,n=e.displayHandler,r=e.filter,a=e.value,i=e.onChange,s=e.InputProps,l=e.InputPropsByState,c=e.ListProps,d=e.ItemProps,u=Pi(e,["data","displayHandler","filter","value","onChange","InputProps","InputPropsByState","ListProps","ItemProps"]);return o.jsx(ho,Mi({value:a,filter:function(e,n){if(!r)return!0;var o=t.find((function(e){return e.id===n}));return!!o&&r(e,o)},onChange:function(e,t){var n;Array.isArray(t)?null==i||i(null===(n=t[0])||void 0===n?void 0:n.originalValue):null==i||i(t.originalValue)},suggestWhenEmpty:!0,openOnFocus:!0},u,{children:function(e){var r,i=e.isOpen;return o.jsxs(o.Fragment,{children:[o.jsx(Ti,Mi({variant:"flushed",size:"sm",h:6,autoComplete:"off",value:a},null!==(r=null==l?void 0:l(i))&&void 0!==r?r:s)),o.jsx(Si,Mi({role:"menu",py:1},c,{children:t.map((function(e){return o.jsx(po,Mi({value:e,label:e.value,role:"menuitem",fontSize:"sm",p:1,mx:1},d,{children:n?n(e):e.value}),e.id)}))}))]})}}))}var Ti=function(e){var t=e.value,n=Pi(e,["value"]),r=Fr().setQuery;return We.useEffect((function(){r(null!=t?t:"")}),[t]),o.jsx(xo,Mi({},n))},Ni=function(){return Ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ni.apply(this,arguments)},Bi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Di=function(e){var t=e.children,r=e.sx,a=Bi(e,["children","sx"]),i=n("RmgCard");return o.jsx(h,Ni({sx:Ni(Ni({},i),r)},a,{children:t}))},$i=function(){return $i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$i.apply(this,arguments)},Vi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Hi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Fi=We.forwardRef((function(e,t){var n=e.validator,r=e.onDebouncedChange,a=e.delay,i=e.optionList,s=e.defaultValue;e.onChange;var l=Vi(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),c=We.useRef(null),d=u(c,t),h=We.useRef("datalist-"+(new Date).valueOf()),p=Hi(We.useState(!1),2),f=p[0],g=p[1],v=We.useRef();return We.useEffect((function(){c.current&&(c.current.value=(null==s?void 0:s.toString())||"")}),[s]),o.jsxs(o.Fragment,{children:[o.jsx(m,$i({ref:d,list:h.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(v.current),n&&g(!n(t)),v.current=window.setTimeout((function(){null==r||r(t),v.current=void 0}),null!=a?a:500)},onBlur:function(e){var t=e.target.value;void 0!==v.current&&(window.clearTimeout(v.current),n&&g(!n(t)),null==r||r(t),v.current=void 0)},isInvalid:f},l)),i&&o.jsx("datalist",{id:h.current,children:null==i?void 0:i.map((function(e,t){return o.jsx("option",{children:e},t)}))})]})})),Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ui.apply(this,arguments)},Wi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Gi=We.forwardRef((function(e,t){var n=e.onDebouncedChange,r=e.defaultValue;e.onChange;var a=Wi(e,["onDebouncedChange","defaultValue","onChange"]),i=We.useRef(null),s=u(i,t),l=We.useRef();return We.useEffect((function(){i.current&&(i.current.value=(null==r?void 0:r.toString())||"")}),[r]),o.jsx(z,Ui({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(l.current),l.current=window.setTimeout((function(){null==n||n(t)}),500)}},a))})),Zi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},Ki=function(e){switch(e){case ht.DEV:return"red";case ht.UAT:return"orange";case ht.PRD:return"green"}};function Yi(e){var t=e.environment,n=e.version,r=e.popoverHeader,a=e.popoverBody,i=Zi(We.useState(!1),2),s=i[0],l=i[1];return o.jsxs(d,{isOpen:s,onOpen:function(){return r&&l(!0)},onClose:function(){return l(!1)},children:[o.jsx(E,{children:o.jsx(A,{ml:1,colorScheme:Ki(t),title:"".concat(t,": ").concat(n),cursor:r?"pointer":"help",children:t===ht.PRD?n:t})}),o.jsxs(k,{children:[o.jsx(L,{}),o.jsx(M,{}),o.jsx(P,{children:r}),o.jsx(I,{children:a})]})]})}var Ji=function(e,t,n){var r=new Blob([n],{type:t});Xi(e,r)},Xi=function(e,t){var n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},qi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function Qi(e){var t=e.cancelRef,n=e.isOpen,r=e.onClose,a=qi(We.useState(!1),2),i=a[0],s=a[1];return o.jsxs(T,{leastDestructiveRef:t,isOpen:n,onClose:r,children:[o.jsx(N,{}),o.jsxs(B,{children:[o.jsx(D,{children:"Warning 警告"}),o.jsx($,{}),o.jsxs(V,{sx:{"& p":{my:1}},children:[o.jsx(H,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),o.jsx(H,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),o.jsx(H,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),o.jsxs(F,{children:[o.jsx(U,{ref:t,onClick:r,children:"Cancel"}),o.jsx(U,{isLoading:i,colorScheme:"red",ml:3,onClick:function(){s(!0);var e=lr.storage.getAll(),t=lr.getAppName(),n="".concat(t,"_BACKUP_").concat((new Date).toISOString(),".json");Ji(n,"application/json",JSON.stringify(e)),lr.storage.clear(),setTimeout((function(){window.location.reload()}),2e3)},children:"Confirm and reload"})]})]})]})}var es=function(){return es=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},es.apply(this,arguments)},ts=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ns=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function rs(e){var t=e.error,r=e.errorInfo,a=e.allowReset,i=e.sx,s=ts(e,["error","errorInfo","allowReset","sx"]),l=n("RmgErrorBoundary"),c=W("primary.500","primary.300"),d=ns(We.useState(!1),2),u=d[0],h=d[1],p=We.useRef(null),f=function(e){return o.jsx(G,{color:c,role:"button",onClick:function(){return h(!0)},children:e})},g=lr.getAppName(),m=o.jsx(G,{color:c,href:"https://github.com/railmapgen/".concat("rmg-home"===g?"railmapgen.github.io":g,"/issues"),isExternal:!0,children:"GitHub Issue"});return o.jsxs(Z,es({status:"error",sx:es(es({},l),i)},s,{children:[o.jsx(K,{}),o.jsx(Y,{children:"Something went wrong!"}),o.jsxs(J,{children:[o.jsxs(H,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",a?o.jsxs(o.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",m," with the details shown below."]}),o.jsxs(H,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",a?o.jsxs(o.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",m," 提交一個 Issue 並附以詳細資料。"]}),o.jsxs(H,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",a?o.jsxs(o.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",m," 提交一个 Issue 并附上详细信息。"]}),o.jsxs(H,{as:"details",children:[null==t?void 0:t.toString(),o.jsx("br",{}),null==r?void 0:r.componentStack]}),a&&o.jsx(Qi,{cancelRef:p,isOpen:u,onClose:function(){return h(!1)}})]})]}))}var os,as=(os=function(e,t){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},os(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}os(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),is=function(){return is=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},is.apply(this,arguments)},ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},ls=function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1,error:null,errorInfo:null},n}return as(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.suspenseFallback,r=e.allowReset,a=ss(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?o.jsx(rs,is({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:r},a)):n?o.jsx(We.Suspense,{fallback:n,children:t}):t},t}(Ge.Component),cs=function(){return cs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cs.apply(this,arguments)},ds=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},us=function(e){var t=e.label,r=e.children;e.width;var a=e.noLabel,i=e.oneLine,s=e.helper,l=e.errorMessage,c=e.className,d=ds(e,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),u=n("RmgLabel");return o.jsxs(X,cs({className:"".concat(i?"rmg-label__one-line":""," ").concat(null!=c?c:""),"aria-label":t,sx:u,isInvalid:!!l},d,{children:[!a&&o.jsx(q,{size:"xs",children:t}),r,l?o.jsx(Q,{children:l}):s?o.jsx(ee,{children:s}):o.jsx(o.Fragment,{})]}))},hs=function(){return hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hs.apply(this,arguments)},ps=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},fs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function gs(e){var t=e.defaultValue,n=e.options,r=e.disabledOptions,a=ps(e,["defaultValue","options","disabledOptions"]),i=We.useRef(null);We.useEffect((function(){i.current&&(i.current.value=(null==t?void 0:t.toString())||"")}),[t]);var s=function(e,t){return o.jsx("option",{value:e,disabled:void 0!==(null==r?void 0:r.find((function(t){return t.toString()===e}))),children:t},e)};return o.jsx(te,hs({ref:i,variant:"flushed",size:"sm",h:6},a,{children:Object.entries(n).map((function(e){var t=fs(e,2),n=t[0],r=t[1];return"object"==typeof r?o.jsx("optgroup",{label:n,children:Object.entries(r).map((function(e){var t=fs(e,2),n=t[0],r=t[1];return s(n,r)}))},n):s(n,r)}))}))}var ms=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i},vs=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},bs=function(e,t){var n=ms(We.useState(!0),2),r=n[0],o=n[1],a=We.useRef([]),i=We.useRef(),s=We.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r?(o(!1),a.current=[],e.apply(void 0,vs([],ms(t),!1))):a.current=t}),[r,e]);return We.useEffect((function(){if(!r)return i.current=window.setTimeout((function(){o(!0),a.current.length&&e.apply(void 0,vs([],ms(a.current),!1))}),t),function(){window.clearTimeout(i.current)}}),[r,t]),s},ys=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i};function xs(e){var t=e.defaultValue,r=e.min,a=e.max,i=e.step,s=e.onThrottledChange,l=e.leftIcon,c=e.rightIcon,d=n("RmgThrottledSlider"),u=ys(We.useState(null!=t?t:0),2),p=u[0],f=u[1];We.useEffect((function(){void 0!==t&&p!==t&&f(t)}),[t]);var g=bs(null!=s?s:function(){},500);return o.jsxs(h,{sx:d,children:[l&&o.jsx(ne,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:l,onClick:function(){var e=Math.max(p-10*(null!=i?i:1),null!=r?r:0);null==s||s(e),f(e)}}),o.jsxs(re,{value:p,min:r,max:a,step:i,onChange:function(e){g(e),f(e)},children:[o.jsx(oe,{children:o.jsx(ae,{})}),o.jsx(ie,{})]}),c&&o.jsx(ne,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:c,onClick:function(){var e=Math.min(p+10*(null!=i?i:1),null!=a?a:100);null==s||s(e),f(e)}})]})}var ws=function(e){var t=e.children,r=e.noWrap,a=n("RmgOutput",{noWrap:r});return o.jsx(i.output,{sx:a,children:t})};function _s(e){var t=e.fields,n=e.noLabel,r=e.minW;return o.jsx(h,{wrap:"wrap",children:t.map((function(e,t){if(e.hidden)return o.jsx(We.Fragment,{},t);var a=e.minW||r,i="full"===a;return o.jsx(us,{className:i?"mw-full":"",label:e.label,flex:i?void 0:1,minW:i?void 0:a,noLabel:n,oneLine:e.oneLine,helper:e.helper,errorMessage:e.errorMessage,children:function(e){switch(e.type){case"input":return o.jsx(Fi,{placeholder:e.placeholder,defaultValue:e.value,type:e.variant,validator:e.validator,onDebouncedChange:e.onChange,delay:e.debouncedDelay,optionList:e.optionList,isDisabled:e.isDisabled});case"output":return o.jsx(ws,{noWrap:e.noWrap,children:e.value});case"textarea":return o.jsx(Gi,{placeholder:e.placeholder,defaultValue:e.value,onDebouncedChange:e.onChange,isDisabled:e.isDisabled});case"slider":return o.jsx(xs,{defaultValue:e.value,min:e.min,max:e.max,step:e.step,onThrottledChange:e.onChange,leftIcon:e.leftIcon,rightIcon:e.rightIcon,isDisabled:e.isDisabled});case"select":return o.jsx(gs,{defaultValue:e.value,onChange:function(t){var n,r=t.target.value;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,"number"==typeof e.value?Number(r):r.toString())},options:e.options,disabledOptions:e.disabledOptions,isInvalid:e.isInvalid,isDisabled:e.isDisabled});case"switch":return o.jsx(se,{isChecked:e.isChecked,isDisabled:e.isDisabled,onChange:function(t){var n,r=t.target.checked;return null===(n=e.onChange)||void 0===n?void 0:n.call(e,r)}});case"custom":return e.component;default:return o.jsx("div",{})}}(e)},t)}))})}var ks=function(){return ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ks.apply(this,arguments)},Ss=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},js=function(e){var t=e.sx,r=e.className,a=Ss(e,["sx","className"]),i=n("RmgWindow");return o.jsx(h,ks({className:"rmg-window ".concat(null!=r?r:""),sx:ks(ks({},i),t)},a))},Cs=function(e){var t=e.isAppClipHeader,r=e.sx,a=e.className,i=Ss(e,["isAppClipHeader","sx","className"]),s=n("RmgWindowHeader");return o.jsx(h,ks({className:"rmg-window__header ".concat(t?"rmg-window__app-clip-header":""," ").concat(null!=a?a:""),sx:ks(ks({},s),r)},i))},Os=function(e){var t=e.sx,r=e.className,a=Ss(e,["sx","className"]),i=n("RmgPage");return o.jsx(h,ks({className:"rmg-page ".concat(null!=r?r:""),sx:ks(ks({},i),t)},a))},Rs=function(){return Rs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rs.apply(this,arguments)},zs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Es=function(e){var t=e.isOpen,r=e.alwaysOverlay,a=e.width,i=e.sx,s=e.children,l=zs(e,["isOpen","alwaysOverlay","width","sx","children"]),c=n("RmgSidePanel",{width:null!=a?a:320,alwaysOverlay:r});return o.jsx(h,Rs({as:"section",className:t?"show-side-panel":"",sx:Rs(Rs({},c),i),"data-testid":"side-panel-root"},l,{children:o.jsx(h,{className:"rmg-side-panel__inner",children:s})}))},As=function(e){var t=e.onClose,n=e.children;return o.jsxs(Z,{className:"rmg-side-panel__header",status:"info",variant:"solid",size:"xs",children:[o.jsx(K,{}),n,o.jsx(le,{onClick:t})]})},Ls=function(e){var t=e.children;return o.jsx("div",{className:"rmg-side-panel__body",children:t})},Ms=function(e){return"dark"===e?"primary.300":"primary.500"},Ps={variants:{flushed:function(e){var t=e.theme,n=e.colorMode;return{field:{_focusVisible:{borderColor:Ms(n),boxShadow:"0px 1px 0px 0px ".concat(ce(t,Ms(n)))}}}}}},Is={defaultProps:{colorScheme:"primary"}},Ts=function(e){return"dark"===e?"primary.300":"primary.500"},Ns={baseStyle:function(e){var t=e.theme,n=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:Ts(n),boxShadow:"0px 1px 0px 0px ".concat(ce(t,Ts(n)))},_focus:{borderColor:Ts(n),boxShadow:"0px 1px 0px 0px ".concat(ce(t,Ts(n)))},_focusVisible:{borderColor:Ts(n),boxShadow:"0px 1px 0px 0px ".concat(ce(t,Ts(n)))},"&.active":{borderColor:Ts(n),boxShadow:"0px 1px 0px 0px ".concat(ce(t,Ts(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===n?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===n?"whiteAlpha.300":"gray.200"}}}}}},Bs=function(){return Bs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Bs.apply(this,arguments)},Ds={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},$s={baseStyle:function(e){var t=e.noWrap;return Bs({minH:6,fontSize:"sm"},t?Ds:{textWrap:"pretty"})}},Vs={Input:Ps,Checkbox:Is,Select:Ps,Slider:{defaultProps:{colorScheme:"primary"}},Switch:Is,Textarea:Ps,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){var t=e.colorMode,n=e.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===t?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:Ns,RmgOutput:$s,RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSection:{baseStyle:{position:"relative",background:"inherit"}},RmgSectionHeader:{baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,n=e.width,r=e.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},Hs=function(){return Hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hs.apply(this,arguments)},Fs="chakra-ui-color-mode",Us={primary:Hs({},de.colors.teal)},Ws={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Gs=function(e){var t,n=e.children;return o.jsx(he,{theme:ue({config:(t="system"===lr.getColourMode(),lr.isStandaloneWindow()&&(t?window.localStorage.removeItem(Fs):window.localStorage.setItem(Fs,lr.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:Us,styles:Ws,components:Vs}),children:o.jsx(Zs,{children:n})})},Zs=function(e){var t=e.children,n=pe().setColorMode,r=fe();return We.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",r.config),lr.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(t?"dark":"light")}else n(e)}))}),[n]),o.jsx(o.Fragment,{children:t})};const Ks=Ze({name:"app",initialState:{canvasColor:"auto"},reducers:{setAppState:(e,t)=>{e.canvasColor=t.payload.canvasColor},setCanvas:(e,t)=>{e.canvasColor=t.payload},setLogin:(e,t)=>{e.login=t.payload}}}),{setAppState:Ys,setCanvas:Js,setLogin:Xs}=Ks.actions,qs=Ks.reducer,Qs=Ze({name:"runtime",initialState:{selected:new Set,active:void 0,mode:"free",svgViewBoxZoom:100,svgViewBoxMin:{x:-500,y:-250},paletteAppClip:{input:void 0,output:void 0},globalAlerts:new Map,history:[],undo_history:[]},reducers:{setSelected:(e,t)=>{e.selected=t.payload},addSelected:(e,t)=>{e.selected.add(t.payload)},removeSelected:(e,t)=>{e.selected.delete(t.payload)},clearSelected:e=>{e.selected=new Set},setActive:(e,t)=>{e.active=t.payload},setMode:(e,t)=>{e.mode=t.payload},openPaletteAppClip:(e,t)=>{e.paletteAppClip.input=t.payload,e.paletteAppClip.output=void 0},closePaletteAppClip:e=>{e.paletteAppClip.input=void 0},onPaletteAppClipEmit:(e,t)=>{e.paletteAppClip.input=void 0,e.paletteAppClip.output=t.payload},addGlobalAlert:(e,t)=>{e.globalAlerts.set(t.payload.id,t.payload.str)},removeGlobalAlert:(e,t)=>{e.globalAlerts.has(t.payload)&&e.globalAlerts.delete(t.payload)},removeGlobalAlertArray:(e,t)=>{t.payload.forEach((t=>{e.globalAlerts.has(t)&&e.globalAlerts.delete(t)}))},clearGlobalAlerts:e=>{e.globalAlerts.clear()},setSvgViewBoxZoom:(e,t)=>{e.svgViewBoxZoom=t.payload},setSvgViewBoxMin:(e,t)=>{e.svgViewBoxMin=t.payload},backupParam:(e,t)=>{e.history.push(t.payload),e.undo_history=[]},backupUndo:(e,t)=>{e.undo_history.push(t.payload)},backupRedo:e=>{e.undo_history.pop()},backupRemove:e=>{e.history.pop()}}}),{setSelected:el,addSelected:tl,removeSelected:nl,clearSelected:rl,setActive:ol,setMode:al,openPaletteAppClip:il,closePaletteAppClip:sl,onPaletteAppClipEmit:ll,addGlobalAlert:cl,removeGlobalAlert:dl,removeGlobalAlertArray:ul,clearGlobalAlerts:hl,setSvgViewBoxZoom:pl,setSvgViewBoxMin:fl,backupParam:gl,backupUndo:ml,backupRedo:vl,backupRemove:bl}=Qs.actions,yl=Qs.reducer,xl=async e=>{let t=!1;e||(e=JSON.stringify(Sl),t=!0);let n=JSON.parse(e);"version"in n&&Number.isInteger(n.version)||(n={...n,version:0},t=!0);let r=Number(n.version),o=JSON.stringify(n);for(;r in wl;)o=wl[r](o),r=Number(JSON.parse(o).version),t=!0;return t&&(console.warn(`Upgrade save to version: ${r}`),localStorage.setItem("rmp-designer__param__backup",e)),o},wl={0:e=>{const t=JSON.parse(e),n=t.svgs.map((e=>{const t={};for(const n in e.attrs)if(Object.prototype.hasOwnProperty.call(e.attrs,n)){const r=/^[0-9-]+$/,o=/^[A-Za-z0-9]+$/;/^"[^"]*"$/.test(e.attrs[n])?t[n]=`1${e.attrs[n]}`:r.test(e.attrs[n])?t[n]=`1"${e.attrs[n]}"`:o.test(e.attrs[n])?t[n]=`2${e.attrs[n]}`:t[n]=`3${e.attrs[n]}`}return{...e,attrs:t}}));return JSON.stringify({...t,version:1,svgs:n})},1:e=>{const t=JSON.parse(e);return JSON.stringify({...t,version:2,label:t.id,transform:Sl.transform})}},_l="https://railmapgen.org/v1",kl={translateX:0,translateY:0,scale:1,rotate:0},Sl={id:"new",label:"New SVG",transform:kl,version:2,type:"MiscNode",svgs:[],components:[]};var jl=(e=>(e.APP_LOAD="APP_LOAD",e))(jl||{});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function Cl(e){let t=e.length;for(;--t>=0;)e[t]=0}const Ol=256,Rl=286,zl=30,El=15,Al=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ll=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ml=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Pl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Il=new Array(576);Cl(Il);const Tl=new Array(60);Cl(Tl);const Nl=new Array(512);Cl(Nl);const Bl=new Array(256);Cl(Bl);const Dl=new Array(29);Cl(Dl);const $l=new Array(zl);function Vl(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let Hl,Fl,Ul;function Wl(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Cl($l);const Gl=e=>e<256?Nl[e]:Nl[256+(e>>>7)],Zl=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Kl=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Zl(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Yl=(e,t,n)=>{Kl(e,n[2*t],n[2*t+1])},Jl=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Xl=(e,t,n)=>{const r=new Array(16);let o,a,i=0;for(o=1;o<=El;o++)i=i+n[o-1]<<1,r[o]=i;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=Jl(r[t]++,t))}},ql=e=>{let t;for(t=0;t<Rl;t++)e.dyn_ltree[2*t]=0;for(t=0;t<zl;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Ql=e=>{e.bi_valid>8?Zl(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ec=(e,t,n,r)=>{const o=2*t,a=2*n;return e[o]<e[a]||e[o]===e[a]&&r[t]<=r[n]},tc=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&ec(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!ec(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},nc=(e,t,n)=>{let r,o,a,i,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,o=e.pending_buf[e.sym_buf+s++],0===r?Yl(e,o,t):(a=Bl[o],Yl(e,a+Ol+1,t),i=Al[a],0!==i&&(o-=Dl[a],Kl(e,o,i)),r--,a=Gl(r),Yl(e,a,n),i=Ll[a],0!==i&&(r-=$l[a],Kl(e,r,i)))}while(s<e.sym_next);Yl(e,256,t)},rc=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.elems;let i,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<a;i++)0!==n[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):n[2*i+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=r[2*l+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)tc(e,n,i);l=a;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],tc(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=s,n[2*l]=n[2*i]+n[2*s],e.depth[l]=(e.depth[i]>=e.depth[s]?e.depth[i]:e.depth[s])+1,n[2*i+1]=n[2*s+1]=l,e.heap[1]=l++,tc(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,f,g=0;for(h=0;h<=El;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,g++),n[2*d+1]=h,d>r||(e.bl_count[h]++,p=0,d>=s&&(p=i[d-s]),f=n[2*d],e.opt_len+=f*(h+p),a&&(e.static_len+=f*(o[2*d+1]+p)));if(0!==g){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>r||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),Xl(n,c,e.bl_count)},oc=(e,t,n)=>{let r,o,a=-1,i=t[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=i,i=t[2*(r+1)+1],++s<l&&o===i||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==a&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=o,0===i?(l=138,c=3):o===i?(l=6,c=3):(l=7,c=4))},ac=(e,t,n)=>{let r,o,a=-1,i=t[1],s=0,l=7,c=4;for(0===i&&(l=138,c=3),r=0;r<=n;r++)if(o=i,i=t[2*(r+1)+1],!(++s<l&&o===i)){if(s<c)do{Yl(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==a&&(Yl(e,o,e.bl_tree),s--),Yl(e,16,e.bl_tree),Kl(e,s-3,2)):s<=10?(Yl(e,17,e.bl_tree),Kl(e,s-3,3)):(Yl(e,18,e.bl_tree),Kl(e,s-11,7));s=0,a=o,0===i?(l=138,c=3):o===i?(l=6,c=3):(l=7,c=4)}};let ic=!1;const sc=(e,t,n,r)=>{Kl(e,0+(r?1:0),3),Ql(e),Zl(e,n),Zl(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var lc=(e,t,n,r)=>{let o,a,i=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Ol;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),rc(e,e.l_desc),rc(e,e.d_desc),i=(e=>{let t;for(oc(e,e.dyn_ltree,e.l_desc.max_code),oc(e,e.dyn_dtree,e.d_desc.max_code),rc(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Pl[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=o&&(o=a)):o=a=n+5,n+4<=o&&-1!==t?sc(e,t,n,r):4===e.strategy||a===o?(Kl(e,2+(r?1:0),3),nc(e,Il,Tl)):(Kl(e,4+(r?1:0),3),((e,t,n,r)=>{let o;for(Kl(e,t-257,5),Kl(e,n-1,5),Kl(e,r-4,4),o=0;o<r;o++)Kl(e,e.bl_tree[2*Pl[o]+1],3);ac(e,e.dyn_ltree,t-1),ac(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),nc(e,e.dyn_ltree,e.dyn_dtree)),ql(e),r&&Ql(e)},cc={_tr_init:e=>{ic||((()=>{let e,t,n,r,o;const a=new Array(16);for(n=0,r=0;r<28;r++)for(Dl[r]=n,e=0;e<1<<Al[r];e++)Bl[n++]=r;for(Bl[n-1]=r,o=0,r=0;r<16;r++)for($l[r]=o,e=0;e<1<<Ll[r];e++)Nl[o++]=r;for(o>>=7;r<zl;r++)for($l[r]=o<<7,e=0;e<1<<Ll[r]-7;e++)Nl[256+o++]=r;for(t=0;t<=El;t++)a[t]=0;for(e=0;e<=143;)Il[2*e+1]=8,e++,a[8]++;for(;e<=255;)Il[2*e+1]=9,e++,a[9]++;for(;e<=279;)Il[2*e+1]=7,e++,a[7]++;for(;e<=287;)Il[2*e+1]=8,e++,a[8]++;for(Xl(Il,287,a),e=0;e<zl;e++)Tl[2*e+1]=5,Tl[2*e]=Jl(e,5);Hl=new Vl(Il,Al,257,Rl,El),Fl=new Vl(Tl,Ll,0,zl,El),Ul=new Vl(new Array(0),Ml,0,19,7)})(),ic=!0),e.l_desc=new Wl(e.dyn_ltree,Hl),e.d_desc=new Wl(e.dyn_dtree,Fl),e.bl_desc=new Wl(e.bl_tree,Ul),e.bi_buf=0,e.bi_valid=0,ql(e)},_tr_stored_block:sc,_tr_flush_block:lc,_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Bl[n]+Ol+1)]++,e.dyn_dtree[2*Gl(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{Kl(e,2,3),Yl(e,256,Il),(e=>{16===e.bi_valid?(Zl(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},dc=(e,t,n,r)=>{let o=65535&e|0,a=e>>>16&65535|0,i=0;for(;0!==n;){i=n>2e3?2e3:n,n-=i;do{o=o+t[r++]|0,a=a+o|0}while(--i);o%=65521,a%=65521}return o|a<<16|0};const uc=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var hc=(e,t,n,r)=>{const o=uc,a=r+n;e^=-1;for(let i=r;i<a;i++)e=e>>>8^o[255&(e^t[i])];return-1^e},pc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gc,_tr_stored_block:mc,_tr_flush_block:vc,_tr_tally:bc,_tr_align:yc}=cc,{Z_NO_FLUSH:xc,Z_PARTIAL_FLUSH:wc,Z_FULL_FLUSH:_c,Z_FINISH:kc,Z_BLOCK:Sc,Z_OK:jc,Z_STREAM_END:Cc,Z_STREAM_ERROR:Oc,Z_DATA_ERROR:Rc,Z_BUF_ERROR:zc,Z_DEFAULT_COMPRESSION:Ec,Z_FILTERED:Ac,Z_HUFFMAN_ONLY:Lc,Z_RLE:Mc,Z_FIXED:Pc,Z_DEFAULT_STRATEGY:Ic,Z_UNKNOWN:Tc,Z_DEFLATED:Nc}=fc,Bc=258,Dc=262,$c=42,Vc=113,Hc=666,Fc=(e,t)=>(e.msg=pc[t],t),Uc=e=>2*e-(e>4?9:0),Wc=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Gc=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=o?n-o:0}while(--t);t=o,r=t;do{n=e.prev[--r],e.prev[r]=n>=o?n-o:0}while(--t)};let Zc=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Kc=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Yc=(e,t)=>{vc(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Kc(e.strm)},Jc=(e,t)=>{e.pending_buf[e.pending++]=t},Xc=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},qc=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=dc(e.adler,t,o,n):2===e.state.wrap&&(e.adler=hc(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},Qc=(e,t)=>{let n,r,o=e.max_chain_length,a=e.strstart,i=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-Dc?e.strstart-(e.w_size-Dc):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+Bc;let p=c[a+i-1],f=c[a+i];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+i]===f&&c[n+i-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(r=Bc-(h-a),a=h-Bc,r>i){if(e.match_start=t,i=r,r>=s)break;p=c[a+i-1],f=c[a+i]}}}while((t=u[t&d])>l&&0!=--o);return i<=e.lookahead?i:e.lookahead},ed=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Dc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Gc(e),r+=t),0===e.strm.avail_in)break;if(n=qc(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Zc(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Zc(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Dc&&0!==e.strm.avail_in)},td=(e,t)=>{let n,r,o,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>o&&(n=o),n<a&&(0===n&&t!==kc||t===xc||n!==r+e.strm.avail_in))break;i=t===kc&&n===r+e.strm.avail_in?1:0,mc(e,0,0,i),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Kc(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(qc(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===i);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==xc&&t!==kc&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(qc(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,a=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=a||(r||t===kc)&&t!==xc&&0===e.strm.avail_in&&r<=o)&&(n=r>o?o:r,i=t===kc&&0===e.strm.avail_in&&n===r?1:0,mc(e,e.block_start,n,i),e.block_start+=n,Kc(e.strm)),i?3:1)},nd=(e,t)=>{let n,r;for(;;){if(e.lookahead<Dc){if(ed(e),e.lookahead<Dc&&t===xc)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Zc(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Dc&&(e.match_length=Qc(e,n)),e.match_length>=3)if(r=bc(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Zc(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Zc(e,e.ins_h,e.window[e.strstart+1]);else r=bc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Yc(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===kc?(Yc(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Yc(e,!1),0===e.strm.avail_out)?1:2},rd=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Dc){if(ed(e),e.lookahead<Dc&&t===xc)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Zc(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Dc&&(e.match_length=Qc(e,n),e.match_length<=5&&(e.strategy===Ac||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=bc(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=Zc(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Yc(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=bc(e,0,e.window[e.strstart-1]),r&&Yc(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=bc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===kc?(Yc(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Yc(e,!1),0===e.strm.avail_out)?1:2};function od(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const ad=[new od(0,0,0,0,td),new od(4,4,8,4,nd),new od(4,5,16,8,nd),new od(4,6,32,32,nd),new od(4,4,16,16,rd),new od(8,16,32,32,rd),new od(8,16,128,128,rd),new od(8,32,128,256,rd),new od(32,128,258,1024,rd),new od(32,258,258,4096,rd)];function id(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Nc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Wc(this.dyn_ltree),Wc(this.dyn_dtree),Wc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Wc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Wc(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const sd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==$c&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Vc&&t.status!==Hc?1:0},ld=e=>{if(sd(e))return Fc(e,Oc);e.total_in=e.total_out=0,e.data_type=Tc;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?$c:Vc,e.adler=2===t.wrap?0:1,t.last_flush=-2,gc(t),jc},cd=e=>{const t=ld(e);var n;return t===jc&&((n=e.state).window_size=2*n.w_size,Wc(n.head),n.max_lazy_match=ad[n.level].max_lazy,n.good_match=ad[n.level].good_length,n.nice_match=ad[n.level].nice_length,n.max_chain_length=ad[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},dd=(e,t,n,r,o,a)=>{if(!e)return Oc;let i=1;if(t===Ec&&(t=6),r<0?(i=0,r=-r):r>15&&(i=2,r-=16),o<1||o>9||n!==Nc||r<8||r>15||t<0||t>9||a<0||a>Pc||8===r&&1!==i)return Fc(e,Oc);8===r&&(r=9);const s=new id;return e.state=s,s.strm=e,s.status=$c,s.wrap=i,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=a,s.method=n,cd(e)};var ud=(e,t)=>{if(sd(e)||t>Sc||t<0)return e?Fc(e,Oc):Oc;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Hc&&t!==kc)return Fc(e,0===e.avail_out?zc:Oc);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Kc(e),0===e.avail_out)return n.last_flush=-1,jc}else if(0===e.avail_in&&Uc(t)<=Uc(r)&&t!==kc)return Fc(e,zc);if(n.status===Hc&&0!==e.avail_in)return Fc(e,zc);if(n.status===$c&&0===n.wrap&&(n.status=Vc),n.status===$c){let t=Nc+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Lc||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Xc(n,t),0!==n.strstart&&(Xc(n,e.adler>>>16),Xc(n,65535&e.adler)),e.adler=1,n.status=Vc,Kc(e),0!==n.pending)return n.last_flush=-1,jc}if(57===n.status)if(e.adler=0,Jc(n,31),Jc(n,139),Jc(n,8),n.gzhead)Jc(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Jc(n,255&n.gzhead.time),Jc(n,n.gzhead.time>>8&255),Jc(n,n.gzhead.time>>16&255),Jc(n,n.gzhead.time>>24&255),Jc(n,9===n.level?2:n.strategy>=Lc||n.level<2?4:0),Jc(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Jc(n,255&n.gzhead.extra.length),Jc(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=hc(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Jc(n,0),Jc(n,0),Jc(n,0),Jc(n,0),Jc(n,0),Jc(n,9===n.level?2:n.strategy>=Lc||n.level<2?4:0),Jc(n,3),n.status=Vc,Kc(e),0!==n.pending)return n.last_flush=-1,jc;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=hc(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=o,Kc(e),0!==n.pending)return n.last_flush=-1,jc;t=0,r-=o}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=hc(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=hc(e.adler,n.pending_buf,n.pending-r,r)),Kc(e),0!==n.pending)return n.last_flush=-1,jc;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Jc(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=hc(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=hc(e.adler,n.pending_buf,n.pending-r,r)),Kc(e),0!==n.pending)return n.last_flush=-1,jc;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Jc(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=hc(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Kc(e),0!==n.pending))return n.last_flush=-1,jc;Jc(n,255&e.adler),Jc(n,e.adler>>8&255),e.adler=0}if(n.status=Vc,Kc(e),0!==n.pending)return n.last_flush=-1,jc}if(0!==e.avail_in||0!==n.lookahead||t!==xc&&n.status!==Hc){let r=0===n.level?td(n,t):n.strategy===Lc?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(ed(e),0===e.lookahead)){if(t===xc)return 1;break}if(e.match_length=0,n=bc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Yc(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===kc?(Yc(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Yc(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===Mc?((e,t)=>{let n,r,o,a;const i=e.window;for(;;){if(e.lookahead<=Bc){if(ed(e),e.lookahead<=Bc&&t===xc)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=i[o],r===i[++o]&&r===i[++o]&&r===i[++o])){a=e.strstart+Bc;do{}while(r===i[++o]&&r===i[++o]&&r===i[++o]&&r===i[++o]&&r===i[++o]&&r===i[++o]&&r===i[++o]&&r===i[++o]&&o<a);e.match_length=Bc-(a-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=bc(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=bc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Yc(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===kc?(Yc(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Yc(e,!1),0===e.strm.avail_out)?1:2})(n,t):ad[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Hc),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),jc;if(2===r&&(t===wc?yc(n):t!==Sc&&(mc(n,0,0,!1),t===_c&&(Wc(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Kc(e),0===e.avail_out))return n.last_flush=-1,jc}return t!==kc?jc:n.wrap<=0?Cc:(2===n.wrap?(Jc(n,255&e.adler),Jc(n,e.adler>>8&255),Jc(n,e.adler>>16&255),Jc(n,e.adler>>24&255),Jc(n,255&e.total_in),Jc(n,e.total_in>>8&255),Jc(n,e.total_in>>16&255),Jc(n,e.total_in>>24&255)):(Xc(n,e.adler>>>16),Xc(n,65535&e.adler)),Kc(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?jc:Cc)},hd={deflateInit:(e,t)=>dd(e,t,Nc,15,8,Ic),deflateInit2:dd,deflateReset:cd,deflateResetKeep:ld,deflateSetHeader:(e,t)=>sd(e)||2!==e.state.wrap?Oc:(e.state.gzhead=t,jc),deflate:ud,deflateEnd:e=>{if(sd(e))return Oc;const t=e.state.status;return e.state=null,t===Vc?Fc(e,Rc):jc},deflateSetDictionary:(e,t)=>{let n=t.length;if(sd(e))return Oc;const r=e.state,o=r.wrap;if(2===o||1===o&&r.status!==$c||r.lookahead)return Oc;if(1===o&&(e.adler=dc(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===o&&(Wc(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const a=e.avail_in,i=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ed(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Zc(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,ed(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=i,e.input=s,e.avail_in=a,r.wrap=o,jc},deflateInfo:"pako deflate (from Nodeca project)"};const pd=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var fd={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)pd(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,a=e.length;r<a;r++){let t=e[r];n.set(t,o),o+=t.length}return n}};let gd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(df){gd=!1}const md=new Uint8Array(256);for(let n=0;n<256;n++)md[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;md[254]=md[254]=1;var vd={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,o,a,i=e.length,s=0;for(o=0;o<i;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<i&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,o=0;a<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<i&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const a=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){a[o++]=t;continue}let i=md[t];if(i>4)a[o++]=65533,r+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&r<n;)t=t<<6|63&e[r++],i--;i>1?a[o++]=65533:t<65536?a[o++]=t:(t-=65536,a[o++]=55296|t>>10&1023,a[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&gd)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,o)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+md[e[n]]>t?n:t}},bd=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const yd=Object.prototype.toString,{Z_NO_FLUSH:xd,Z_SYNC_FLUSH:wd,Z_FULL_FLUSH:_d,Z_FINISH:kd,Z_OK:Sd,Z_STREAM_END:jd,Z_DEFAULT_COMPRESSION:Cd,Z_DEFAULT_STRATEGY:Od,Z_DEFLATED:Rd}=fc;function zd(e){this.options=fd.assign({level:Cd,method:Rd,chunkSize:16384,windowBits:15,memLevel:8,strategy:Od},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bd,this.strm.avail_out=0;let n=hd.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Sd)throw new Error(pc[n]);if(t.header&&hd.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?vd.string2buf(t.dictionary):"[object ArrayBuffer]"===yd.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=hd.deflateSetDictionary(this.strm,e),n!==Sd)throw new Error(pc[n]);this._dict_set=!0}}function Ed(e,t){const n=new zd(t);if(n.push(e,!0),n.err)throw n.msg||pc[n.err];return n.result}zd.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?kd:xd,"string"==typeof e?n.input=vd.string2buf(e):"[object ArrayBuffer]"===yd.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===wd||a===_d)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=hd.deflate(n,a),o===jd)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=hd.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Sd;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},zd.prototype.onData=function(e){this.chunks.push(e)},zd.prototype.onEnd=function(e){e===Sd&&(this.result=fd.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ad={Deflate:zd,deflate:Ed,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Ed(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Ed(e,t)},constants:fc};const Ld=16209;var Md=function(e,t){let n,r,o,a,i,s,l,c,d,u,h,p,f,g,m,v,b,y,x,w,_,k,S,j;const C=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),o=e.next_out,j=e.output,a=o-(t-e.avail_out),i=o+(e.avail_out-257),s=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,f=C.lencode,g=C.distcode,m=(1<<C.lenbits)-1,v=(1<<C.distbits)-1;e:do{p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),b=f[h&m];t:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,0===y)j[o++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=f[(65535&b)+(h&(1<<y)-1)];continue t}if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=Ld;break e}x=65535&b,y&=15,y&&(p<y&&(h+=S[n++]<<p,p+=8),x+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),b=g[h&v];n:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,!(16&y)){if(0==(64&y)){b=g[(65535&b)+(h&(1<<y)-1)];continue n}e.msg="invalid distance code",C.mode=Ld;break e}if(w=65535&b,y&=15,p<y&&(h+=S[n++]<<p,p+=8,p<y&&(h+=S[n++]<<p,p+=8)),w+=h&(1<<y)-1,w>s){e.msg="invalid distance too far back",C.mode=Ld;break e}if(h>>>=y,p-=y,y=o-a,w>y){if(y=w-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=Ld;break e}if(_=0,k=u,0===d){if(_+=l-y,y<x){x-=y;do{j[o++]=u[_++]}while(--y);_=o-w,k=j}}else if(d<y){if(_+=l+d-y,y-=d,y<x){x-=y;do{j[o++]=u[_++]}while(--y);if(_=0,d<x){y=d,x-=y;do{j[o++]=u[_++]}while(--y);_=o-w,k=j}}}else if(_+=d-y,y<x){x-=y;do{j[o++]=u[_++]}while(--y);_=o-w,k=j}for(;x>2;)j[o++]=k[_++],j[o++]=k[_++],j[o++]=k[_++],x-=3;x&&(j[o++]=k[_++],x>1&&(j[o++]=k[_++]))}else{_=o-w;do{j[o++]=j[_++],j[o++]=j[_++],j[o++]=j[_++],x-=3}while(x>2);x&&(j[o++]=j[_++],x>1&&(j[o++]=j[_++]))}break}}break}}while(n<r&&o<i);x=p>>3,n-=x,p-=x<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<i?i-o+257:257-(o-i),C.hold=h,C.bits=p};const Pd=15,Id=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Td=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Nd=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bd=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Dd=(e,t,n,r,o,a,i,s)=>{const l=s.bits;let c,d,u,h,p,f,g=0,m=0,v=0,b=0,y=0,x=0,w=0,_=0,k=0,S=0,j=null;const C=new Uint16Array(16),O=new Uint16Array(16);let R,z,E,A=null;for(g=0;g<=Pd;g++)C[g]=0;for(m=0;m<r;m++)C[t[n+m]]++;for(y=l,b=Pd;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return o[a++]=20971520,o[a++]=20971520,s.bits=1,0;for(v=1;v<b&&0===C[v];v++);for(y<v&&(y=v),_=1,g=1;g<=Pd;g++)if(_<<=1,_-=C[g],_<0)return-1;if(_>0&&(0===e||1!==b))return-1;for(O[1]=0,g=1;g<Pd;g++)O[g+1]=O[g]+C[g];for(m=0;m<r;m++)0!==t[n+m]&&(i[O[t[n+m]]++]=m);if(0===e?(j=A=i,f=20):1===e?(j=Id,A=Td,f=257):(j=Nd,A=Bd,f=0),S=0,m=0,g=v,p=a,x=y,w=0,u=-1,k=1<<y,h=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){R=g-w,i[m]+1<f?(z=0,E=i[m]):i[m]>=f?(z=A[i[m]-f],E=j[i[m]-f]):(z=96,E=0),c=1<<g-w,d=1<<x,v=d;do{d-=c,o[p+(S>>w)+d]=R<<24|z<<16|E|0}while(0!==d);for(c=1<<g-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,m++,0==--C[g]){if(g===b)break;g=t[n+i[m]]}if(g>y&&(S&h)!==u){for(0===w&&(w=y),p+=v,x=g-w,_=1<<x;x+w<b&&(_-=C[x+w],!(_<=0));)x++,_<<=1;if(k+=1<<x,1===e&&k>852||2===e&&k>592)return 1;u=S&h,o[u]=y<<24|x<<16|p-a|0}}return 0!==S&&(o[p+S]=g-w<<24|64<<16|0),s.bits=y,0};const{Z_FINISH:$d,Z_BLOCK:Vd,Z_TREES:Hd,Z_OK:Fd,Z_STREAM_END:Ud,Z_NEED_DICT:Wd,Z_STREAM_ERROR:Gd,Z_DATA_ERROR:Zd,Z_MEM_ERROR:Kd,Z_BUF_ERROR:Yd,Z_DEFLATED:Jd}=fc,Xd=16180,qd=16190,Qd=16191,eu=16192,tu=16194,nu=16199,ru=16200,ou=16206,au=16209,iu=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function su(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Xd||t.mode>16211?1:0},cu=e=>{if(lu(e))return Gd;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Xd,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Fd},du=e=>{if(lu(e))return Gd;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,cu(e)},uu=(e,t)=>{let n;if(lu(e))return Gd;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Gd:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,du(e))},hu=(e,t)=>{if(!e)return Gd;const n=new su;e.state=n,n.strm=e,n.window=null,n.mode=Xd;const r=uu(e,t);return r!==Fd&&(e.state=null),r};let pu,fu,gu=!0;const mu=e=>{if(gu){pu=new Int32Array(512),fu=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Dd(1,e.lens,0,288,pu,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Dd(2,e.lens,0,32,fu,0,e.work,{bits:5}),gu=!1}e.lencode=pu,e.lenbits=9,e.distcode=fu,e.distbits=5},vu=(e,t,n,r)=>{let o;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>r&&(o=r),a.window.set(t.subarray(n-r,n-r+o),a.wnext),(r-=o)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0};var bu=(e,t)=>{let n,r,o,a,i,s,l,c,d,u,h,p,f,g,m,v,b,y,x,w,_,k,S=0;const j=new Uint8Array(4);let C,O;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(lu(e)||!e.output||!e.input&&0!==e.avail_in)return Gd;n=e.state,n.mode===Qd&&(n.mode=eu),i=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,u=s,h=l,k=Fd;e:for(;;)switch(n.mode){case Xd:if(0===n.wrap){n.mode=eu;break}for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,j[0]=255&c,j[1]=c>>>8&255,n.check=hc(n.check,j,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=au;break}if((15&c)!==Jd){e.msg="unknown compression method",n.mode=au;break}if(c>>>=4,d-=4,_=8+(15&c),0===n.wbits&&(n.wbits=_),_>15||_>n.wbits){e.msg="invalid window size",n.mode=au;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Qd,c=0,d=0;break;case 16181:for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==Jd){e.msg="unknown compression method",n.mode=au;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=au;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=hc(n.check,j,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,j[2]=c>>>16&255,j[3]=c>>>24&255,n.check=hc(n.check,j,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=hc(n.check,j,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=hc(n.check,j,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+p),_)),512&n.flags&&4&n.wrap&&(n.check=hc(n.check,r,p,a)),s-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;p=0;do{_=r[a+p++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=hc(n.check,r,p,a)),s-=p,a+=p,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;p=0;do{_=r[a+p++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=hc(n.check,r,p,a)),s-=p,a+=p,_)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=au;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Qd;break;case 16189:for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}e.adler=n.check=iu(c),c=0,d=0,n.mode=qd;case qd:if(0===n.havedict)return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,Wd;e.adler=n.check=1,n.mode=Qd;case Qd:if(t===Vd||t===Hd)break e;case eu:if(n.last){c>>>=7&d,d-=7&d,n.mode=ou;break}for(;d<3;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(mu(n),n.mode=nu,t===Hd){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=au}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=au;break}if(n.length=65535&c,c=0,d=0,n.mode=tu,t===Hd)break e;case tu:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;o.set(r.subarray(a,a+p),i),s-=p,a+=p,l-=p,i+=p,n.length-=p;break}n.mode=Qd;break;case 16196:for(;d<14;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=au;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.lens[R[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[R[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},k=Dd(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,k){e.msg="invalid code lengths set",n.mode=au;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],m=S>>>24,v=S>>>16&255,b=65535&S,!(m<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(b<16)c>>>=m,d-=m,n.lens[n.have++]=b;else{if(16===b){for(O=m+2;d<O;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(c>>>=m,d-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=au;break}_=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(O=m+3;d<O;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=m,d-=m,_=0,p=3+(7&c),c>>>=3,d-=3}else{for(O=m+7;d<O;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=m,d-=m,_=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=au;break}for(;p--;)n.lens[n.have++]=_}}if(n.mode===au)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=au;break}if(n.lenbits=9,C={bits:n.lenbits},k=Dd(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,k){e.msg="invalid literal/lengths set",n.mode=au;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},k=Dd(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,k){e.msg="invalid distances set",n.mode=au;break}if(n.mode=nu,t===Hd)break e;case nu:n.mode=ru;case ru:if(s>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,Md(e,h),i=e.next_out,o=e.output,l=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,c=n.hold,d=n.bits,n.mode===Qd&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],m=S>>>24,v=S>>>16&255,b=65535&S,!(m<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(v&&0==(240&v)){for(y=m,x=v,w=b;S=n.lencode[w+((c&(1<<y+x)-1)>>y)],m=S>>>24,v=S>>>16&255,b=65535&S,!(y+m<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=m,d-=m,n.back+=m,n.length=b,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=Qd;break}if(64&v){e.msg="invalid literal/length code",n.mode=au;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(O=n.extra;d<O;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[c&(1<<n.distbits)-1],m=S>>>24,v=S>>>16&255,b=65535&S,!(m<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(0==(240&v)){for(y=m,x=v,w=b;S=n.distcode[w+((c&(1<<y+x)-1)>>y)],m=S>>>24,v=S>>>16&255,b=65535&S,!(y+m<=d);){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=m,d-=m,n.back+=m,64&v){e.msg="invalid distance code",n.mode=au;break}n.offset=b,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(O=n.extra;d<O;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=au;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=au;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=o,f=i-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{o[i++]=g[f++]}while(--p);0===n.length&&(n.mode=ru);break;case 16205:if(0===l)break e;o[i++]=n.length,l--,n.mode=ru;break;case ou:if(n.wrap){for(;d<32;){if(0===s)break e;s--,c|=r[a++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?hc(n.check,o,h,i-h):dc(n.check,o,h,i-h)),h=l,4&n.wrap&&(n.flags?c:iu(c))!==n.check){e.msg="incorrect data check",n.mode=au;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break e;s--,c+=r[a++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=au;break}c=0,d=0}n.mode=16208;case 16208:k=Ud;break e;case au:k=Zd;break e;case 16210:return Kd;default:return Gd}return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<au&&(n.mode<ou||t!==$d))&&vu(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?hc(n.check,o,h,e.next_out-h):dc(n.check,o,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Qd?128:0)+(n.mode===nu||n.mode===tu?256:0),(0===u&&0===h||t===$d)&&k===Fd&&(k=Yd),k},yu={inflateReset:du,inflateReset2:uu,inflateResetKeep:cu,inflateInit:e=>hu(e,15),inflateInit2:hu,inflate:bu,inflateEnd:e=>{if(lu(e))return Gd;let t=e.state;return t.window&&(t.window=null),e.state=null,Fd},inflateGetHeader:(e,t)=>{if(lu(e))return Gd;const n=e.state;return 0==(2&n.wrap)?Gd:(n.head=t,t.done=!1,Fd)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,o,a;return lu(e)?Gd:(r=e.state,0!==r.wrap&&r.mode!==qd?Gd:r.mode===qd&&(o=1,o=dc(o,t,n,0),o!==r.check)?Zd:(a=vu(e,t,n,n),a?(r.mode=16210,Kd):(r.havedict=1,Fd)))},inflateInfo:"pako inflate (from Nodeca project)"},xu=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const wu=Object.prototype.toString,{Z_NO_FLUSH:_u,Z_FINISH:ku,Z_OK:Su,Z_STREAM_END:ju,Z_NEED_DICT:Cu,Z_STREAM_ERROR:Ou,Z_DATA_ERROR:Ru,Z_MEM_ERROR:zu}=fc;function Eu(e){this.options=fd.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bd,this.strm.avail_out=0;let n=yu.inflateInit2(this.strm,t.windowBits);if(n!==Su)throw new Error(pc[n]);if(this.header=new xu,yu.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=vd.string2buf(t.dictionary):"[object ArrayBuffer]"===wu.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=yu.inflateSetDictionary(this.strm,t.dictionary),n!==Su)))throw new Error(pc[n])}function Au(e,t){const n=new Eu(t);if(n.push(e),n.err)throw n.msg||pc[n.err];return n.result}Eu.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let a,i,s;if(this.ended)return!1;for(i=t===~~t?t:!0===t?ku:_u,"[object ArrayBuffer]"===wu.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=yu.inflate(n,i),a===Cu&&o&&(a=yu.inflateSetDictionary(n,o),a===Su?a=yu.inflate(n,i):a===Ru&&(a=Cu));n.avail_in>0&&a===ju&&n.state.wrap>0&&0!==e[n.next_in];)yu.inflateReset(n),a=yu.inflate(n,i);switch(a){case Ou:case Ru:case Cu:case zu:return this.onEnd(a),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||a===ju))if("string"===this.options.to){let e=vd.utf8border(n.output,n.next_out),t=n.next_out-e,o=vd.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==Su||0!==s){if(a===ju)return a=yu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Eu.prototype.onData=function(e){this.chunks.push(e)},Eu.prototype.onEnd=function(e){e===Su&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=fd.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Lu={Inflate:Eu,inflate:Au,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Au(e,t)},ungzip:Au,constants:fc};const{Deflate:Mu,deflate:Pu,deflateRaw:Iu,gzip:Tu}=Ad,{Inflate:Nu,inflate:Bu,inflateRaw:Du,ungzip:$u}=Lu;var Vu={Deflate:Mu,deflate:Pu,deflateRaw:Iu,gzip:Tu,Inflate:Nu,inflate:Bu,inflateRaw:Du,ungzip:$u,constants:fc};let Hu=e=>crypto.getRandomValues(new Uint8Array(e));const Fu=e=>{const t=e.currentTarget.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},Uu=(e,t,n,r)=>({x:e*n/100+r.x,y:t*n/100+r.y}),Wu=(e,t)=>Math.round(e/t)*t,Gu=((e,t=21)=>((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(a=t)=>{let i="";for(;;){let t=n(o),s=o;for(;s--;)if(i+=e[t[s]&r]||"",i.length===a)return i}}})(e,t,Hu))("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",10),Zu=navigator.platform.startsWith("Mac"),Ku=(e,t,n)=>{const r=new Blob([n],{type:t});Yu(e,r)},Yu=(e,t)=>{const n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},Ju=e=>{const t=(new TextEncoder).encode(e),n=Vu.deflate(t);return btoa(String.fromCharCode(...new Uint8Array(n.buffer)))},Xu=async(e,t="SHA-256")=>{const n=(new TextEncoder).encode(e),r=await crypto.subtle.digest(t,n);return Array.from(new Uint8Array(r)).map((e=>e.toString(16).padStart(2,"0"))).join("")},qu=e=>new Promise((t=>{const n=new FileReader;n.onloadend=()=>t(n.result),n.readAsText(e)})),Qu=Ze({name:"param",initialState:Sl,reducers:{setParam:(e,t)=>{e.id=t.payload.id,e.label=t.payload.label,e.transform=t.payload.transform,e.type=t.payload.type,e.color=t.payload.color,e.svgs=t.payload.svgs,e.components=t.payload.components,e.core=t.payload.core},setLabel:(e,t)=>{e.label=t.payload,e.id=Gu(6)},setTransform:(e,t)=>{e.transform=t.payload,e.id=Gu(6)},setType:(e,t)=>{e.type=t.payload,e.id=Gu(6)},setColor:(e,t)=>{e.color=t.payload,e.id=Gu(6)},setSvgs:(e,t)=>{e.svgs=t.payload,e.id=Gu(6)},addSvg:(e,t)=>{e.svgs.push(t.payload),e.id=Gu(6)},setComponents:(e,t)=>{e.components=t.payload,e.id=Gu(6)},addComponent:(e,t)=>{e.components.push(t.payload),e.id=Gu(6)},deleteComponent:(e,t)=>{e.components=e.components.filter(((e,n)=>n!==t.payload)),e.id=Gu(6)},setComponentValue:(e,t)=>{e.components[t.payload.index]=t.payload.value,e.id=Gu(6)},setCore:(e,t)=>{e.core=t.payload,e.id=Gu(6)}}}),{setParam:eh,setLabel:th,setTransform:nh,setType:rh,setColor:oh,setSvgs:ah,addSvg:ih,setComponents:sh,addComponent:lh,deleteComponent:ch,setComponentValue:dh,setCore:uh}=Qu.actions,hh=Qu.reducer;Qe();const ph=Ke({app:qs,runtime:yl,param:hh}),fh=Ye(),gh=((e={})=>Je({reducer:ph,middleware:e=>e({serializableCheck:!1}).prepend(fh.middleware),preloadedState:e}))();gh.subscribe((()=>{localStorage.setItem("rmp-designer__param",JSON.stringify(gh.getState().param)),localStorage.setItem("rmp-designer__app",JSON.stringify(gh.getState().app))}));const mh=()=>Xe(),vh=qe;window.rmgStore=gh;const bh={"MyriadPro-Semibold":void 0,"Vegur-Bold":void 0,"GenYoMinTW-SB":void 0,IdentityFont:{source:'url("./fonts/LTAIdentity-Medium.woff")',descriptors:{display:"swap"}},"M PLUS 2":{source:'url("./fonts/Mplus2-Medium.otf")',descriptors:{display:"swap"}},Roboto:{source:'url("./fonts/Roboto-Bold.ttf")',descriptors:{display:"swap"}},MontaguSlab:{source:'url("./fonts/MontaguSlab.ttf")',descriptors:{display:"swap"}},Railway:{source:'url("./fonts/Railway-PlyE.otf")',descriptors:{display:"swap"}}},yh=["fonts_mtr","fonts_mrt","fonts_jreast","fonts_berlin","fonts_tokyo","fonts_tube"],xh=[],wh=async()=>{await Promise.all(Object.entries(bh).map((([e,t])=>lr.loadFont(e,t&&{configs:[t]})))),yh.forEach((e=>{if(!xh.includes(e)){xh.push(e);const t=document.createElement("link");t.rel="stylesheet",t.id=e,t.href=`/rmp-designer/styles/${e}.css`,document.head.append(t)}}))};function _h(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function kh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(e)}function Sh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"},child:[]}]})(e)}function jh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 4H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 0 0-2-2zm-7 6-4 4h3v6h2v-6h3l-4-4z"},child:[]}]})(e)}function Ch(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(e)}function Oh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 17 5-5-5-5-1.41 1.41L18.17 11H9v2h9.17l-2.58 2.59z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h14v2h2V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-2h-2v2z"},child:[]}]})(e)}function Rh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function zh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},child:[]}]})(e)}function Eh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"},child:[]}]})(e)}function Ah(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},child:[]}]})(e)}function Lh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},child:[]}]})(e)}function Mh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function Ph(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16a8.002 8.002 0 0 1 7.6-5.5c1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"},child:[]}]})(e)}function Ih(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(e)}function Th(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"},child:[]}]})(e)}function Nh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)}function Bh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10zm-8.01-9-1.41 1.41L12.16 12H8v2h4.16l-1.59 1.59L11.99 17 16 13.01 11.99 9z"},child:[]}]})(e)}function Dh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(e)}function $h(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"},child:[]}]})(e)}function Vh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"},child:[]}]})(e)}function Hh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"},child:[]}]})(e)}function Fh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function Uh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"},child:[]}]})(e)}function Wh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"},child:[]}]})(e)}function Gh(e){return ge({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"},child:[]}]})(e)}const Zh=e=>{const{isOpen:t,onClose:n}=e,{t:r}=et(),a=lr.getAppVersion();return o.jsxs(me,{isOpen:t,onClose:n,size:"xl",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsx(D,{children:r("header.about.title")}),o.jsx($,{}),o.jsxs(V,{paddingBottom:10,children:[o.jsxs(h,{direction:"row",p:5,children:[o.jsx(be,{boxSize:"128px",src:"/rmp-designer//logo192.png"}),o.jsxs(h,{direction:"column",width:"100%",alignItems:"center",justifyContent:"center",children:[o.jsx(H,{fontSize:"xl",as:"b",children:r("RMP Designer")}),o.jsx("br",{}),o.jsx(H,{children:a})]})]}),o.jsx(p,{margin:5,children:o.jsx(H,{fontSize:"xl",children:r("header.about.intro")})}),o.jsx(ye,{children:o.jsxs(xe,{size:"lg",w:"95%",onClick:()=>window.open("https://github.com/langonginc","_blank"),cursor:"pointer",children:[o.jsx(we,{src:"https://github.com/langonginc.png",size:"lg",my:2,ml:-1,mr:2}),o.jsxs(_e,{display:"block",width:"100%",children:[o.jsx(H,{fontSize:"lg",fontWeight:"bold",mb:1,children:"langonginc"}),o.jsx(H,{fontSize:"sm",children:"Live a life you will remember."}),o.jsx(H,{fontSize:"sm",align:"right",mb:1,children:"--Avicii"})]})]})})]})]})]})},Kh=()=>{const[e,t]=Ge.useState(!1),{svgViewBoxZoom:n}=vh((e=>e.runtime)),r=mh(),a=[{type:"slider",label:"",value:400-n,min:10,max:390,step:1,onChange:e=>r(pl(400-e)),leftIcon:o.jsx(Eh,{}),rightIcon:o.jsx(zh,{}),minW:160}];return o.jsxs(d,{isOpen:e,onOpen:()=>t(!0),onClose:()=>t(!1),children:[o.jsx(E,{children:o.jsx(ne,{"aria-label":"zoom",variant:"ghost",size:"sm",icon:o.jsx(zh,{}),onClick:()=>t(!e)})}),o.jsx(k,{children:o.jsx(I,{children:o.jsx(_s,{fields:a,noLabel:!0})})})]})};function Yh(e){return!!e.match(/<image*/)}const Jh=e=>{var t;const n=function e(t){var n,r;if(r=t.tagName,["sodipodi:namedview","metadata","rdf:RDF","cc:Work","dc:format","dc:type","dc:title"].includes(r))return null;const o={};Array.from(t.attributes).forEach((e=>{var t;(t=e.name).startsWith("sodipodi:")||t.startsWith("inkscape:")||t.startsWith("xmlns:")||t.startsWith("xml:space")||("style"===e.name?o[e.name]=`3${JSON.stringify(function(e){if("object"==typeof e)return e;if("string"==typeof e){const t={};return e.split(";").forEach((e=>{const[n,r]=e.split(":");if(n&&r){const e=n.trim(),o=r.trim(),a=e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));t[a]=o}})),t}return{}}(e.value))}`:o[e.name]=`1"${e.value.trim()}"`)})),"g"!==t.tagName&&null!==(n=t.textContent)&&void 0!==n&&n.trim()&&(o._rmp_children_text=`1"${t.textContent.trim()}"`);const a=[];return Array.from(t.children).forEach((t=>{const n=e(t);n&&a.push(n)})),{id:`id_${Gu(10)}`,type:t.tagName,label:Gu(5),attrs:o,children:a.length?a:void 0}}((new DOMParser).parseFromString(e,"image/svg+xml").documentElement);return null!==(t=null==n?void 0:n.children)&&void 0!==t?t:[]},Xh=e=>{const{isOpen:t,onClose:n}=e,{t:r}=et(),a=mh(),i=ke(),[s,l]=Ge.useState(""),c=[{label:"SVG",type:"textarea",value:"",onChange:e=>l(e)}];return o.jsxs(me,{isOpen:t,onClose:n,size:"xl",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsx(D,{children:r("header.import.pasteSVG")}),o.jsx($,{}),o.jsx(V,{paddingBottom:10,children:o.jsx(_s,{fields:c,minW:"full"})}),o.jsxs(F,{children:[o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",onClick:n,children:r("cancel")}),o.jsx(U,{colorScheme:"red",mr:"1",onClick:()=>{Yh(s)?i({title:"SVG format not available",status:"error",duration:9e3,isClosable:!0}):(a(ah(Jh(s))),a(th(`SVG ${Gu(5)}`)),a(nh(kl)),n())},children:r("apply")})]})]})]})},qh={h:"80%",w:"80%","& iframe":{h:"100%",w:"100%"},"& div":{h:"100%",w:"100%"}};function Qh(e){const{isOpen:t,onClose:n}=e;return o.jsxs(Ir,{isOpen:t,onClose:n,size:"full",sx:qh,children:[o.jsx("iframe",{src:"/rmp-gallery/?tabId=2",loading:"lazy"}),o.jsx(le,{onClick:n,position:"fixed",top:"5px",right:"15px"})]})}function ep(){const{t:e}=et(),t=mh(),n=ke(),r=Ge.useRef(null),a=Ge.useRef(null),[i,s]=Ge.useState(!1),[l,c]=Ge.useState(!1);return o.jsxs(Se,{id:"upload",children:[o.jsx(je,{as:ne,size:"sm",variant:"ghost",icon:o.jsx(Dh,{})}),o.jsxs(Ce,{children:[o.jsx(Oe,{icon:o.jsx(Sh,{}),onClick:()=>{t(eh(Sl)),t(nh(kl)),t(hl())},children:e("header.import.new")}),o.jsx("input",{id:"upload_param",ref:a,type:"file",accept:".json",hidden:!0,onChange:async e=>{var r;const o=null===(r=e.target.files)||void 0===r?void 0:r[0];if(console.log("OpenActions.handleUpload():: received file",o),"application/json"!==(null==o?void 0:o.type))console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted.");else try{const e=await qu(o);await(async e=>{const r=await xl(e),o=JSON.parse(r);if(!("id"in o&&"type"in o&&"label"in o&&"svgs"in o&&Array.isArray(o.svgs)&&"components"in o&&Array.isArray(o.components)&&"transform"in o))throw n({title:"Invalid param",status:"error",duration:9e3,isClosable:!0}),new Error("Invalid param");{const n=await xl(e);t(eh(JSON.parse(n)))}t(hl())})(e)}catch(Fc){console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",Fc)}e.target.value="",t(hl())},"data-testid":"file-upload"}),o.jsx(Oe,{icon:o.jsx(Dh,{}),onClick:()=>{var e;return null==a||null===(e=a.current)||void 0===e?void 0:e.click()},children:e("header.import.uploadParam")}),o.jsx(Oe,{hidden:!0,icon:o.jsx(Gh,{}),onClick:()=>s(!0),children:e("header.import.pasteSVG")}),o.jsx("input",{id:"upload_svg",ref:r,type:"file",accept:".svg",hidden:!0,onChange:async e=>{var r;const o=null===(r=e.target.files)||void 0===r?void 0:r[0];if(console.log("OpenActions.handleUpload():: received file",o),"image/svg+xml"!==(null==o?void 0:o.type))console.error("OpenActions.handleUpload():: Invalid file type! Only file in JSON format is accepted.");else try{const e=await qu(o);if(Yh(e))return void n({title:"SVG format not available",status:"error",duration:9e3,isClosable:!0});t(ah(Jh(e))),t(th(`SVG ${Gu(5)}`)),t(nh(kl))}catch(Fc){console.error("OpenActions.handleUpload():: Unknown error occurred while parsing the uploaded file",Fc)}e.target.value="",t(hl())},"data-testid":"file-upload"}),o.jsx(Oe,{icon:o.jsx(jh,{}),onClick:()=>{var e;return null==r||null===(e=r.current)||void 0===e?void 0:e.click()},children:e("header.import.uploadSVG")}),o.jsx(Oe,{icon:o.jsx(Ch,{}),onClick:()=>c(!0),children:e("header.import.gallery")})]}),o.jsx(Xh,{isOpen:i,onClose:()=>s(!1)}),o.jsx(Qh,{isOpen:l,onClose:()=>c(!1)})]})}const tp=e=>{const{isOpen:t,onClose:n}=e,{t:r}=et(),a=mh(),{canvasColor:i}=vh((e=>e.app)),s=[{label:r("header.settings.canvasBackground.label"),type:"select",options:{auto:r("header.settings.canvasBackground.auto"),white:r("header.settings.canvasBackground.white"),dark:r("header.settings.canvasBackground.dark")},value:i,onChange:e=>{a(Js(e))}}];return o.jsxs(me,{isOpen:t,onClose:n,size:"xl",scrollBehavior:"inside",trapFocus:!1,children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsx(D,{children:r("header.settings.title")}),o.jsx($,{}),o.jsx(V,{children:o.jsx(_s,{fields:s})}),o.jsx(F,{children:o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",onClick:n,children:r("close")})})]})]})},np=(e,...t)=>new Function(...t,`return ${e}`),rp={a:!0,animate:!1,animateMotion:!1,animateTransform:!1,circle:!1,clipPath:!0,colorProfile:!1,defs:!0,desc:!0,discard:!1,ellipse:!1,feBlend:!1,feColorMatrix:!1,feComponentTransfer:!1,feComposite:!1,feConvolveMatrix:!1,feDiffuseLighting:!1,feDisplacementMap:!1,feDistantLight:!1,feDropShadow:!1,feFlood:!1,feFuncA:!1,feFuncB:!1,feFuncG:!1,feFuncR:!1,feGaussianBlur:!1,feImage:!1,feMerge:!0,feMergeNode:!1,feMorphology:!1,feOffset:!1,fePointLight:!1,feSpecularLighting:!1,feSpotLight:!1,feTile:!1,feTurbulence:!1,filter:!0,font:!0,fontFace:!1,fontFaceFormat:!1,fontFaceName:!1,fontFaceSrc:!1,fontFaceUri:!1,foreignObject:!0,g:!0,glyph:!0,glyphRef:!1,hatch:!0,hatchpath:!1,hkern:!1,iframe:!1,image:!1,line:!1,linearGradient:!0,marker:!0,mask:!0,mesh:!0,meshgradient:!0,meshpatch:!0,meshrow:!0,metadata:!0,missingGlyph:!0,mpath:!1,path:!1,pattern:!0,polygon:!1,polyline:!1,radialGradient:!0,rect:!1,script:!0,set:!1,solidcolor:!1,stop:!1,style:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,title:!0,tref:!0,tspan:!0,unknown:!1,use:!1,view:!1,vkern:!1},op=e=>{var t;return null!==(t=rp[e])&&void 0!==t&&t},ap=e=>{var t,n;const{svgsElem:r,components:a,prefix:i,handlePointerUp:s,handlePointerMove:l,handlePointerDown:c}=e,{id:d,type:u,attrs:h}=r,p=mh(),{globalAlerts:f,selected:g}=vh((e=>e.runtime)),m=Ge.useCallback((e=>c(d,[...i,d],e)),[d,c]),v=Ge.useCallback((e=>l(d,[...i,d],e)),[d,l]),b=Ge.useCallback((e=>s(d,[...i,d],e)),[d,s]),y=f.has(d),[x,w]=Ge.useState(void 0);Ge.useEffect((()=>{!y&&x&&(p(cl({id:d,str:x})),w(void 0))}),[x]);const _=((e,t,n,r)=>{const o={};if(x||y)return o;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a))try{o[a]=np(e[a].slice(1),...t)(...n.map(((e,t)=>"number"!==r[t]||Number.isNaN(Number(e))?e:Number(e))))}catch(cf){cf instanceof Error&&w(cf.message)}return o})(h,a.map((e=>e.label)),a.map((e=>e.value?e.value:e.defaultValue)),a.map((e=>e.type))),k=op(u)&&r.children?r.children.map(((e,t)=>o.jsx(ap,{svgsElem:e,components:a,prefix:[...i,d],handlePointerDown:c,handlePointerMove:l,handlePointerUp:s},t))):"_rmp_children_text"in _?[_._rmp_children_text]:[];"style"in _&&"object"!=typeof _.style&&w('"style" must be an object!');const S="style"in _&&"object"==typeof _.style?{..._.style,cursor:"move"}:{cursor:"move"};return o.jsx("g",{id:`g_${d}`,transform:`translate(${null!==(t=_.x)&&void 0!==t?t:0}, ${null!==(n=_.y)&&void 0!==n?n:0})`,opacity:g.has(d)||0===g.size?1:.5,children:Ge.createElement(u,{..._,id:d,key:d,x:0,y:0,onPointerDown:m,onPointerMove:v,onPointerUp:b,style:S},...k)},`g_${d}`)},ip=new BroadcastChannel("RMP_MASTER_CHANNEL"),sp=e=>{const{isOpen:t,onClose:n,param:r,exportMode:a}=e,{t:i}=et(),[s,l]=Ge.useState("");return Ge.useEffect((()=>{l(JSON.stringify(r))}),[t]),o.jsxs(me,{isOpen:t,onClose:n,size:"sm",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsxs(D,{children:[o.jsx(H,{as:"b",fontSize:"xl",children:i("header.export.export")}),o.jsx($,{})]}),o.jsx(V,{children:o.jsx(z,{value:s,hidden:a,readOnly:!0,fontFamily:"monospace",fontSize:"xx-small",minH:"200"})}),o.jsxs(F,{children:[o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",onClick:n,children:i("close")}),o.jsx(U,{colorScheme:"blue",variant:"solid",mr:"1",onClick:()=>{const e=JSON.stringify(r);ip.postMessage({event:"MASTER_POST",data:e}),n()},hidden:!a,children:i("header.export.export")})]})]})]})},lp=e=>{const{isOpen:t,onClose:n,exportMode:r}=e,a=tt(),{t:i}=et(),s=vh((e=>e.param)),l=mh(),c=Ge.useRef(null),d=Ge.useRef(null),[u,h]=Ge.useState(!1),[p,f]=Ge.useState(!1),[g,m]=Ge.useState(!1),v=[{label:i("panel.common.label"),type:"input",value:s.label,onChange:e=>l(th(e))},{label:i("header.export.showLines"),type:"switch",isChecked:u,onChange:e=>h(e)},{label:i("header.export.showBadges"),type:"switch",isChecked:p,onChange:e=>f(e)},{label:i("header.export.offsetX"),type:"input",value:s.transform.translateX.toString(),onChange:e=>l(nh({...s.transform,translateX:Number(e)}))},{label:i("header.export.offsetY"),type:"input",value:s.transform.translateY.toString(),onChange:e=>l(nh({...s.transform,translateY:Number(e)}))},{label:i("header.export.scale"),type:"input",value:s.transform.scale.toString(),onChange:e=>l(nh({...s.transform,scale:Number(e)}))},{label:i("header.export.rotate"),type:"input",value:s.transform.rotate.toString(),onChange:e=>l(nh({...s.transform,rotate:Number(e)}))}];return Ge.useEffect((()=>{t&&(h(!1),f(!1))}),[t]),o.jsxs(o.Fragment,{children:[o.jsxs(me,{isOpen:t,onClose:n,size:"3xl",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsxs(D,{children:[o.jsx(H,{as:"b",fontSize:"xl",children:i("header.export.preview")}),o.jsx($,{hidden:r})]}),o.jsxs(V,{children:[o.jsx(_s,{fields:v}),o.jsxs("svg",{id:"rmp-style-gen-svg",ref:c,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",colorInterpolationFilters:"sRGB",viewBox:"-100 -100 200 200",style:{width:"100%",height:"500",userSelect:"none",touchAction:"none",backgroundColor:"white"},tabIndex:0,children:[u&&["M -1000 0 L 1000 0","M 0 -1000 L 0 1000","M -1000 -1000 L 1000 1000","M 1000 -1000 L -1000 1000"].map(((e,t)=>o.jsx("path",{d:e,fill:"none",stroke:"#C23A30",strokeWidth:"5",strokeLinecap:"round"},t))),p&&o.jsxs("g",{children:[o.jsxs("g",{transform:"translate(-60, 70)",children:[o.jsx("rect",{fill:"#E4002B",width:"21",height:"22.67"}),o.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"19",fill:"white",fontSize:"21.33",letterSpacing:"-1.75",children:"1"}),o.jsx("text",{className:"rmp-name__zh",x:23,y:"12",fontSize:"14.67",children:"号线"}),o.jsx("text",{className:"rmp-name__en",x:25,y:"21.5",fontSize:"8",children:"Line 1"})]}),o.jsxs("g",{transform:"translate(8, 72.5)",children:[o.jsx("rect",{fill:"#c23a30",x:"0",width:32.84375,height:"16",rx:"2"}),o.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:"white",fontSize:"15",letterSpacing:"-1.5",children:"1"}),o.jsx("text",{className:"rmp-name__zh",x:14.84375,y:"8.5",fontSize:"7",fill:"white",children:"号线"}),o.jsx("text",{className:"rmp-name__en",x:16.34375,y:"13.5",fontSize:"4",fill:"white",children:"Line 1"})]})]}),o.jsx("g",{transform:`translate(${s.transform.translateX}, ${s.transform.translateY}) scale(${s.transform.scale}) rotate(${s.transform.rotate})`,children:s.svgs.map((e=>{const t=s.color?[...s.components,s.color]:s.components;return o.jsx(ap,{svgsElem:e,components:t,prefix:[e.id],handlePointerDown:()=>{},handlePointerMove:()=>{},handlePointerUp:()=>{}},e.id)}))})]}),o.jsx("canvas",{ref:d,style:{display:"none"}})]}),o.jsxs(F,{children:[o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",hidden:r,onClick:n,children:i("cancel")}),o.jsx(U,{colorScheme:"blue",variant:"solid",mr:"1",onClick:()=>{m(!0),n()},children:i("header.export.export")}),o.jsx(U,{colorScheme:"blue",variant:"solid",mr:"1",hidden:r,onClick:()=>{const e=(()=>{if(c.current){const e=c.current;return(new XMLSerializer).serializeToString(e)}})();e&&a("/new",{state:{metadata:{name:{en:""},desc:{en:""},param:JSON.stringify(s),type:s.type,svgString:e,id:-1,from:"designer"}}})},children:i("header.export.gallery")})]})]})]}),o.jsx(sp,{isOpen:g,onClose:()=>m(!1),param:s,exportMode:r})]})};function cp(){const{t:e}=et(),t=vh((e=>e.param)),[n,r]=We.useState(!1);return o.jsxs(o.Fragment,{children:[o.jsxs(Se,{id:"download",children:[o.jsx(je,{as:ne,size:"sm",variant:"ghost",icon:o.jsx(Nh,{})}),o.jsxs(Ce,{children:[o.jsx(Oe,{icon:o.jsx(Ih,{}),onClick:()=>{Ku(`RMP-Designer_${(new Date).valueOf()}.json`,"application/json",JSON.stringify(t))},children:e("header.export.download")}),o.jsxs(Oe,{icon:o.jsx(Oh,{}),onClick:()=>r(!0),children:[e("header.export.export")," / ",e("header.export.gallery")]})]})]}),o.jsx(lp,{isOpen:n,onClose:()=>r(!1)})]})}function dp(){const{t:e}=et(),t=mh(),{history:n,undo_history:r}=vh((e=>e.runtime)),a=vh((e=>e.param)),i=lr.getEnv(),s=lr.getAppVersion(),[l,c]=Ge.useState(!1),[d,u]=Ge.useState(!1);return o.jsxs(Cs,{children:[o.jsx(Re,{as:"h4",size:"md",children:e("RMP Designer")}),o.jsx(Yi,{environment:i,version:s}),o.jsxs(ze,{ml:"auto",children:[o.jsx(ne,{size:"sm",variant:"ghost","aria-label":"Undo",icon:o.jsx(Th,{}),isDisabled:0===n.length,onClick:()=>{t(ml(a)),t(eh(n[n.length-1])),t(bl())}}),o.jsx(ne,{size:"sm",variant:"ghost","aria-label":"Redo",icon:o.jsx(Ph,{}),isDisabled:0===r.length,onClick:()=>{t(gl(a)),t(eh(r[r.length-1])),t(vl())}}),o.jsx(Kh,{}),o.jsx(ep,{}),o.jsx(cp,{}),o.jsx(ne,{size:"sm",variant:"ghost","aria-label":"Settings",icon:o.jsx(Rh,{}),onClick:()=>u(!0)}),o.jsx(ne,{size:"sm",variant:"ghost","aria-label":e("Help"),title:e("Help"),icon:o.jsx(kh,{}),onClick:()=>c(!0)})]}),o.jsx(Zh,{isOpen:l,onClose:()=>c(!1)}),o.jsx(tp,{isOpen:d,onClose:()=>u(!1)})]})}const up="rmg-palette-bridge--",hp={position:"relative",h:460,maxH:"70%","& > button":{position:"absolute",right:1,top:1},"& iframe":{h:"100%",w:"100%"}};function pp(e){const{isOpen:t,onClose:n,defaultTheme:r,onSelect:a}=e,[i]=Ge.useState(crypto.randomUUID()),[s,l]=Ge.useState(!1),c="/rmg-palette/#/picker?"+new URLSearchParams({parentComponent:lr.getAppName(),parentId:i}),d=Ge.useRef();return Ge.useEffect((()=>{const e=new BroadcastChannel(up+i);return d.current=e,e.onmessage=e=>{const{event:t,data:r}=e.data;console.log("[rmp] Received event from Palette app clip:",t),"CLOSE"===t?n():"SELECT"===t?a(r):"LOADED"===t&&l(!0)},()=>{e.close()}}),[]),Ge.useEffect((()=>{var e;r&&(null===(e=d.current)||void 0===e||e.postMessage({event:"OPEN",data:r}))}),[s,null==r?void 0:r.toString()]),o.jsxs(Ir,{size:"md",isOpen:t,onClose:n,sx:hp,children:[o.jsx(le,{onClick:n}),o.jsx("iframe",{src:c,loading:"eager"})]})}var fp=(e=>(e.Rect="rect",e.Circle="circle",e.Polygon="polygon",e.Path="path",e.Text="text",e.G="g",e.Any="any",e))(fp||{});const gp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("rect",{fill:"none",stroke:"currentColor",strokeWidth:"1.3",x:"6",y:"7.5",width:"12",height:"10",rx:"2"})}),defaultAttrs:{width:'1"20"',height:'1"10"',rx:'1"2"',ry:'1"2"',opacity:'1"1"',fill:'1"#D6ABC1"'},displayName:"Rectangle"},mp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("circle",{fill:"none",stroke:"currentColor",strokeWidth:"1.3",cx:"12",cy:"12",r:"6.5"})}),defaultAttrs:{r:'1"5"',opacity:'1"1"',fill:'1"#D6ABC1"',stroke:'1"none"',strokeWidth:'1"0"'},displayName:"Circle"},vp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("rect",{x:"6",y:"11",width:"12",height:"2",rx:1,fill:"currentColor"})}),defaultAttrs:{d:'1"M 0 5 L 20 5"',stroke:'1"#D6ABC1"',strokeWidth:'1"5"'},displayName:"Path"},bp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"T"})}),defaultAttrs:{_rmp_children_text:'1"text"',opacity:'1"1"',fill:'1"black"',className:'1"rmp-name__en"',textAnchor:'1"middle"',fontSize:'1"12"'},displayName:"Text"},yp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("polygon",{points:"8,6 16,6 20,13 16,20 8,20 4,13",fill:"none",stroke:"currentColor",strokeWidth:"1.3"})}),defaultAttrs:{points:'1"8,6 16,6 20,13 16,20 8,20 4,13"',fill:'1"#D6ABC1"'},displayName:"Polygon"},xp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsxs("g",{fill:"currentColor",children:[o.jsx("circle",{cx:"8",cy:"12",r:"3"}),o.jsx("rect",{x:"12",y:"9",width:"6",height:"6"})]})}),defaultAttrs:{},displayName:"Group"},wp={icon:o.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:o.jsx("text",{x:"12",y:"16",textAnchor:"middle",fontSize:"10",fill:"currentColor",children:"<>"})}),defaultAttrs:{},displayName:"Any"},_p={[fp.Rect]:gp,[fp.Circle]:mp,[fp.Polygon]:yp,[fp.Path]:vp,[fp.Text]:bp,[fp.G]:xp,[fp.Any]:wp},kp={justifyContent:"flex-start",p:0,w:"100%",h:10},Sp=()=>{const{t:e}=et(),t=mh(),{mode:n}=vh((e=>e.runtime)),r=W("white","var(--chakra-colors-gray-800)"),[a,i]=Ge.useState(!0);return o.jsxs(h,{flexShrink:"0",direction:"column",width:a?250:10,maxWidth:"100%",height:"100%",bg:r,zIndex:"5",transition:"width 0.3s ease-in-out",children:[o.jsx(U,{"aria-label":"Menu",leftIcon:a?o.jsx(Wh,{size:40,transform:"rotate(90)"}):o.jsx(Uh,{size:40,transform:"rotate(90)"}),onClick:()=>{a?i(!1):setTimeout((()=>i(!0)),320)},sx:kp,children:a?e("panel.tools.showLess"):void 0}),o.jsx(h,{direction:"column",overflow:"auto",children:Object.values(fp).map((r=>o.jsx(U,{"aria-label":r,leftIcon:_p[r].icon,onClick:()=>(e=>t(al("free"===n?`svgs-${e}`:"free")))(r),variant:n===`svgs-${r}`?"solid":"outline",sx:kp,children:a?e(_p[r].displayName):void 0},r)))})]})},jp=()=>{const[e,t]=We.useState({width:void 0,height:void 0});return We.useEffect((()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[]),e},Cp="undefined"!=typeof window?Ge.useInsertionEffect||Ge.useLayoutEffect:()=>{};function Op(e){const t=Ge.useRef(Rp);Cp((()=>{t.current=e}),[e]);const n=Ge.useRef(null);return n.current||(n.current=function(){return t.current.apply(this,arguments)}),n.current}function Rp(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}function zp(){var e,t;const n=mh(),r=vh((e=>e.param)),{canvasColor:a}=vh((e=>e.app)),{selected:i,mode:s,active:l,svgViewBoxMin:c,svgViewBoxZoom:d,history:u,undo_history:h}=vh((e=>e.runtime)),p=jp(),f=(null!==(e=p.width)&&void 0!==e?e:720)-40,g=3*((null!==(t=p.height)&&void 0!==t?t:720)-40)/5,[m,v]=Ge.useState({x:0,y:0}),[b,y]=Ge.useState({x:0,y:0}),x="dark"===a?"var(--chakra-colors-gray-800)":"white"===a?"white":"",w=Op((e=>{const{x:t,y:o}=Fu(e);if(s.startsWith("svgs-")){n(al("free"));const e=`id_${Gu(10)}`,{x:a,y:i}=Uu(t,o,d,c),l=s.slice(5),u=structuredClone(_p[l].defaultAttrs),h={id:e,type:l,label:Gu(5),attrs:{x:`1"${Wu(a,1)}"`,y:`1"${Wu(i,1)}"`,...u}};n(gl(r)),n(ih(h))}else"free"===s&&(v({x:t,y:o}),y(c),e.shiftKey||(n(ol("background")),n(rl())))})),_=Op((e=>{const{x:t,y:r}=Fu(e);"background"===l&&n(fl({x:b.x+(m.x-t)*d/100,y:b.y+(m.y-r)*d/100}))})),k=Op((e=>{"background"!==l||e.shiftKey||n(ol(void 0))})),S=Op(((e,t,o)=>{o.stopPropagation();const a=o.currentTarget,{x:s,y:l}=Fu(o);a.setPointerCapture(o.pointerId),v({x:s,y:l}),n(gl(r)),n(ol(e)),o.shiftKey?i.has(e)?n(nl(e)):n(tl(e)):0===t.filter((e=>i.has(e))).length&&n(el(new Set([e])))})),j=Op(((e,t,o)=>{const{x:a,y:c}=Fu(o);o.stopPropagation();const u=e=>0===e.length?[]:e.map((e=>{if(i.has(e.id)){const n=(a-m.x)*d/100,r=(c-m.y)*d/100;if(e.attrs.x||e.attrs.y||!e.attrs.x&&!e.attrs.y&&!e.attrs.transform){const t=void 0!==e.attrs.x&&Number.isNaN(Number(e.attrs.x.slice(2,-1)))?e.attrs.x:`1"${Wu(Number(e.attrs.x?e.attrs.x.slice(2,-1):0)+n,1)}"`,o=void 0!==e.attrs.y&&Number.isNaN(Number(e.attrs.y.slice(2,-1)))?e.attrs.y:`1"${Wu(Number(e.attrs.y?e.attrs.y.slice(2,-1):0)+r,1)}"`;return{...e,attrs:{...e.attrs,x:t,y:o}}}if(e.attrs.transform){var t;const o=((e,t,n)=>{let r=0,o=0,a=0,i=1,s=1,l=0,c=0;const d=e.match(/translate\(([^,]+),([^)]+)\)/);d&&(r=parseFloat(d[1]),o=parseFloat(d[2]));const u=e.match(/rotate\(([^)]+)\)/);u&&(a=parseFloat(u[1]));const h=e.match(/scale\(([^,]+)(?:,([^)]+))?\)/);h&&(i=parseFloat(h[1]),s=h[2]?parseFloat(h[2]):i);const p=e.match(/skewX\(([^)]+)\)/);p&&(l=parseFloat(p[1]));const f=e.match(/skewY\(([^)]+)\)/);return f&&(c=parseFloat(f[1])),r=Wu(r+t,1),o=Wu(o+n,1),`1"translate(${r}, ${o}) rotate(${a}) scale(${i}${i!==s?`, ${s}`:""}) skewX(${l}) skewY(${c})"`})(null!==(t=e.attrs.transform)&&void 0!==t?t:"",n,r);return{...e,attrs:{...e.attrs,transform:o}}}return e}if(e.children&&e.children.length>0){const t=u(e.children);return{...e,children:0!==t.length?t:void 0}}return e}));"free"===s&&l===e&&n(ah(u(r.svgs)))})),C=Op(((e,t,r)=>{n(ol(void 0))})),O=Op((e=>{e.stopPropagation();let t=d;e.deltaY>0&&d+10<400?t=d+10:e.deltaY<0&&d-10>0&&(t=d-10),n(pl(t));const{x:r,y:o}=Fu(e),a=e.currentTarget.getBoundingClientRect(),[i,s]=[r/a.width,o/a.height];n(fl({x:c.x+r*d/100-f*t/100*i,y:c.y+o*d/100-g*t/100*s}))})),R=Op((async e=>{if(Zu?"Backspace"===e.key:"Delete"===e.key){if(i.size>0){const e=t=>t.filter((e=>!i.has(e.id))).map((t=>{const n=t.children?e(t.children):void 0;return{...t,children:n?0===n.length?[]:n:void 0}}));n(gl(r)),n(ah(e(r.svgs))),n(hl()),n(rl())}}else if(e.key.startsWith("Arrow")){const t=100,r=e.key.endsWith("Left")?-1:e.key.endsWith("Right")?1:0,o=e.key.endsWith("Up")?-1:e.key.endsWith("Down")?1:0;n(fl(Uu(t*r,t*o,d,c)))}else"z"===e.key&&(Zu?e.metaKey&&!e.shiftKey:e.ctrlKey)?(Zu&&e.preventDefault(),u.length>0&&(n(ml(r)),n(eh(u[u.length-1])),n(bl()))):"s"===e.key||(Zu&&"z"===e.key&&e.metaKey&&e.shiftKey||!Zu&&"y"===e.key&&e.ctrlKey)&&h.length>0&&(n(gl(r)),n(eh(h[h.length-1])),n(vl()))}));return o.jsxs("svg",{id:"rmp-style-gen-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:f,height:g,viewBox:`${c.x} ${c.y} ${f*d/100} ${g*d/100}`,colorInterpolationFilters:"sRGB",style:{position:"absolute",left:40,userSelect:"none",touchAction:"none",backgroundColor:x},onPointerDown:w,onPointerMove:_,onPointerUp:k,onWheel:O,onKeyDown:R,tabIndex:0,children:[o.jsx("rect",{id:"canvas-x",x:-2e5,y:-1,width:4e5,height:2,fill:"black"}),o.jsx("rect",{id:"canvas-y",x:-1,y:-2e5,width:2,height:4e5,fill:"black"}),r.svgs.map((e=>{const t=r.color?[...r.components,r.color]:r.components;return o.jsx(ap,{svgsElem:e,components:t,prefix:[e.id],handlePointerDown:S,handlePointerMove:j,handlePointerUp:C},e.id)}))]})}class Ep{static hexToRgb(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]}static fade(e,t){return`rgba(${[...this.hexToRgb(e),t].join(",")})`}static euclideanDistance(e,t){return this.hexToRgb(e).reduce(((e,n,r)=>e+Math.pow(n-this.hexToRgb(t)[r],2)),0)}}function Ap(e){var t,n,r;const{isOpen:a,onClose:i}=e,s=mh(),l=vh((e=>e.param)),{paletteAppClip:{output:c}}=vh((e=>e.runtime)),{t:d}=et(),u=l.components.map(((e,t)=>{const{label:n,type:r,defaultValue:o,value:a}=e;return"number"===r||"text"===r?{label:n,type:"input",value:null!=a?a:o,onChange:n=>{s(gl(l)),s(dh({index:t,value:{...e,value:n}}))}}:"switch"===r?{label:n,type:"switch",isChecked:void 0!==a?!!a:o,onChange:n=>{s(gl(l)),s(dh({index:t,value:{...e,value:n}}))}}:"textarea"===r?{label:n,type:"textarea",value:null!=a?a:o,onChange:n=>{s(gl(l)),s(dh({index:t,value:{...e,value:n}}))}}:{type:"input",label:"undefined",value:"none"}})),[h,p]=Ge.useState(!1);Ge.useEffect((()=>{h&&c&&(s(gl(l)),s(oh({...l.color,value:c})),p(!1))}),[null==c?void 0:c.toString()]);const f=null!==(t=null===(n=l.color)||void 0===n?void 0:n.value)&&void 0!==t?t:null===(r=l.color)||void 0===r?void 0:r.defaultValue;return o.jsxs(Es,{isOpen:a,header:"Dummy header",alwaysOverlay:!0,children:[o.jsx(As,{onClose:i,children:d("panel.details.header")}),o.jsxs(Ls,{children:[o.jsx(_s,{fields:u,minW:300}),l.color?o.jsx(us,{label:d("color"),children:o.jsx(ne,{"aria-label":d("color"),color:f[3],bg:f[2],size:"md",_hover:{bg:Ep.fade(f[2],.7)},icon:o.jsx($h,{}),onClick:()=>{p(!0),s(il(f))}})}):void 0]})]})}var Lp;!function(e){e.black="#000",e.white="#fff"}(Lp||(Lp={}));const Mp={text:"text",textarea:"textarea",number:"number",switch:"switch"},Pp={id:"color",label:"color",type:"color",defaultValue:["beijing","bj1","#c23a30",Lp.white]};function Ip(){const e=mh(),t=vh((e=>e.param)),{t:n}=et(),r=[{label:n("panel.common.label"),type:"input",value:t.label,onChange:t=>e(th(t))},{label:n("panel.common.type"),type:"select",options:{MiscNode:"MiscNode",Station:"Station"},value:t.type,onChange:t=>e(rh(t)),minW:100},{label:n("color"),type:"switch",isChecked:!!t.color,onChange:t=>e(oh(t?Pp:void 0))}];return o.jsx(_s,{fields:r})}const Tp=e=>{const{isOpen:t,onClose:n,param:r,path:a,movedElem:i}=e,s=mh(),{t:l}=et(),[c,d]=Ge.useState(void 0),u=(e,t)=>o.jsx(ye,{p:5,width:"100%",children:e.map(((e,r)=>{if(op(e.type)&&[...t,r].toString()!==a.toString())return o.jsxs(ye,{width:"100%",children:[o.jsxs(U,{width:"100%",onClick:()=>{d([...t,r]),n()},children:[o.jsx(H,{as:"span",fontWeight:"bold",children:e.label}),o.jsx(p,{mr:2}),o.jsxs(H,{as:"span",children:["<",e.type,">"]})]}),e.children&&op(e.type)&&u(e.children,[...t,r])]},e.id)}))}),h=(e,t,n)=>{if(n+1>=t.length)return e.filter(((e,r)=>r!==t[n]));const r=h(e[t[n]].children,t,n+1);return e.filter(((e,r)=>r<t[n])).concat([{...e[t[n]],children:r}]).concat(e.filter(((e,r)=>r>t[n])))},f=(e,t,n)=>{if(n+1>=t.length){const r=structuredClone(e);return void 0!==r[t[n]].children?r[t[n]].children.push(i):r[t[n]].children=[i],r}const r=f(e[t[n]].children,t,n+1);return e.filter(((e,r)=>r<t[n])).concat([{...e[t[n]],children:r}]).concat(e.filter(((e,r)=>r>t[n])))};return Ge.useEffect((()=>{if(!t&&void 0!==c){console.log(a,c);const e=0===c.length?r.svgs.concat([i]):f(r.svgs,c,0);console.log(e);const t=h(e,a,0);console.log(t),s(ah(t)),d(void 0)}}),[t]),o.jsxs(me,{isOpen:t,onClose:n,size:"md",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsxs(D,{children:[o.jsx(H,{as:"b",fontSize:"xl",children:"Move"}),o.jsx($,{})]}),o.jsx(V,{width:"100%",children:u(r.svgs,[])}),o.jsx(F,{children:o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",onClick:n,children:l("cancel")})})]})]})},Np=[{type:"text",key:"className",defaultValue:"rmp-name__en",options:{"rmp-name__en":"English","rmp-name__zh":"Chinese","rmp-name__mtr__en":"MTR English","rmp-name__mtr__zh":"MTR Chinese","rmp-name__berlin":"Berlin S/U Bahn","rmp-name__mrt":"Singapore MRT","rmp-name__jreast_ja":"JR East Japanese","rmp-name__jreast_en":"JR East English","rmp-name__tokyo_en":"Tokyo English","rmp-name__tube":"London Tube"}},{type:"text",key:"textAnchor",defaultValue:"start",options:{start:"start",middle:"middle",end:"end"}}];function Bp(){const e=mh(),t=vh((e=>e.param)),{globalAlerts:n,selected:r}=vh((e=>e.runtime)),{t:a}=et(),i=(n,r,o)=>{const a=(e,t,o)=>{if(n>=t.length){const t=n+r;return t>=0&&t<e.length?e.filter(((e,r)=>r<Math.min(n,t))).concat(e[Math.max(n,t)]).concat(e.filter(((e,r)=>r>Math.min(n,t)&&r<Math.max(n,t)))).concat(e[Math.min(n,t)]).concat(e.filter(((e,r)=>r>Math.max(n,t)))):e}const i=a(e[t[o]].children,t,o+1);return e.filter(((e,n)=>n<t[o])).concat([{...e[t[o]],children:i}]).concat(e.filter(((e,n)=>n>t[o])))};e(gl(t)),e(ah(a(t.svgs,o,0)))},s=(n,r,o,a)=>{const i=(e,t,n,r)=>{if(r>=a.length)return"attrs"===t?{...e,attrs:n}:{...e,[t]:n};const o=structuredClone(e.children);return o[a[r]]=i(e.children[a[r]],t,n,r+1),{...e,children:o}},s=structuredClone(t.svgs);s[a[0]]=i(s[a[0]],r,o,1),e(gl(t)),e(ah(s)),e(dl(n))},[l,c]=Ge.useState(!1),[d,u]=Ge.useState([]),[f,g]=Ge.useState(),[m,v]=Ge.useState([]);Ge.useEffect((()=>{const e=t.components.map((e=>({id:e.label,value:e.label})));t.color&&(e.push({id:"color[2]",value:"color[2]"}),e.push({id:"color[3]",value:"color[3]"})),e.push({id:"undefined",value:"undefined"}),v(e)}),[t.components,t.color]);const b=(l,d,h)=>l.toReversed().map(((f,v)=>{const y=l.length-v-1,x=[{label:a("panel.common.label"),type:"input",value:f.label,onChange:e=>s(f.id,"label",e,[...d,y])},{label:a("panel.common.type"),type:"input",value:f.type,onChange:e=>s(f.id,"type",e,[...d,y])},{label:a("panel.svgs.core"),type:"switch",isChecked:!!t.core&&t.core===f.id,onChange:t=>{e(uh(t?f.id:void 0))},hidden:"Station"!==t.type},{label:"",type:"custom",oneLine:!0,component:o.jsxs(o.Fragment,{children:[o.jsx(U,{size:"md",onClick:()=>i(y,1,d),children:o.jsx(Hh,{})}),o.jsx(U,{size:"md",onClick:()=>i(y,-1,d),children:o.jsx(Vh,{})}),o.jsx(U,{size:"md",onClick:()=>{u([...d,y]),g(f),c(!0),e(gl(t))},children:o.jsx(Bh,{})}),o.jsx(U,{size:"md",onClick:()=>((n,r)=>{const o=(e,t)=>{if(t+1>=r.length)return e.filter(((e,n)=>n!==r[t]));const n=o(e[r[t]].children,t+1);return e.filter(((e,n)=>n<r[t])).concat([{...e[r[t]],children:0===n.length?void 0:n}]).concat(e.filter(((e,n)=>n>r[t])))};e(gl(t)),e(ah(o(t.svgs,0))),e(hl())})(f.id,[...d,y]),children:o.jsx(Fh,{})})]})}],w=Object.entries(f.attrs).map((([e,t])=>{const n=t.startsWith("1")?"value":t.startsWith("2")?"var":"advanced",r=((e,t)=>Np.find((n=>n.type===e&&n.key===t)))(f.type,e),i=r?((e,t)=>{const n=Object.entries(e.options).find((([e])=>e===t));return void 0===n?e.defaultValue:n[0]})(r,t.slice(2,-1)):"",l=r?r.options:{},c=(e,t)=>"value"===e?`1"${t.slice(1)}"`:"var"===e?"2undefined":`3${t.slice(1)}`,u=[{label:a("panel.svgs.attrKey"),type:"input",value:e,onChange:n=>{const{[e]:r,...o}=f.attrs;s(f.id,"attrs",{...o,[n]:t},[...d,y])}},{label:a("panel.svgs.attrMode.title"),type:"select",options:{value:a("panel.svgs.attrMode.value"),var:a("panel.svgs.attrMode.var"),advanced:a("panel.svgs.attrMode.advanced")},value:n,onChange:n=>s(f.id,"attrs",{...f.attrs,[e]:c(n,t)},[...d,y])},{label:a("panel.svgs.attrValue"),type:"input",value:"value"===n?t.slice(2,-1):t.slice(1),onChange:t=>s(f.id,"attrs",{...f.attrs,[e]:c(n,"_"+t)},[...d,y]),hidden:"var"===n||"value"===n&&!!r},{label:a("panel.svgs.attrValue"),type:"select",value:i,options:l,onChange:t=>s(f.id,"attrs",{...f.attrs,[e]:c(n,"_"+t)},[...d,y]),hidden:"value"!==n||!r},{label:a("panel.svgs.attrValue"),type:"custom",component:o.jsx(Ii,{data:m,displayHandler:e=>e.value,filter:(e,t)=>t.id.toLowerCase().includes(e.toLowerCase())||Object.values(t.id).some((t=>t.toLowerCase().includes(e.toLowerCase()))),value:t.slice(1),onChange:t=>s(f.id,"attrs",{...f.attrs,[e]:"2"+t.value},[...d,y])}),hidden:"var"!==n},{label:"",type:"custom",oneLine:!0,component:o.jsx(U,{onClick:()=>{const{[e]:t,...n}=f.attrs;s(f.id,"attrs",{...n},[...d,y])},children:"-"})}];return o.jsx(_s,{fields:u},e)})),_=f.children?b(f.children,[...d,y],f.id):[],k=op(f.type)&&0===_.length&&!("_rmp_children_text"in f.attrs)?o.jsx(U,{width:"100%",onClick:()=>s(f.id,"attrs",{...f.attrs,_rmp_children_text:'1"value"'},[...d,y]),children:a("panel.svgs.addTextChildren")}):null;return o.jsxs(Ae,{children:[o.jsxs(Le,{p:2,children:[o.jsx(Me,{isChecked:r.has(f.id)||r.has(h),onChange:t=>{t.stopPropagation(),r.has(f.id)?(e(nl(f.id)),r.has(h)&&e(nl(h))):e(tl(f.id))}}),o.jsx(p,{mr:2}),o.jsxs(p,{as:"span",flex:"1",textAlign:"left",children:[o.jsx(H,{as:"span",fontWeight:"bold",children:f.label})," ",o.jsxs(H,{as:"span",children:["<",f.type,">"]})]}),n.has(f.id)?o.jsx(Lh,{color:"#D9534F",title:n.get(f.id)}):"",o.jsx(Pe,{})]}),o.jsxs(Ie,{children:[o.jsx(_s,{fields:x}),...w,o.jsxs(ze,{width:"100%",pb:2,children:[o.jsx(U,{width:"100%",onClick:()=>s(f.id,"attrs",{...f.attrs,new:'1"value"'},[...d,y]),children:"+"}),k]}),..._]})]},f.id)}));return o.jsxs(o.Fragment,{children:[o.jsxs(h,{width:"100%",height:"100%",direction:"column",overflow:"auto",children:[o.jsx(h,{p:2,children:o.jsx(Re,{fontSize:"x-large",p:2,children:a("panel.svgs.title")})}),o.jsx(p,{width:"100%",height:"100%",overflow:"scroll",children:t.svgs.length>0?o.jsxs(Ee,{width:"100%",allowMultiple:!0,children:[...b(t.svgs,[],"id_@root")]}):o.jsxs(h,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",direction:"column",children:[o.jsxs(H,{textAlign:"center",children:[a("panel.svgs.tipsA1"),o.jsx(U,{size:"sm",variant:"outline",m:1,children:o.jsx(Dh,{})}),a("panel.svgs.tipsA2")]}),o.jsx("br",{}),o.jsxs(H,{textAlign:"center",children:[a("panel.svgs.tipsB1"),o.jsx(U,{size:"sm",variant:"outline",leftIcon:_p[fp.Rect].icon,sx:{justifyContent:"flex-start",p:1,m:1,h:10},children:"Rectangle"}),a("panel.svgs.tipsB2")]})]})})]}),o.jsx(Tp,{isOpen:l,onClose:()=>c(!1),param:t,path:d,movedElem:f})]})}function Dp(){const e=mh(),t=vh((e=>e.param)),{paletteAppClip:{output:n}}=vh((e=>e.runtime)),{t:r}=et(),a=(n,r)=>{const o=n+r;o>=0&&o<t.components.length&&(e(gl(t)),e(sh(t.components.filter(((e,t)=>t<Math.min(n,o))).concat(t.components[Math.max(n,o)]).concat(t.components.filter(((e,t)=>t>Math.min(n,o)&&t<Math.max(n,o)))).concat(t.components[Math.min(n,o)]).concat(t.components.filter(((e,t)=>t>Math.max(n,o)))))))},i=t.components.map(((n,i)=>{const{id:s,label:l,type:c,defaultValue:d}=n,u=[{label:r("panel.common.label"),type:"input",value:l,onChange:r=>{e(gl(t)),e(dh({index:i,value:{...n,label:r.replaceAll(" ","")}})),e(hl())}},{label:r("panel.common.type"),type:"select",options:Mp,value:c,onChange:r=>{e(gl(t)),e(dh({index:i,value:{...n,type:r}}))}},{label:r("panel.components.defaultValue"),type:"input",value:d,onChange:r=>{e(gl(t)),e(dh({index:i,value:{...n,defaultValue:r}}))},hidden:"switch"===c},{label:r("panel.components.defaultValue"),type:"switch",isChecked:d,onChange:r=>{e(gl(t)),e(dh({index:i,value:{...n,defaultValue:r}}))},hidden:"switch"!==c},{label:"",type:"custom",oneLine:!0,component:o.jsxs(o.Fragment,{children:[o.jsx(U,{size:"md",onClick:()=>a(i,-1),children:o.jsx(Hh,{})}),o.jsx(U,{size:"md",onClick:()=>a(i,1),children:o.jsx(Vh,{})}),o.jsx(U,{size:"md",onClick:()=>{e(gl(t)),e(ch(i))},children:o.jsx(Fh,{})})]})}];return o.jsxs(Ae,{children:[o.jsxs(Le,{p:2,children:[o.jsx(p,{as:"span",flex:"1",textAlign:"left",children:l}),o.jsx(Pe,{})]}),o.jsx(Ie,{children:o.jsx(_s,{fields:u})})]},s)})),[s,l]=Ge.useState(!1);return Ge.useEffect((()=>{s&&n&&(e(gl(t)),e(oh({...t.color,defaultValue:n})),l(!1))}),[null==n?void 0:n.toString()]),o.jsxs(h,{width:"100%",height:"100%",direction:"column",overflow:"auto",children:[o.jsxs(h,{p:2,children:[o.jsx(Re,{p:2,fontSize:"x-large",width:"100%",children:r("panel.components.title")}),o.jsx(U,{onClick:()=>{e(gl(t)),e(lh({id:Gu(),label:Gu(),type:"text",defaultValue:"text"}))},children:"+"})]}),o.jsx(p,{width:"100%",height:"100%",overflow:"scroll",children:i.length>0||t.color?o.jsxs(Ee,{width:"100%",allowMultiple:!0,children:[...i,t.color?o.jsxs(Ae,{children:[o.jsxs(Le,{p:2,children:[o.jsx(p,{as:"span",flex:"1",textAlign:"left",children:r("color")}),o.jsx(Pe,{})]}),o.jsx(Ie,{children:o.jsx(us,{label:r("panel.components.defaultColor"),children:o.jsx(ne,{"aria-label":r("color"),color:t.color.defaultValue[3],bg:t.color.defaultValue[2],size:"md",_hover:{bg:Ep.fade(t.color.defaultValue[2],.7)},icon:o.jsx($h,{}),onClick:()=>{var n;l(!0),e(il(null===(n=t.color)||void 0===n?void 0:n.defaultValue))}})})})]},"color"):void 0]}):o.jsx(h,{height:"100%",width:"100%",justifyContent:"center",alignItems:"center",children:o.jsxs(H,{textAlign:"center",children:[r("panel.components.tips1")," ",o.jsx(U,{size:"sm",children:"+"})," ",r("panel.components.tips2")]})})})]})}const $p=e=>{const{isOpen:t,onClose:n,errorList:r}=e,{t:a}=et();return o.jsxs(me,{isOpen:t,onClose:n,size:"2xl",scrollBehavior:"inside",children:[o.jsx(N,{}),o.jsxs(ve,{children:[o.jsx(D,{}),o.jsx(V,{children:o.jsx(Te,{children:o.jsxs(Ne,{variant:"striped",colorScheme:"orange",children:[o.jsx(Be,{children:o.jsxs(De,{children:[o.jsx($e,{children:"Error Code"}),o.jsx($e,{children:"Error Message"})]})}),o.jsx(Ve,{children:r.map(((e,t)=>o.jsxs(De,{children:[o.jsx(He,{children:e[0]}),o.jsx(He,{children:e[1]})]},t)))})]})})}),o.jsx(F,{children:o.jsx(U,{colorScheme:"blue",variant:"outline",mr:"1",onClick:n,children:a("close")})})]})]})},Vp=()=>{var e,t;const{t:n}=et(),r=vh((e=>e.param)),{globalAlerts:a}=vh((e=>e.runtime)),[i,s]=Ge.useState(!1),[l,c]=Ge.useState(!1),[d,u]=Ge.useState(!1),[p,f]=Ge.useState(!1),g=jp(),m=3*((null!==(e=g.height)&&void 0!==e?e:720)-40)/5,[v,b]=Ge.useState([]);return Ge.useEffect((()=>{b(((e,t)=>{const n=[];return"Station"!==t.type||t.core||n.push(["Configuration","A station need to be connected."]),e.forEach(((e,t)=>{n.push([t,e])})),n})(a,r))}),[a,r]),o.jsxs(o.Fragment,{children:[o.jsxs(h,{direction:"row",height:m,overflow:"hidden",sx:{position:"relative"},children:[o.jsx(Sp,{}),o.jsx(zp,{}),o.jsx(Ap,{isOpen:i,onClose:()=>s(!1)})]}),o.jsxs(h,{height:(null!==(t=g.height)&&void 0!==t?t:720)-40-m,direction:"column",overflow:"hidden",children:[o.jsx(h,{p:2,direction:"row",overflow:"hidden",sx:{position:"relative"},children:o.jsxs(ze,{width:"100%",children:[o.jsx(Ip,{}),o.jsxs(U,{onClick:()=>c(!0),isDisabled:v.length>0,children:[n("header.export.export")," / ",n("header.export.gallery")]}),o.jsx(U,{onClick:()=>f(!0),children:n("header.import.gallery")}),v.length>0&&o.jsxs(U,{onClick:()=>u(!0),children:[o.jsx(Ah,{}),v.length]}),o.jsx(Fe,{}),o.jsx(U,{hidden:i,onClick:()=>s(!0),children:n("panel.details.header")})]})}),o.jsxs(h,{direction:"row",height:"100%",overflow:"auto",sx:{position:"relative"},children:[o.jsx(Bp,{}),o.jsx(Dp,{})]})]}),o.jsx(lp,{isOpen:l,onClose:()=>c(!1)}),o.jsx($p,{isOpen:d,onClose:()=>u(!1),errorList:v}),o.jsx(Qh,{isOpen:p,onClose:()=>f(!1)})]})},Hp={name:{en:""},desc:{en:""},type:"MiscNode",svgString:"",param:"",from:"designer",id:-1};var Fp={ar:{ar:"العربية",en:"Arabic",ko:"아랍어","zh-Hans":"阿拉伯文","zh-Hant":"阿拉伯文"},az:{az:"Azərbaycanca",en:"Azerbaijani",ko:"아제르바이잔어","zh-Hans":"阿塞拜疆文","zh-Hant":"阿塞拜疆文"},ca:{ca:"Català",en:"Catalan",ko:"카탈루냐어","zh-Hans":"加泰罗尼亚文","zh-Hant":"加泰隆尼亞文"},da:{da:"Dansk",en:"Danish",ko:"덴마크어","zh-Hans":"丹麦文","zh-Hant":"丹麥文"},de:{de:"Deutsch",en:"German",ko:"독일어","zh-Hans":"德文","zh-Hant":"德文"},el:{el:"Ελληνικά",en:"Greek",ko:"그리스어","zh-Hans":"希腊文","zh-Hant":"希臘文"},en:{en:"English",ja:"英語",ko:"영어","zh-Hans":"英文","zh-Hant":"英文"},es:{en:"Spanish",es:"Español",ko:"스페인어","zh-Hans":"西班牙文","zh-Hant":"西班牙文"},fa:{en:"Persian",fa:"فارسی",ko:"페르시아어","zh-Hans":"波斯文","zh-Hant":"波斯文"},fr:{en:"French",fr:"Français",ko:"프랑스어","zh-Hans":"法文","zh-Hant":"法文"},ga:{en:"Irish",ga:"Gaeilge",ko:"아일랜드어","zh-Hans":"爱尔兰文","zh-Hant":"愛爾蘭文"},gd:{en:"Scottish Gaelic",gd:"Gàidhlig",ko:"스코틀랜드 게일어","zh-Hans":"苏格兰盖尔文","zh-Hant":"蘇格蘭蓋爾文"},hi:{en:"Hindi",hi:"हिन्दी",ko:"힌디어","zh-Hans":"印地文","zh-Hant":"印地文"},hu:{en:"Hungarian",hu:"Magyar",ko:"헝가리어","zh-Hans":"匈牙利文","zh-Hant":"匈牙利文"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"인도네시아어","zh-Hans":"印尼文","zh-Hant":"印尼文"},it:{en:"Italian",it:"Italiano",ko:"이탈리아어","zh-Hans":"意大利文","zh-Hant":"意大利文"},ja:{en:"Japanese",ja:"日本語",ko:"일본어","zh-Hans":"日文","zh-Hant":"日文"},kk:{en:"Kazakh",kk:"Қазақша",ko:"카자흐어","zh-Hans":"哈萨克文","zh-Hant":"哈薩克文"},ko:{en:"Korean",ja:"韓国語",ko:"한국어","zh-Hans":"韩文","zh-Hant":"韓文"},ms:{en:"Malay",ko:"말레이어",ms:"Bahasa Melayu","zh-Hans":"马来文","zh-Hant":"馬來文"},no:{en:"Norwegian",ko:"노르웨이어",no:"Norsk","zh-Hans":"挪威文","zh-Hant":"挪威文"},pl:{en:"Polish",ko:"폴란드어",pl:"Polski","zh-Hans":"波兰文","zh-Hant":"波蘭文"},pt:{en:"Portuguese",ko:"포르투갈어",pt:"Português","zh-Hans":"葡萄牙文","zh-Hant":"葡萄牙文"},ro:{en:"Romanian",ko:"루마니아어",ro:"Română","zh-Hans":"罗马尼亚文","zh-Hant":"羅馬尼亞文"},ru:{en:"Russian",ko:"러시아어",ru:"Русский","zh-Hans":"俄文","zh-Hant":"俄文"},sv:{en:"Swedish",ko:"스웨덴어",sv:"Svenska","zh-Hans":"瑞典文","zh-Hant":"瑞典文"},th:{en:"Thai",ko:"태국어",th:"ภาษาไทย","zh-Hans":"泰文","zh-Hant":"泰文"},tr:{en:"Turkish",ko:"튀르키예어",tr:"Türkçe","zh-Hans":"土耳其文","zh-Hant":"土耳其文"},uk:{en:"Ukrainian",ko:"우크라이나어",uk:"Українська","zh-Hans":"乌克兰文","zh-Hant":"烏克蘭文"},ur:{en:"Urdo",ko:"우르두어",ur:"اردو","zh-Hans":"乌尔都文","zh-Hant":"烏爾都文"},uz:{en:"Uzbek",ko:"우즈베크어",uz:"Oʻzbekcha","zh-Hans":"乌兹别克文","zh-Hant":"烏茲別克文"},vi:{en:"Vietnamese",ko:"베트남어",vi:"Tiếng Việt","zh-Hans":"越南文","zh-Hant":"越南文"},"zh-Hans":{en:"Simplified Chinese",ja:"中国語（簡体字）",ko:"중국어 간체자","zh-Hans":"简体中文","zh-Hant":"簡體中文"},"zh-Hant":{en:"Traditional Chinese",ja:"中国語（繁体字）",ko:"중국어 정체자","zh-Hans":"繁体中文","zh-Hant":"繁體中文"}},Up={en:{},"zh-Hans":{Action:"操作",Apps:"应用程序","Back to list":"返回列表","Background colour":"背景色",Black:"黑",Cancel:"取消",City:"城市",Components:"组件","Configuration file":"配置文件",Confirm:"确定",Continue:"继续","Country/Region":"国家/地区",Copy:"复制",Edit:"编辑","Foreground colour":"前景色","Go back":"返回",Language:"语言/Language",Justification:"理由",Name:"名称",Next:"下一步",Open:"打开",Palette:"调色板","Please select...":"请选择...",Previous:"上一步","Rail Map Generator":"铁路线路图生成器","Rail Map Painter":"地铁线路图绘制器","Rail Map Toolkit":"线路图工具包",Remove:"删除",Reset:"重置","RMG Templates":"RMG 模板","RMP Gallery":"RMP 画廊","RMP Designer":"RMP 设计师","Seed Project":"种子项目",Settings:"设置",Submit:"提交",Translate:"翻译",Upload:"上传",White:"白"},"zh-Hant":{Action:"動作",Apps:"應用程式","Back to list":"返回列表","Background colour":"背景色",Black:"黑",Cancel:"取消",City:"城市",Components:"元件","Configuration file":"設定檔",Confirm:"確定",Continue:"繼續",Copy:"複製","Country/Region":"國家/地區",Edit:"編輯","Foreground colour":"前景色","Go back":"返回",Language:"語言/Language",Justification:"理由",Name:"名稱",Next:"下一步",Open:"開啟",Palette:"調色盤","Please select...":"請選擇...",Previous:"上一步","Rail Map Generator":"鐵路路綫圖產生器","Rail Map Painter":"地鐵路綫圖繪製器","Rail Map Toolkit":"路綫圖工具組",Remove:"移除",Reset:"重設","RMG Templates":"RMG 範本","RMP Gallery":"RMP 畫廊","RMP Designer":"RMP 設計師","Seed Project":"種子項目",Settings:"設定",Submit:"提交",Translate:"翻譯",Upload:"上載",White:"白"},ja:{Language:"言語/Language",Palette:"調色板","Rail Map Generator":"鉄道路線図ジェネレータ","Rail Map Painter":"鉄道路線図画家","Rail Map Toolkit":"路線図ツールキット",Remove:"削除","RMG Templates":"RMG テンプレート","RMP Gallery":"RMP 画廊","RMP Designer":"RMP 図案家"},ko:{Action:"조작",Apps:"앱","Back to list":"다시 목록으로","Background colour":"배경색",Black:"블랙",Cancel:"취소",City:"도시",Components:"요소","Configuration file":"환경 설정 파일",Confirm:"확인",Copy:"복사","Country/Region":"국가/지역",Edit:"편집","Foreground colour":"전경색","Go back":"되돌아가",Language:"언어/Language",Justification:"이유",Name:"명칭",Next:"다음",Open:"열기",Palette:"팔레트","Please select...":"선택해주세요",Previous:"나아가","Rail Map Generator":"철도 노선도 생성기","Rail Map Painter":"지하철 노선도 그리기","Rail Map Toolkit":"노선도 툴킷",Remove:"삭제",Reset:"리셋","RMG Templates":"RMG 템플릿","RMP Gallery":"RMP 갤러리","RMP Designer":"RMP 디자이너","Seed Project":"종자 프로젝트",Settings:"설치",Submit:"제출",Translate:"번역",Upload:"업로드",White:"화이트"}};const Wp={"& > div:first-of-type":{flex:1}};function Gp(e){const{inputType:t,translations:n,onUpdate:r,onLangSwitch:a,onRemove:i}=e,{t:s}=et(),l=function(){const{i18n:e}=et();return t=>{var n,r;return null!==(n=null!==(r=e.languages.map((e=>t[e])).find((e=>void 0!==e)))&&void 0!==r?r:t.en)&&void 0!==n?n:"(Translation Error)"}}(),c=(e,o)=>[{type:"select",label:s("multiLangEntry.lang"),value:e,options:Object.entries(Fp).reduce(((e,t)=>({...e,[t[0]]:l(t[1])})),{}),disabledOptions:n.filter((t=>t[0]!==e)).map((e=>e[0])),onChange:t=>a(e,t)},{type:t,label:s("multiLangEntry.name"),value:o,onChange:t=>r(e,t)}],d=()=>{const e=Object.keys(Fp).filter((e=>!n.find((t=>t[0]===e))))[0];r(e,"")};return o.jsx(Di,{direction:"column",children:n.map((([e,t],n,r)=>o.jsxs(ze,{sx:Wp,children:[o.jsx(_s,{fields:c(e,t),noLabel:n>0}),n===r.length-1?o.jsx(ne,{size:"sm",variant:"ghost","aria-label":s("multiLangEntry.add"),title:s("multiLangEntry.add"),onClick:d,icon:o.jsx(Mh,{})}):o.jsx(p,{minW:8}),r.length>1&&o.jsx(ne,{size:"sm",variant:"ghost","aria-label":s("multiLangEntry.remove"),title:s("multiLangEntry.remove"),onClick:()=>i(e),icon:o.jsx(_h,{})})]},n)))})}const Zp={px:2,pt:2,width:{base:"100%",md:520},alignSelf:"center","& > div:first-of-type":{flexDirection:"column",flex:1,overflowY:"auto"},"& > div:nth-of-type(2)":{my:2}};function Kp(){var e,t;const{state:n}=nt(),r=tt(),a=ke(),{login:i}=vh((e=>e.app)),{t:s}=et(),l=()=>r("/"),[c,d]=Ge.useState(Hp);Ge.useEffect((()=>{if(n&&n.metadata){const e=n.metadata;"designer"===e.from?d(n.metadata):(d({...c,id:Number(e.id)}),""!==c.svgString&&""!==c.param||d({...c,svgString:e.svgString,param:e.param,type:e.type}),""===c.name.en&&""===c.desc.en&&d({...c,name:e.name,desc:e.desc}))}}),[n]);const u=null!==(e=null===(t=c.name.en)||void 0===t?void 0:t.replace(/[^A-Za-z0-9]/g,"").toLowerCase())&&void 0!==e?e:"",[p,f]=Ge.useState(!1),[g,m]=Ge.useState(!1),v=[{type:"input",value:c.id.toString(),label:"replacing work ID",onChange:e=>d({...c,id:Number(e)}),hidden:-1===c.id},{type:"custom",label:"",component:o.jsx(U,{onClick:()=>d({...c,id:-1}),children:s("ticket.new")}),hidden:-1===c.id},{type:"custom",label:"",component:o.jsx(U,{onClick:()=>{d({...c,id:1}),m(!0)},children:s("ticket.replace")}),hidden:-1!==c.id}];return o.jsxs(Os,{sx:Zp,children:[o.jsxs(h,{children:[o.jsx(Re,{as:"h5",size:"lg",children:s("ticket.title")}),o.jsx(Re,{as:"h5",size:"md",children:s("ticket.infoSection")}),o.jsx("div",{dangerouslySetInnerHTML:{__html:c.svgString}}),o.jsx(U,{onClick:l,children:s("ticket.change")}),o.jsx(us,{label:s("ticket.cityName"),children:o.jsx(Gp,{inputType:"input",translations:Object.entries(c.name),onUpdate:(e,t)=>d({...c,name:{...c.name,[e]:t}}),onLangSwitch:(e,t)=>{const n=structuredClone(c);n.name[t]=n.name[e],delete n.name[e],d(n)},onRemove:e=>{const t=structuredClone(c);delete t.name[e],d(t)}})}),o.jsx(us,{label:s("ticket.description"),children:o.jsx(Gp,{inputType:"textarea",translations:Object.entries(c.desc),onUpdate:(e,t)=>d({...c,desc:{...c.desc,[e]:t}}),onLangSwitch:(e,t)=>{const n=structuredClone(c);n.desc[t]=n.desc[e],delete n.desc[e],d(n)},onRemove:e=>{const t=structuredClone(c);delete t.desc[e],d(t)}})}),o.jsx(Re,{as:"h5",size:"md",children:s("ticket.operationSection")}),o.jsx(_s,{fields:v})]}),o.jsxs(h,{children:[o.jsx(U,{onClick:l,children:s("ticket.back")}),o.jsx(ze,{ml:"auto",children:o.jsx(U,{colorScheme:"primary",isDisabled:""===c.svgString||Object.keys(c.desc).length>0&&!("en"in c.desc)||""===u,onClick:async()=>{if(!i)return;f(!0);const e={data:c.param,hash:await Xu(c.param),name:JSON.stringify(c.name),desc:JSON.stringify(c.desc),type:c.type,svg:Ju(c.svgString)},t=-1===c.id?await fetch(_l+"/designer/public",{method:"POST",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${i.token}`},body:JSON.stringify(e)}):await fetch(`${_l}/designer/public/${c.id}`,{method:"PATCH",headers:{accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${i.token}`},body:JSON.stringify(e)});if(f(!1),201===t.status||200===t.status)a({title:"Done!",status:"success",duration:9e3,isClosable:!0}),l();else{const e=await t.json();a({title:`Failed: ${t.status} ${t.statusText} ${e.message}`,status:"error",duration:9e3,isClosable:!0})}},isLoading:p,children:s("ticket.submit")})})]}),o.jsx(Qh,{isOpen:g,onClose:()=>m(!1)})]})}const Yp=()=>o.jsx(lp,{isOpen:!0,onClose:()=>{},exportMode:!0}),Jp=new BroadcastChannel("RMP_GALLERY_CHANNEL");function Xp(){const e=tt(),t=rt("/new"),n=mh(),{paletteAppClip:{input:r}}=vh((e=>e.runtime));return Ge.useEffect((()=>{const e=localStorage.getItem("rmg-home__account"),t=e?JSON.parse(e):void 0;n(Xs(t))}),[localStorage.getItem("rmg-home__account")]),Ge.useEffect((()=>{const r=r=>{const{event:o,data:a}=r.data;if("OPEN_DESIGNER"===o)(async e=>{const t=JSON.parse(await xl(e));n(rl()),n(eh(t))})(a);else if("NEW_DESIGNER"===o){const n=t?"ticket":"designer";e("/new",{state:{metadata:{name:a.name,desc:a.desc,param:a.data,type:a.type,svgString:a.svg,id:a.id,from:n}}})}};return"complete"===document.readyState?wh():window.addEventListener("load",wh),Jp.addEventListener("message",r),()=>{Jp.removeEventListener("message",r),window.removeEventListener("load",wh)}}),[]),o.jsx(Gs,{children:o.jsx(js,{children:o.jsxs(Os,{children:[o.jsxs(ot,{children:[o.jsx(at,{path:"/",element:o.jsxs(ls,{allowReset:!0,children:[o.jsx(dp,{}),o.jsx(Vp,{})]})}),o.jsx(at,{path:"/new",element:o.jsx(ls,{children:o.jsx(Kp,{})})}),o.jsx(at,{path:"/export",element:o.jsx(ls,{children:o.jsx(Yp,{})})})]}),o.jsx(pp,{isOpen:!!r,onClose:()=>n(sl()),defaultTheme:r,onSelect:e=>n(ll(e))})]})})})}const qp={color:"Color",warning:"Warning",cancel:"Cancel",apply:"Apply",remove:"Remove",close:"Close",header:{about:{title:"About RMP Designer",intro:"A RMP master node designer, enabling the addition of any SVG to RMP."},import:{new:"New",pasteSVG:"Paste SVG",uploadParam:"Upload project",uploadSVG:"Upload SVG",gallery:"Import from gallery"},export:{preview:"Preview",showLines:"Show RMP lines",showBadges:"Show RMP badges",offsetX:"Offset X",offsetY:"Offset Y",scale:"Scale",rotate:"Rotate",export:"Export to RMP",download:"Download",gallery:"Publish to gallery"},settings:{title:"Settings",canvasBackground:{label:"Canvas background color",auto:"Automatic",white:"Light",dark:"Dark"}}},panel:{tools:{showLess:"Show less"},details:{header:"RMP Details Panel"},svgs:{title:"SVG Components",core:"Connectable",attrKey:"Attributes key",attrValue:"Attributes value",addTextChildren:"Add text content",attrMode:{title:"Attributes mode",value:"Value",var:"Variable",advanced:"Advanced"},tipsA1:"Click the upper right corner",tipsA2:"to upload your SVG graphic",tipsB1:"Click left side icon",tipsB2:"and then click the canvas to add a SVG component."},components:{title:"Variables",defaultValue:"Default value",defaultColor:"Default color",tips1:"Click",tips2:"to add a variable."},common:{type:"Type",label:"Label"}},ticket:{title:"Uploading to gallery",infoSection:"Basic information",operationSection:"New or replacement",cityName:"Work name (English required)",description:"Description (Optional, English required)",change:"Change work in designer",replace:"Replace a existing work",new:"As a new work",back:"Back",submit:"Submit",submitTemplate:"Submit work"},multiLangEntry:{lang:"Language",name:"Name",add:"Add a name in another language",remove:"Remove this name"}},Qp={color:"颜色",warning:"警告",cancel:"取消",apply:"应用",remove:"移除",close:"关闭",header:{about:{title:"关于 RMP 设计器",intro:"一个 RMP 大师节点设计器，支持将任何 SVG 添加到 RMP。"},import:{new:"新建项目",pasteSVG:"粘贴 SVG",uploadParam:"上传项目",uploadSVG:"上传 SVG",gallery:"从画廊导入"},export:{preview:"预览",showLines:"显示 RMP 线段",showBadges:"显示 RMP 标识",offsetX:"偏移 X",offsetY:"偏移 Y",scale:"缩放",rotate:"旋转",export:"导出到 RMP",download:"下载",gallery:"发布到画廊"},settings:{title:"设置",canvasBackground:{label:"画布背景颜色",auto:"自动",white:"浅色",dark:"深色"}}},panel:{tools:{showLess:"显示更少"},details:{header:"RMP 详情面板"},svgs:{title:"SVG 组件",core:"可被连接",attrKey:"属性键",attrValue:"属性值",addTextChildren:"添加文本内容",attrMode:{title:"属性模式",value:"值",var:"变量",advanced:"高级"},tipsA1:"点击右上角的",tipsA2:"以上传你的 SVG 图形",tipsB1:"点击左侧的图标",tipsB2:"再点击画布以添加一个 SVG 组件"},components:{title:"变量",defaultValue:"默认值",defaultColor:"默认颜色",tips1:"点击",tips2:"以添加一个变量"},common:{type:"类型",label:"标签"}},ticket:{title:"上传至画廊",infoSection:"基本信息",operationSection:"新建或替换",cityName:"作品名称（需要英文）",description:"描述（可选，需英文）",change:"在设计器中更改作品",replace:"替换现有作品",new:"作为新作品",back:"返回",submit:"提交",submitTemplate:"提交作品"},multiLangEntry:{lang:"语言",name:"名称",add:"添加其他语言的名称",remove:"移除此名称"}},ef={color:"顏色",warning:"警告",cancel:"取消",apply:"應用",remove:"移除",close:"關閉",header:{about:{title:"關於 RMP 設計器",intro:"一個 RMP 大師節點設計器，支持將任何 SVG 添加到 RMP。"},import:{new:"新建項目",pasteSVG:"粘貼 SVG",uploadParam:"上傳項目",uploadSVG:"上傳 SVG",gallery:"從畫廊導入"},export:{preview:"預覽",showLines:"顯示 RMP 線段",showBadges:"顯示 RMP 標識",offsetX:"偏移 X",offsetY:"偏移 Y",scale:"縮放",rotate:"旋轉",export:"匯出到 RMP",download:"下載",gallery:"發佈到畫廊"},settings:{title:"設定",canvasBackground:{label:"畫布背景顏色",auto:"自動",white:"淺色",dark:"深色"}}},panel:{tools:{showLess:"顯示更少"},details:{header:"RMP 詳情面板"},svgs:{title:"SVG 組件",core:"可被連接",attrKey:"屬性鍵",attrValue:"屬性值",addTextChildren:"添加文本內容",attrMode:{title:"屬性模式",value:"值",var:"變量",advanced:"高級"},tipsA1:"點擊右上角的",tipsA2:"以上傳你的 SVG 圖形",tipsB1:"點擊左側的圖標",tipsB2:"再點擊畫布以添加一個 SVG 組件"},components:{title:"變量",defaultValue:"默認值",defaultColor:"默認顏色",tips1:"點擊",tips2:"以添加一個變量"},common:{type:"類型",label:"標籤"}},ticket:{title:"上傳至畫廊",infoSection:"基本信息",operationSection:"新建或替換",cityName:"作品名稱（需要英文）",description:"描述（可選，需英文）",change:"在設計器中更改作品",replace:"替換現有作品",new:"作為新作品",back:"返回",submit:"提交",submitTemplate:"提交作品"},multiLangEntry:{lang:"語言",name:"名稱",add:"添加其他語言的名稱",remove:"移除此名稱"}},tf={color:"カラー",warning:"警告",cancel:"キャンセル",apply:"適用",remove:"削除",close:"閉じる",header:{about:{title:"RMP デザイナーについて",intro:"RMPマスターノードデザイナーで、RMPに任意のSVGを追加することができます。"},import:{new:"新規",pasteSVG:"SVGを貼り付け",uploadParam:"プロジェクトをアップロード",uploadSVG:"SVGをアップロード",gallery:"ギャラリーからインポート"},export:{preview:"プレビュー",showLines:"RMPラインを表示",showBadges:"RMPバッジを表示",offsetX:"オフセットX",offsetY:"オフセットY",scale:"スケール",rotate:"回転",export:"RMP にエクスポート",download:"ダウンロード",gallery:"ギャラリーに公開"},settings:{title:"設定",canvasBackground:{label:"キャンバス背景色",auto:"自動",white:"ライト",dark:"ダーク"}}},panel:{tools:{showLess:"少なく表示"},details:{header:"RMP詳細パネル"},svgs:{title:"SVGコンポーネント",core:"接続可能",attrKey:"属性キー",attrValue:"属性値",addTextChildren:"テキストコンテンツを追加",attrMode:{title:"属性モード",value:"値",var:"変数",advanced:"高度"},tipsA1:"右上隅をクリック",tipsA2:"して、SVGグラフィックをアップロードします",tipsB1:"左側のアイコンをクリック",tipsB2:"して、キャンバスをクリックしてSVGコンポーネントを追加します"},components:{title:"変数",defaultValue:"デフォルト値",defaultColor:"デフォルト色",tips1:"クリックしてください",tips2:"変数を追加します。"},common:{type:"タイプ",label:"ラベル"}},ticket:{title:"ギャラリーにアップロード",infoSection:"基本情報",operationSection:"新規または置換",cityName:"作品名（英語が必要）",description:"説明（任意、英語が必要）",change:"デザイナーで作品を変更",replace:"既存の作品を置換",new:"新しい作品として",back:"戻る",submit:"送信",submitTemplate:"作品を送信"},multiLangEntry:{lang:"言語",name:"名前",add:"他の言語で名前を追加",remove:"この名前を削除"}},nf={color:"색깔",warning:"경고",cancel:"취소",apply:"사용",remove:"삭제",close:"다시",header:{about:{title:"RMP 디자이너 소개",intro:"RMP 마스터 노드 디자이너로, RMP에 어떤 SVG든 추가할 수 있습니다."},import:{new:"새로 만들기",pasteSVG:"SVG 붙여넣기",uploadParam:"프로젝트 업로드",uploadSVG:"SVG 업로드",gallery:"갤러리에서 가져오기"},export:{preview:"미리보기",showLines:"RMP 라인 표시",showBadges:"RMP 배지 표시",offsetX:"오프셋 X",offsetY:"오프셋 Y",scale:"크기 조정",rotate:"회전",export:"RMP로 내보내기",download:"다운로드",gallery:"갤러리에 게시"},settings:{title:"설정",canvasBackground:{label:"캔버스 배경색",auto:"자동",white:"밝은",dark:"어두운"}}},panel:{tools:{showLess:"간단히 보기"},details:{header:"RMP 세부 정보 패널"},svgs:{title:"SVG 구성 요소",core:"연결 가능",attrKey:"속성 키",attrValue:"속성 값",addTextChildren:"텍스트 콘텐츠 추가",attrMode:{title:"속성 모드",value:"값",var:"변수",advanced:"고급"},tipsA1:"오른쪽 상단을 클릭하세요",tipsA2:"SVG 그래픽을 업로드하려면",tipsB1:"왼쪽 아이콘을 클릭하세요",tipsB2:"그런 다음 캔버스를 클릭하여 SVG 구성 요소를 추가하세요"},components:{title:"변수",defaultValue:"기본 값",defaultColor:"기본 색상",tips1:"클릭하세요",tips2:"변수를 추가하려면."},common:{type:"유형",label:"라벨"}},ticket:{title:"갤러리에 업로드",infoSection:"기본 정보",operationSection:"새로 만들기 또는 교체",cityName:"작품 이름(영어 필수)",description:"설명(선택 사항, 영어 필수)",change:"디자이너에서 작품 변경",replace:"기존 작품 교체",new:"새로운 작품으로",back:"뒤로",submit:"제출",submitTemplate:"작품 제출"},multiLangEntry:{lang:"언어",name:"이름",add:"다른 언어로 이름 추가",remove:"이 이름 제거"}},rf=(new lr.I18nBuilder).use(it).withAppName("RMP Designer").withLng(lr.getLanguage()).withDefaultResource(Up).withResource("en",qp).withResource("zh-Hans",Qp).withResource("zh-Hant",ef).withResource("ja",tf).withResource("ko",nf).build();let of;lr.ready().then((()=>{of=cr(document.getElementById("root")),of.render(o.jsx(We.StrictMode,{children:o.jsx(st,{store:gh,children:o.jsx(lt,{i18n:rf,children:o.jsx(ct,{children:o.jsx(Xp,{})})})})})),lr.injectUITools(),lr.event(jl.APP_LOAD,{})}));const af=localStorage.getItem("rmp-designer__app"),sf=localStorage.getItem("rmp-designer__param"),lf=localStorage.getItem("rmg-home__account");null!==af&&gh.dispatch(Ys(JSON.parse(af))),null!==lf&&gh.dispatch(Xs(JSON.parse(lf))),xl(sf).then((e=>{gh.dispatch(eh(JSON.parse(e)))}))}}}));
